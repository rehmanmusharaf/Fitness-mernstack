/*! For license information please see main.47475a1d.js.LICENSE.txt */
(()=>{var e={9589:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(5043),a=(o(r),o(n(5173))),s=o(n(7668));o(n(6440));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=1073741823;t.default=function(e,t){var n,o,d="__create-react-context-"+(0,s.default)()+"__",p=function(e){function n(){var t,r;i(this,n);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return t=r=c(this,e.call.apply(e,[this].concat(s))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(r.props.value),c(r,t)}return l(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,a=void 0;((s=n)===(o=r)?0!==s||1/s===1/o:s!==s&&o!==o)?a=0:(a="function"===typeof t?t(n,r):u,0!==(a|=0)&&this.emitter.set(e.value,a))}var s,o},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[d]=a.default.object.isRequired,n);var h=function(t){function n(){var e,r;i(this,n);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=r=c(this,t.call.apply(t,[this].concat(s))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return l(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((o={})[d]=a.default.object,o),{Provider:p,Consumer:h}},e.exports=t.default},6947:(e,t,n)=>{"use strict";t.__esModule=!0;var r=s(n(5043)),a=s(n(9589));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||a.default,e.exports=t.default},2028:(e,t,n)=>{"use strict";var r=n(2),a=n(1712),s=a(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&s(e,".prototype.")>-1?a(n):n}},1712:(e,t,n)=>{"use strict";var r=n(3864),a=n(2),s=n(5438),o=n(2521),i=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),l=a("%Reflect.apply%",!0)||r.call(c,i),u=n(2090),d=a("%Math.max%");e.exports=function(e){if("function"!==typeof e)throw new o("a function is required");var t=l(r,c,arguments);return s(t,1+d(0,e.length-(arguments.length-1)),!0)};var p=function(){return l(r,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},3249:function(e,t){var n,r;r=this,n=function(){return r.Chartist=function(){var e={version:"0.10.0"};return function(e,t,n){"use strict";n.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n.noop=function(e){return e},n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},n.extend=function(e){var t,r,a;for(e=e||{},t=1;t<arguments.length;t++)for(var s in r=arguments[t])a=r[s],e[s]="object"!==typeof a||null===a||a instanceof Array?a:n.extend(e[s],a);return e},n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n.ensureUnit=function(e,t){return"number"===typeof e&&(e+=t),e},n.quantity=function(e){if("string"===typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},n.times=function(e){return Array.apply(null,new Array(e))},n.sum=function(e,t){return e+(t||0)},n.mapMultiply=function(e){return function(t){return t*e}},n.mapAdd=function(e){return function(t){return t+e}},n.serialMap=function(e,t){var r=[],a=Math.max.apply(null,e.map((function(e){return e.length})));return n.times(a).forEach((function(n,a){var s=e.map((function(e){return e[a]}));r[a]=t.apply(null,s)})),r},n.roundWithPrecision=function(e,t){var r=Math.pow(10,t||n.precision);return Math.round(e*r)/r},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(e){return null===e||void 0===e?e:("number"===typeof e?e=""+e:"object"===typeof e&&(e=JSON.stringify({data:e})),Object.keys(n.escapingMap).reduce((function(e,t){return n.replaceAll(e,t,n.escapingMap[t])}),e))},n.deserialize=function(e){if("string"!==typeof e)return e;e=Object.keys(n.escapingMap).reduce((function(e,t){return n.replaceAll(e,n.escapingMap[t],t)}),e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(t){}return e},n.createSvg=function(e,t,r,a){var s;return t=t||"100%",r=r||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter((function(e){return e.getAttributeNS(n.namespaces.xmlns,"ct")})).forEach((function(t){e.removeChild(t)})),s=new n.Svg("svg").attr({width:t,height:r}).addClass(a).attr({style:"width: "+t+"; height: "+r+";"}),e.appendChild(s._node),s},n.normalizeData=function(e,t,r){var a,s={raw:e,normalized:{}};return s.normalized.series=n.getDataArray({series:e.series||[]},t,r),a=s.normalized.series.every((function(e){return e instanceof Array}))?Math.max.apply(null,s.normalized.series.map((function(e){return e.length}))):s.normalized.series.length,s.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(s.normalized.labels,n.times(Math.max(0,a-s.normalized.labels.length)).map((function(){return""}))),t&&n.reverseData(s.normalized),s},n.safeHasProperty=function(e,t){return null!==e&&"object"===typeof e&&e.hasOwnProperty(t)},n.isDataHoleValue=function(e){return null===e||void 0===e||"number"===typeof e&&isNaN(e)},n.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"===typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},n.getDataArray=function(e,t,r){function a(e){if(n.safeHasProperty(e,"value"))return a(e.value);if(n.safeHasProperty(e,"data"))return a(e.data);if(e instanceof Array)return e.map(a);if(!n.isDataHoleValue(e)){if(r){var t={};return"string"===typeof r?t[r]=n.getNumberOrUndefined(e):t.y=n.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y,t}return n.getNumberOrUndefined(e)}}return e.series.map(a)},n.normalizePadding=function(e,t){return t=t||0,"number"===typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"===typeof e.top?e.top:t,right:"number"===typeof e.right?e.right:t,bottom:"number"===typeof e.bottom?e.bottom:t,left:"number"===typeof e.left?e.left:t}},n.getMetaData=function(e,t){var n=e.data?e.data[t]:e[t];return n?n.meta:void 0},n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},n.projectLength=function(e,t,n){return t/n.range*e},n.getAvailableHeight=function(e,t){return Math.max((n.quantity(t.height).value||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},n.getHighLow=function(e,t,r){var a={high:void 0===(t=n.extend({},t,r?t["axis"+r.toUpperCase()]:{})).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},s=void 0===t.high,o=void 0===t.low;function i(e){if(void 0!==e)if(e instanceof Array)for(var t=0;t<e.length;t++)i(e[t]);else{var n=r?+e[r]:+e;s&&n>a.high&&(a.high=n),o&&n<a.low&&(a.low=n)}}return(s||o)&&i(e),(t.referenceValue||0===t.referenceValue)&&(a.high=Math.max(t.referenceValue,a.high),a.low=Math.min(t.referenceValue,a.low)),a.high<=a.low&&(0===a.low?a.high=1:a.low<0?a.high=0:(a.high>0||(a.high=1),a.low=0)),a},n.isNumeric=function(e){return null!==e&&isFinite(e)},n.isFalseyButZero=function(e){return!e&&0!==e},n.getNumberOrUndefined=function(e){return n.isNumeric(e)?+e:void 0},n.isMultiValue=function(e){return"object"===typeof e&&("x"in e||"y"in e)},n.getMultiValue=function(e,t){return n.isMultiValue(e)?n.getNumberOrUndefined(e[t||"y"]):n.getNumberOrUndefined(e)},n.rho=function(e){if(1===e)return e;function t(e,n){return e%n===0?n:t(n,e%n)}function n(e){return e*e+1}var r,a=2,s=2;if(e%2===0)return 2;do{a=n(a)%e,s=n(n(s))%e,r=t(Math.abs(a-s),e)}while(1===r);return r},n.getBounds=function(e,t,r,a){var s,o,i,c=0,l={high:t.high,low:t.low};l.valueRange=l.high-l.low,l.oom=n.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var u=n.projectLength(e,l.step,l)<r,d=a?n.rho(l.range):0;if(a&&n.projectLength(e,1,l)>=r)l.step=1;else if(a&&d<l.step&&n.projectLength(e,d,l)>=r)l.step=d;else for(;;){if(u&&n.projectLength(e,l.step,l)<=r)l.step*=2;else{if(u||!(n.projectLength(e,l.step/2,l)>=r))break;if(l.step/=2,a&&l.step%1!==0){l.step*=2;break}}if(c++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var p=2221e-19;function h(e,t){return e===(e+=t)&&(e*=1+(t>0?p:-p)),e}for(l.step=Math.max(l.step,p),o=l.min,i=l.max;o+l.step<=l.low;)o=h(o,l.step);for(;i-l.step>=l.high;)i=h(i,-l.step);l.min=o,l.max=i,l.range=l.max-l.min;var f=[];for(s=l.min;s<=l.max;s=h(s,l.step)){var m=n.roundWithPrecision(s);m!==f[f.length-1]&&f.push(m)}return l.values=f,l},n.polarToCartesian=function(e,t,n,r){var a=(r-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}},n.createChartRect=function(e,t,r){var a=!(!t.axisX&&!t.axisY),s=a?t.axisY.offset:0,o=a?t.axisX.offset:0,i=e.width()||n.quantity(t.width).value||0,c=e.height()||n.quantity(t.height).value||0,l=n.normalizePadding(t.chartPadding,r);i=Math.max(i,s+l.left+l.right),c=Math.max(c,o+l.top+l.bottom);var u={padding:l,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return a?("start"===t.axisX.position?(u.y2=l.top+o,u.y1=Math.max(c-l.bottom,u.y2+1)):(u.y2=l.top,u.y1=Math.max(c-l.bottom-o,u.y2+1)),"start"===t.axisY.position?(u.x1=l.left+s,u.x2=Math.max(i-l.right,u.x1+1)):(u.x1=l.left,u.x2=Math.max(i-l.right-s,u.x1+1))):(u.x1=l.left,u.x2=Math.max(i-l.right,u.x1+1),u.y2=l.top,u.y1=Math.max(c-l.bottom,u.y2+1)),u},n.createGrid=function(e,t,r,a,s,o,i,c){var l={};l[r.units.pos+"1"]=e,l[r.units.pos+"2"]=e,l[r.counterUnits.pos+"1"]=a,l[r.counterUnits.pos+"2"]=a+s;var u=o.elem("line",l,i.join(" "));c.emit("draw",n.extend({type:"grid",axis:r,index:t,group:o,element:u},l))},n.createGridBackground=function(e,t,n,r){var a=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0);r.emit("draw",{type:"gridBackground",group:e,element:a})},n.createLabel=function(e,t,r,a,s,o,i,c,l,u,d){var p,h={};if(h[s.units.pos]=e+i[s.units.pos],h[s.counterUnits.pos]=i[s.counterUnits.pos],h[s.units.len]=t,h[s.counterUnits.len]=Math.max(0,o-10),u){var f='<span class="'+l.join(" ")+'" style="'+s.units.len+": "+Math.round(h[s.units.len])+"px; "+s.counterUnits.len+": "+Math.round(h[s.counterUnits.len])+'px">'+a[r]+"</span>";p=c.foreignObject(f,n.extend({style:"overflow: visible;"},h))}else p=c.elem("text",h,l.join(" ")).text(a[r]);d.emit("draw",n.extend({type:"label",axis:s,index:r,group:c,element:p,text:a[r]},h))},n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var r=t.series[e.name];return r.hasOwnProperty(n)?r[n]:t[n]}return t[n]},n.optionsProvider=function(t,r,a){var s,o,i=n.extend({},t),c=[];function l(t){var c=s;if(s=n.extend({},i),r)for(o=0;o<r.length;o++)e.matchMedia(r[o][0]).matches&&(s=n.extend(s,r[o][1]));a&&t&&a.emit("optionsChanged",{previousOptions:c,currentOptions:s})}function u(){c.forEach((function(e){e.removeListener(l)}))}if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(r)for(o=0;o<r.length;o++){var d=e.matchMedia(r[o][0]);d.addListener(l),c.push(d)}return l(),{removeMediaQueryListeners:u,getCurrentOptions:function(){return n.extend({},s)}}},n.splitIntoSegments=function(e,t,r){var a={increasingX:!1,fillHoles:!1};r=n.extend({},a,r);for(var s=[],o=!0,i=0;i<e.length;i+=2)void 0===n.getMultiValue(t[i/2].value)?r.fillHoles||(o=!0):(r.increasingX&&i>=2&&e[i]<=e[i-2]&&(o=!0),o&&(s.push({pathCoordinates:[],valueData:[]}),o=!1),s[s.length-1].pathCoordinates.push(e[i],e[i+1]),s[s.length-1].valueData.push(t[i/2]));return s}}(window,document,e),function(e,t,n){"use strict";n.Interpolation={},n.Interpolation.none=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function(t,r){for(var a=new n.Svg.Path,s=!0,o=0;o<t.length;o+=2){var i=t[o],c=t[o+1],l=r[o/2];void 0!==n.getMultiValue(l.value)?(s?a.move(i,c,!1,l):a.line(i,c,!1,l),s=!1):e.fillHoles||(s=!0)}return a}},n.Interpolation.simple=function(e){var t={divisor:2,fillHoles:!1};e=n.extend({},t,e);var r=1/Math.max(1,e.divisor);return function(t,a){for(var s,o,i,c=new n.Svg.Path,l=0;l<t.length;l+=2){var u=t[l],d=t[l+1],p=(u-s)*r,h=a[l/2];void 0!==h.value?(void 0===i?c.move(u,d,!1,h):c.curve(s+p,o,u-p,d,u,d,!1,h),s=u,o=d,i=h):e.fillHoles||(s=u=i=void 0)}return c}},n.Interpolation.cardinal=function(e){var t={tension:1,fillHoles:!1};e=n.extend({},t,e);var r=Math.min(1,Math.max(0,e.tension)),a=1-r;return function t(s,o){var i=n.splitIntoSegments(s,o,{fillHoles:e.fillHoles});if(i.length){if(i.length>1){var c=[];return i.forEach((function(e){c.push(t(e.pathCoordinates,e.valueData))})),n.Svg.Path.join(c)}if(s=i[0].pathCoordinates,o=i[0].valueData,s.length<=4)return n.Interpolation.none()(s,o);for(var l,u=(new n.Svg.Path).move(s[0],s[1],!1,o[0]),d=0,p=s.length;p-2*!l>d;d+=2){var h=[{x:+s[d-2],y:+s[d-1]},{x:+s[d],y:+s[d+1]},{x:+s[d+2],y:+s[d+3]},{x:+s[d+4],y:+s[d+5]}];l?d?p-4===d?h[3]={x:+s[0],y:+s[1]}:p-2===d&&(h[2]={x:+s[0],y:+s[1]},h[3]={x:+s[2],y:+s[3]}):h[0]={x:+s[p-2],y:+s[p-1]}:p-4===d?h[3]=h[2]:d||(h[0]={x:+s[d],y:+s[d+1]}),u.curve(r*(-h[0].x+6*h[1].x+h[2].x)/6+a*h[2].x,r*(-h[0].y+6*h[1].y+h[2].y)/6+a*h[2].y,r*(h[1].x+6*h[2].x-h[3].x)/6+a*h[2].x,r*(h[1].y+6*h[2].y-h[3].y)/6+a*h[2].y,h[2].x,h[2].y,!1,o[(d+2)/2])}return u}return n.Interpolation.none()([])}},n.Interpolation.monotoneCubic=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function t(r,a){var s=n.splitIntoSegments(r,a,{fillHoles:e.fillHoles,increasingX:!0});if(s.length){if(s.length>1){var o=[];return s.forEach((function(e){o.push(t(e.pathCoordinates,e.valueData))})),n.Svg.Path.join(o)}if(r=s[0].pathCoordinates,a=s[0].valueData,r.length<=4)return n.Interpolation.none()(r,a);var i,c,l=[],u=[],d=r.length/2,p=[],h=[],f=[],m=[];for(i=0;i<d;i++)l[i]=r[2*i],u[i]=r[2*i+1];for(i=0;i<d-1;i++)f[i]=u[i+1]-u[i],m[i]=l[i+1]-l[i],h[i]=f[i]/m[i];for(p[0]=h[0],p[d-1]=h[d-2],i=1;i<d-1;i++)0===h[i]||0===h[i-1]||h[i-1]>0!==h[i]>0?p[i]=0:(p[i]=3*(m[i-1]+m[i])/((2*m[i]+m[i-1])/h[i-1]+(m[i]+2*m[i-1])/h[i]),isFinite(p[i])||(p[i]=0));for(c=(new n.Svg.Path).move(l[0],u[0],!1,a[0]),i=0;i<d-1;i++)c.curve(l[i]+m[i]/3,u[i]+p[i]*m[i]/3,l[i+1]-m[i]/3,u[i+1]-p[i+1]*m[i]/3,l[i+1],u[i+1],!1,a[i+1]);return c}return n.Interpolation.none()([])}},n.Interpolation.step=function(e){var t={postpone:!0,fillHoles:!1};return e=n.extend({},t,e),function(t,r){for(var a,s,o,i=new n.Svg.Path,c=0;c<t.length;c+=2){var l=t[c],u=t[c+1],d=r[c/2];void 0!==d.value?(void 0===o?i.move(l,u,!1,d):(e.postpone?i.line(l,s,!1,o):i.line(a,u,!1,d),i.line(l,u,!1,d)),a=l,s=u,o=d):e.fillHoles||(a=s=o=void 0)}return i}}}(window,document,e),function(e,t,n){"use strict";n.EventEmitter=function(){var e=[];function t(t,n){e[t]=e[t]||[],e[t].push(n)}function n(t,n){e[t]&&(n?(e[t].splice(e[t].indexOf(n),1),0===e[t].length&&delete e[t]):delete e[t])}function r(t,n){e[t]&&e[t].forEach((function(e){e(n)})),e["*"]&&e["*"].forEach((function(e){e(t,n)}))}return{addEventHandler:t,removeEventHandler:n,emit:r}}}(window,document,e),function(e,t,n){"use strict";function r(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function a(e,t){var r=t||this.prototype||n.Class,a=Object.create(r);n.Class.cloneDefinitions(a,e);var s=function(){var e,t=a.constructor||function(){};return e=this===n?Object.create(a):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return s.prototype=a,s.super=r,s.extend=this.extend,s}function s(){var e=r(arguments),t=e[0];return e.splice(1,e.length-1).forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))})),t}n.Class={extend:a,cloneDefinitions:s}}(window,document,e),function(e,t,n){"use strict";function r(e,t,r){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=n.extend({},r?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function a(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function s(e,t){return this.eventEmitter.addEventHandler(e,t),this}function o(e,t){return this.eventEmitter.removeEventHandler(e,t),this}function i(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function c(e,t,r,a,s){this.container=n.querySelector(e),this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=r,this.options=a,this.responsiveOptions=s,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(i.bind(this),0)}n.Base=n.Class.extend({constructor:c,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:r,detach:a,on:s,off:o,version:n.version,supportsForeignObject:!1})}(window,document,e),function(e,t,n){"use strict";function r(e,r,a,s,o){e instanceof Element?this._node=e:(this._node=t.createElementNS(n.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":n.namespaces.ct})),r&&this.attr(r),a&&this.addClass(a),s&&(o&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))}function a(e,t){return"string"===typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){if(void 0!==e[t])if(-1!==t.indexOf(":")){var r=t.split(":");this._node.setAttributeNS(n.namespaces[r[0]],t,e[t])}else this._node.setAttribute(t,e[t])}.bind(this)),this)}function s(e,t,r,a){return new n.Svg(e,t,r,this,a)}function o(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function i(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new n.Svg(e)}function c(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function l(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function u(){return this._node}function d(e,r,a,s){if("string"===typeof e){var o=t.createElement("div");o.innerHTML=e,e=o.firstChild}e.setAttribute("xmlns",n.namespaces.xmlns);var i=this.elem("foreignObject",r,a,s);return i._node.appendChild(e),i}function p(e){return this._node.appendChild(t.createTextNode(e)),this}function h(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function m(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function g(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function y(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function b(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter((function(e,t,n){return n.indexOf(e)===t})).join(" ")),this}function v(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(e){return-1===t.indexOf(e)})).join(" ")),this}function x(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function k(){return this._node.getBoundingClientRect().width}function N(e,t,r){return void 0===t&&(t=!0),Object.keys(e).forEach(function(a){function s(e,t){var s,o,i,c={};e.easing&&(i=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing],delete e.easing),e.begin=n.ensureUnit(e.begin,"ms"),e.dur=n.ensureUnit(e.dur,"ms"),i&&(e.calcMode="spline",e.keySplines=i.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",c[a]=e.from,this.attr(c),o=n.quantity(e.begin||0).value,e.begin="indefinite"),s=this.elem("animate",n.extend({attributeName:a},e)),t&&setTimeout(function(){try{s._node.beginElement()}catch(t){c[a]=e.to,this.attr(c),s.remove()}}.bind(this),o),r&&s._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:s._node,params:e})}.bind(this)),s._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:s._node,params:e}),t&&(c[a]=e.to,this.attr(c),s.remove())}.bind(this))}e[a]instanceof Array?e[a].forEach(function(e){s.bind(this)(e,!1)}.bind(this)):s.bind(this)(e[a],t)}.bind(this)),this}n.Svg=n.Class.extend({constructor:r,attr:a,elem:s,parent:o,root:i,querySelector:c,querySelectorAll:l,getNode:u,foreignObject:d,text:p,empty:h,remove:f,replace:m,append:g,classes:y,addClass:b,removeClass:v,removeAllClasses:x,height:w,width:k,animate:N}),n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var S={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function C(e){var t=this;this.svgElements=[];for(var r=0;r<e.length;r++)this.svgElements.push(new n.Svg(e[r]));Object.keys(n.Svg.prototype).filter((function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)})).forEach((function(e){t[e]=function(){var r=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach((function(t){n.Svg.prototype[e].apply(t,r)})),t}}))}n.Svg.Easing=S,n.Svg.List=n.Class.extend({constructor:C})}(window,document,e),function(e,t,n){"use strict";var r={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},a={accuracy:3};function s(e,t,r,a,s,o){var i=n.extend({command:s?e.toLowerCase():e.toUpperCase()},t,o?{data:o}:{});r.splice(a,0,i)}function o(e,t){e.forEach((function(n,a){r[n.command.toLowerCase()].forEach((function(r,s){t(n,r,a,s,e)}))}))}function i(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=n.extend({},a,t)}function c(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function l(e){return this.pathElements.splice(this.pos,e),this}function u(e,t,n,r){return s("M",{x:+e,y:+t},this.pathElements,this.pos++,n,r),this}function d(e,t,n,r){return s("L",{x:+e,y:+t},this.pathElements,this.pos++,n,r),this}function p(e,t,n,r,a,o,i,c){return s("C",{x1:+e,y1:+t,x2:+n,y2:+r,x:+a,y:+o},this.pathElements,this.pos++,i,c),this}function h(e,t,n,r,a,o,i,c,l){return s("A",{rx:+e,ry:+t,xAr:+n,lAf:+r,sf:+a,x:+o,y:+i},this.pathElements,this.pos++,c,l),this}function f(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e}),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var a=t.map((function(e){var t=e.shift(),a=r[t.toLowerCase()];return n.extend({command:t},a.reduce((function(t,n,r){return t[n]=+e[r],t}),{}))})),s=[this.pos,0];return Array.prototype.push.apply(s,a),Array.prototype.splice.apply(this.pathElements,s),this.pos+=a.length,this}function m(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var a=r[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+a.join(",")}.bind(this),"")+(this.close?"Z":"")}function g(e,t){return o(this.pathElements,(function(n,r){n[r]*="x"===r[0]?e:t})),this}function y(e,t){return o(this.pathElements,(function(n,r){n[r]+="x"===r[0]?e:t})),this}function b(e){return o(this.pathElements,(function(t,n,r,a,s){var o=e(t,n,r,a,s);(o||0===o)&&(t[n]=o)})),this}function v(e){var t=new n.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map((function(e){return n.extend({},e)})),t.options=n.extend({},this.options),t}function x(e){var t=[new n.Svg.Path];return this.pathElements.forEach((function(r){r.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new n.Svg.Path),t[t.length-1].pathElements.push(r)})),t}function w(e,t,r){for(var a=new n.Svg.Path(t,r),s=0;s<e.length;s++)for(var o=e[s],i=0;i<o.pathElements.length;i++)a.pathElements.push(o.pathElements[i]);return a}n.Svg.Path=n.Class.extend({constructor:i,position:c,remove:l,move:u,line:d,curve:p,arc:h,scale:g,translate:y,transform:b,parse:f,stringify:m,clone:v,splitByCommand:x}),n.Svg.Path.elementDescriptions=r,n.Svg.Path.join=w}(window,document,e),function(e,t,n){"use strict";var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function a(e,t,n,a){this.units=e,this.counterUnits=e===r.x?r.y:r.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=n,this.options=a}function s(e,t,r,a,s){var o=a["axis"+this.units.pos.toUpperCase()],i=this.ticks.map(this.projectValue.bind(this)),c=this.ticks.map(o.labelInterpolationFnc);i.forEach(function(l,u){var d,p={x:0,y:0};d=i[u+1]?i[u+1]-l:Math.max(this.axisLength-l,30),n.isFalseyButZero(c[u])&&""!==c[u]||("x"===this.units.pos?(l=this.chartRect.x1+l,p.x=a.axisX.labelOffset.x,"start"===a.axisX.position?p.y=this.chartRect.padding.top+a.axisX.labelOffset.y+(r?5:20):p.y=this.chartRect.y1+a.axisX.labelOffset.y+(r?5:20)):(l=this.chartRect.y1-l,p.y=a.axisY.labelOffset.y-(r?d:0),"start"===a.axisY.position?p.x=r?this.chartRect.padding.left+a.axisY.labelOffset.x:this.chartRect.x1-10:p.x=this.chartRect.x2+a.axisY.labelOffset.x+10),o.showGrid&&n.createGrid(l,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[a.classNames.grid,a.classNames[this.units.dir]],s),o.showLabel&&n.createLabel(l,d,u,c,this,o.offset,p,t,[a.classNames.label,a.classNames[this.units.dir],"start"===o.position?a.classNames[o.position]:a.classNames.end],r,s))}.bind(this))}n.Axis=n.Class.extend({constructor:a,createGridAndLabels:s,projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=r}(window,document,e),function(e,t,n){"use strict";function r(e,t,r,a){var s=a.highLow||n.getHighLow(t,a,e.pos);this.bounds=n.getBounds(r[e.rectEnd]-r[e.rectStart],s,a.scaleMinSpace||20,a.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis.super.constructor.call(this,e,r,this.bounds.values,a)}function a(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:r,projectValue:a})}(window,document,e),function(e,t,n){"use strict";function r(e,t,r,a){var s=a.highLow||n.getHighLow(t,a,e.pos);this.divisor=a.divisor||1,this.ticks=a.ticks||n.times(this.divisor).map(function(e,t){return s.low+(s.high-s.low)/this.divisor*t}.bind(this)),this.ticks.sort((function(e,t){return e-t})),this.range={min:s.low,max:s.high},n.FixedScaleAxis.super.constructor.call(this,e,r,this.ticks,a),this.stepLength=this.axisLength/this.divisor}function a(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:r,projectValue:a})}(window,document,e),function(e,t,n){"use strict";function r(e,t,r,a){n.StepAxis.super.constructor.call(this,e,r,a.ticks,a);var s=Math.max(1,a.ticks.length-(a.stretch?1:0));this.stepLength=this.axisLength/s}function a(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:r,projectValue:a})}(window,document,e),function(e,t,n){"use strict";var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function a(e){var t=n.normalizeData(this.data,e.reverseData,!0);this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var a,s,o=this.svg.elem("g").addClass(e.classNames.gridGroup),i=this.svg.elem("g"),c=this.svg.elem("g").addClass(e.classNames.labelGroup),l=n.createChartRect(this.svg,e,r.padding);a=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t.normalized.series,l,n.extend({},e.axisX,{ticks:t.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,l,e.axisX),s=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t.normalized.series,l,n.extend({},e.axisY,{high:n.isNumeric(e.high)?e.high:e.axisY.high,low:n.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,l,e.axisY),a.createGridAndLabels(o,c,this.supportsForeignObject,e,this.eventEmitter),s.createGridAndLabels(o,c,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&n.createGridBackground(o,l,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(r,o){var c=i.elem("g");c.attr({"ct:series-name":r.name,"ct:meta":n.serialize(r.meta)}),c.addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(o)].join(" "));var u=[],d=[];t.normalized.series[o].forEach(function(e,i){var c={x:l.x1+a.projectValue(e,i,t.normalized.series[o]),y:l.y1-s.projectValue(e,i,t.normalized.series[o])};u.push(c.x,c.y),d.push({value:e,valueIndex:i,meta:n.getMetaData(r,i)})}.bind(this));var p={lineSmooth:n.getSeriesOption(r,e,"lineSmooth"),showPoint:n.getSeriesOption(r,e,"showPoint"),showLine:n.getSeriesOption(r,e,"showLine"),showArea:n.getSeriesOption(r,e,"showArea"),areaBase:n.getSeriesOption(r,e,"areaBase")},h=("function"===typeof p.lineSmooth?p.lineSmooth:p.lineSmooth?n.Interpolation.monotoneCubic():n.Interpolation.none())(u,d);if(p.showPoint&&h.pathElements.forEach(function(t){var i=c.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(n.isNumeric).join(","),"ct:meta":n.serialize(t.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:r,seriesIndex:o,axisX:a,axisY:s,group:c,element:i,x:t.x,y:t.y})}.bind(this)),p.showLine){var f=c.elem("path",{d:h.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized.series[o],path:h.clone(),chartRect:l,index:o,series:r,seriesIndex:o,seriesMeta:r.meta,axisX:a,axisY:s,group:c,element:f})}if(p.showArea&&s.range){var m=Math.max(Math.min(p.areaBase,s.range.max),s.range.min),g=l.y1-s.projectValue(m);h.splitByCommand("M").filter((function(e){return e.pathElements.length>1})).map((function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,g).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,g)})).forEach(function(n){var i=c.elem("path",{d:n.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.normalized.series[o],path:n.clone(),series:r,seriesIndex:o,axisX:a,axisY:s,chartRect:l,index:o,group:c,element:i})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:s.bounds,chartRect:l,axisX:a,axisY:s,svg:this.svg,options:e})}function s(e,t,a,s){n.Line.super.constructor.call(this,e,t,r,n.extend({},r,a),s)}n.Line=n.Base.extend({constructor:s,createChart:a})}(window,document,e),function(e,t,n){"use strict";var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function a(e){var t,a;e.distributeSeries?(t=n.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=t.normalized.series.map((function(e){return[e]})):t=n.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var s=this.svg.elem("g").addClass(e.classNames.gridGroup),o=this.svg.elem("g"),i=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==t.normalized.series.length){var c=n.serialMap(t.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(e){return e})).reduce((function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}}),{x:0,y:0})}));a=n.getHighLow([c],e,e.horizontalBars?"x":"y")}else a=n.getHighLow(t.normalized.series,e,e.horizontalBars?"x":"y");a.high=+e.high||(0===e.high?0:a.high),a.low=+e.low||(0===e.low?0:a.low);var l,u,d,p,h,f=n.createChartRect(this.svg,e,r.padding);u=e.distributeSeries&&e.stackBars?t.normalized.labels.slice(0,1):t.normalized.labels,e.horizontalBars?(l=p=void 0===e.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,t.normalized.series,f,n.extend({},e.axisX,{highLow:a,referenceValue:0})):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,f,n.extend({},e.axisX,{highLow:a,referenceValue:0})),d=h=void 0===e.axisY.type?new n.StepAxis(n.Axis.units.y,t.normalized.series,f,{ticks:u}):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,f,e.axisY)):(d=p=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t.normalized.series,f,{ticks:u}):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,f,e.axisX),l=h=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t.normalized.series,f,n.extend({},e.axisY,{highLow:a,referenceValue:0})):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,f,n.extend({},e.axisY,{highLow:a,referenceValue:0})));var m=e.horizontalBars?f.x1+l.projectValue(0):f.y1-l.projectValue(0),g=[];d.createGridAndLabels(s,i,this.supportsForeignObject,e,this.eventEmitter),l.createGridAndLabels(s,i,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&n.createGridBackground(s,f,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(r,a){var s,i,c=a-(t.raw.series.length-1)/2;s=e.distributeSeries&&!e.stackBars?d.axisLength/t.normalized.series.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/t.normalized.series[a].length/2,(i=o.elem("g")).attr({"ct:series-name":r.name,"ct:meta":n.serialize(r.meta)}),i.addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(a)].join(" ")),t.normalized.series[a].forEach(function(o,u){var y,b,v,x;if(x=e.distributeSeries&&!e.stackBars?a:e.distributeSeries&&e.stackBars?0:u,y=e.horizontalBars?{x:f.x1+l.projectValue(o&&o.x?o.x:0,u,t.normalized.series[a]),y:f.y1-d.projectValue(o&&o.y?o.y:0,x,t.normalized.series[a])}:{x:f.x1+d.projectValue(o&&o.x?o.x:0,x,t.normalized.series[a]),y:f.y1-l.projectValue(o&&o.y?o.y:0,u,t.normalized.series[a])},d instanceof n.StepAxis&&(d.options.stretch||(y[d.units.pos]+=s*(e.horizontalBars?-1:1)),y[d.units.pos]+=e.stackBars||e.distributeSeries?0:c*e.seriesBarDistance*(e.horizontalBars?-1:1)),v=g[u]||m,g[u]=v-(m-y[d.counterUnits.pos]),void 0!==o){var w={};w[d.units.pos+"1"]=y[d.units.pos],w[d.units.pos+"2"]=y[d.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(w[d.counterUnits.pos+"1"]=m,w[d.counterUnits.pos+"2"]=y[d.counterUnits.pos]):(w[d.counterUnits.pos+"1"]=v,w[d.counterUnits.pos+"2"]=g[u]),w.x1=Math.min(Math.max(w.x1,f.x1),f.x2),w.x2=Math.min(Math.max(w.x2,f.x1),f.x2),w.y1=Math.min(Math.max(w.y1,f.y2),f.y1),w.y2=Math.min(Math.max(w.y2,f.y2),f.y1);var k=n.getMetaData(r,u);b=i.elem("line",w,e.classNames.bar).attr({"ct:value":[o.x,o.y].filter(n.isNumeric).join(","),"ct:meta":n.serialize(k)}),this.eventEmitter.emit("draw",n.extend({type:"bar",value:o,index:u,meta:k,series:r,seriesIndex:a,axisX:p,axisY:h,chartRect:f,group:i,element:b},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:l.bounds,chartRect:f,axisX:p,axisY:h,svg:this.svg,options:e})}function s(e,t,a,s){n.Bar.super.constructor.call(this,e,t,r,n.extend({},r,a),s)}n.Bar=n.Base.extend({constructor:s,createChart:a})}(window,document,e),function(e,t,n){"use strict";var r={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function a(e,t,n){var r=t.x>e.x;return r&&"explode"===n||!r&&"implode"===n?"start":r&&"implode"===n||!r&&"explode"===n?"end":"middle"}function s(e){var t,s,o,i,c,l=n.normalizeData(this.data),u=[],d=e.startAngle;this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),s=n.createChartRect(this.svg,e,r.padding),o=Math.min(s.width()/2,s.height()/2),c=e.total||l.normalized.series.reduce((function(e,t){return e+t}),0);var p=n.quantity(e.donutWidth);"%"===p.unit&&(p.value*=o/100),o-=e.donut?p.value/2:0,i="outside"===e.labelPosition||e.donut?o:"center"===e.labelPosition?0:o/2,i+=e.labelOffset;var h={x:s.x1+s.width()/2,y:s.y2+s.height()/2},f=1===l.raw.series.filter((function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e})).length;l.raw.series.forEach(function(e,t){u[t]=this.svg.elem("g",null,null)}.bind(this)),e.showLabel&&(t=this.svg.elem("g",null,null)),l.raw.series.forEach(function(r,s){if(0!==l.normalized.series[s]||!e.ignoreEmptyValues){u[s].attr({"ct:series-name":r.name}),u[s].addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(s)].join(" "));var m=c>0?d+l.normalized.series[s]/c*360:0,g=Math.max(0,d-(0===s||f?0:.2));m-g>=359.99&&(m=g+359.99);var y=n.polarToCartesian(h.x,h.y,o,g),b=n.polarToCartesian(h.x,h.y,o,m),v=new n.Svg.Path(!e.donut).move(b.x,b.y).arc(o,o,0,m-d>180,0,y.x,y.y);e.donut||v.line(h.x,h.y);var x=u[s].elem("path",{d:v.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(x.attr({"ct:value":l.normalized.series[s],"ct:meta":n.serialize(r.meta)}),e.donut&&x.attr({style:"stroke-width: "+p.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:l.normalized.series[s],totalDataSum:c,index:s,meta:r.meta,series:r,group:u[s],element:x,path:v.clone(),center:h,radius:o,startAngle:d,endAngle:m}),e.showLabel){var w,k;w=1===l.raw.series.length?{x:h.x,y:h.y}:n.polarToCartesian(h.x,h.y,i,d+(m-d)/2),k=l.normalized.labels&&!n.isFalseyButZero(l.normalized.labels[s])?l.normalized.labels[s]:l.normalized.series[s];var N=e.labelInterpolationFnc(k,s);if(N||0===N){var S=t.elem("text",{dx:w.x,dy:w.y,"text-anchor":a(h,w,e.labelDirection)},e.classNames.label).text(""+N);this.eventEmitter.emit("draw",{type:"label",index:s,group:t,element:S,text:""+N,x:w.x,y:w.y})}}d=m}}.bind(this)),this.eventEmitter.emit("created",{chartRect:s,svg:this.svg,options:e})}function o(e,t,a,s){n.Pie.super.constructor.call(this,e,t,r,n.extend({},r,a),s)}n.Pie=n.Base.extend({constructor:o,createChart:s,determineAnchorPosition:a})}(window,document,e),e}()}.apply(t,[]),void 0===n||(e.exports=n)},8287:(e,t,n)=>{var r=n(2678),a=n(8317),s=n(2702),o=n(3290),i=n(2488),c=n(3913),l=Date.prototype.getTime;function u(e,t,n){var h=n||{};return!!(h.strict?s(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?h.strict?s(e,t):e==t:function(e,t,n){var s,h;if(typeof e!==typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e)!==a(t))return!1;var f=o(e),m=o(t);if(f!==m)return!1;if(f||m)return e.source===t.source&&i(e)===i(t);if(c(e)&&c(t))return l.call(e)===l.call(t);var g=p(e),y=p(t);if(g!==y)return!1;if(g||y){if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}if(typeof e!==typeof t)return!1;try{var b=r(e),v=r(t)}catch(x){return!1}if(b.length!==v.length)return!1;for(b.sort(),v.sort(),s=b.length-1;s>=0;s--)if(b[s]!=v[s])return!1;for(s=b.length-1;s>=0;s--)if(!u(e[h=b[s]],t[h],n))return!1;return!0}(e,t,h))}function d(e){return null===e||void 0===e}function p(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=u},7789:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function i(e,t,n){var a={};return n.isMergeableObject(e)&&s(e).forEach((function(t){a[t]=r(e[t],n)})),s(t).forEach((function(s){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,s)||(o(e,s)&&n.isMergeableObject(t[s])?a[s]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(s,n)(e[s],t[s],n):a[s]=r(t[s],n))})),a}function c(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||a,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?s.arrayMerge(e,n,s):i(e,n,s):r(n,s)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},4992:(e,t,n)=>{"use strict";var r=n(2090),a=n(2557),s=n(2521),o=n(5558);e.exports=function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!o&&o(e,t);if(r)r(e,t,{configurable:null===l&&d?d.configurable:!l,enumerable:null===i&&d?d.enumerable:!i,value:n,writable:null===c&&d?d.writable:!c});else{if(!u&&(i||c||l))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},1779:(e,t,n)=>{"use strict";var r=n(2678),a="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),s=Object.prototype.toString,o=Array.prototype.concat,i=n(4992),c=n(2101)(),l=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!==typeof(a=r)||"[object Function]"!==s.call(a)||!r())return;var a;c?i(e,t,n,!0):i(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},s=r(t);a&&(s=o.call(s,Object.getOwnPropertySymbols(t)));for(var i=0;i<s.length;i+=1)l(e,s[i],t[s[i]],n[s[i]])};u.supportsDescriptors=!!c,e.exports=u},2090:(e,t,n)=>{"use strict";var r=n(2)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(a){r=!1}e.exports=r},9820:e=>{"use strict";e.exports=EvalError},9304:e=>{"use strict";e.exports=Error},1725:e=>{"use strict";e.exports=RangeError},5077:e=>{"use strict";e.exports=ReferenceError},2557:e=>{"use strict";e.exports=SyntaxError},2521:e=>{"use strict";e.exports=TypeError},3094:e=>{"use strict";e.exports=URIError},7724:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n};e.exports=function(e){var a=this;if("function"!==typeof a||"[object Function]"!==t.apply(a))throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var s,o=function(e,t){for(var n=[],r=t||0,a=0;r<e.length;r+=1,a+=1)n[a]=e[r];return n}(arguments,1),i=n(0,a.length-o.length),c=[],l=0;l<i;l++)c[l]="$"+l;if(s=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(c,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=a.apply(this,r(o,arguments));return Object(t)===t?t:this}return a.apply(e,r(o,arguments))})),a.prototype){var u=function(){};u.prototype=a.prototype,s.prototype=new u,u.prototype=null}return s}},3864:(e,t,n)=>{"use strict";var r=n(7724);e.exports=Function.prototype.bind||r},7699:e=>{"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(a){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},2:(e,t,n)=>{"use strict";var r,a=n(9304),s=n(9820),o=n(1725),i=n(5077),c=n(2557),l=n(2521),u=n(3094),d=Function,p=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(P){h=null}var f=function(){throw new l},m=h?function(){try{return f}catch(e){try{return h(arguments,"callee").get}catch(t){return f}}}():f,g=n(2108)(),y=n(951)(),b=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),v={},x="undefined"!==typeof Uint8Array&&b?b(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&b?b([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":v,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&b?b(b([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&g&&b?b((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&g&&b?b((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&b?b(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypeError%":l,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(b)try{null.error}catch(P){var k=b(b(P));w["%Error.prototype%"]=k}var N=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&b&&(n=b(a.prototype))}return w[t]=n,n},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=n(3864),T=n(4384),E=C.call(Function.call,Array.prototype.concat),I=C.call(Function.apply,Array.prototype.splice),_=C.call(Function.call,String.prototype.replace),O=C.call(Function.call,String.prototype.slice),A=C.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,M=function(e,t){var n,r=e;if(T(S,r)&&(r="%"+(n=S[r])[0]+"%"),T(w,r)){var a=w[r];if(a===v&&(a=N(r)),"undefined"===typeof a&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return _(e,R,(function(e,t,n,a){r[r.length]=n?_(a,D,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",a=M("%"+r+"%",t),s=a.name,o=a.value,i=!1,u=a.alias;u&&(r=u[0],I(n,E([0,1],u)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],m=O(f,0,1),g=O(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&p||(i=!0),T(w,s="%"+(r+="."+f)+"%"))o=w[s];else if(null!=o){if(!(f in o)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&d+1>=n.length){var y=h(o,f);o=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[f]}else p=T(o,f),o=o[f];p&&!i&&(w[s]=o)}}return o}},5558:(e,t,n)=>{"use strict";var r=n(2)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(a){r=null}e.exports=r},7668:(e,t,n)=>{"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},2101:(e,t,n)=>{"use strict";var r=n(2090),a=function(){return!!r};a.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},951:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},2108:(e,t,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,a=n(9534);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&a())))}},9534:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},4635:(e,t,n)=>{"use strict";var r=n(9534);e.exports=function(){return r()&&!!Symbol.toStringTag}},4384:(e,t,n)=>{"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,s=n(3864);e.exports=s.call(r,a)},7321:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBrowserHistory:()=>S,createHashHistory:()=>O,createLocation:()=>g,createMemoryHistory:()=>R,createPath:()=>m,locationsAreEqual:()=>y,parsePath:()=>f});var r=n(8168);function a(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}const o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&a(e),c=t&&a(t),l=i||c;if(e&&a(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var u=o[o.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=o.length;p>=0;p--){var h=o[p];"."===h?s(o,p):".."===h?(s(o,p),d++):d&&(s(o,p),d--)}if(!l)for(;d--;d)o.unshift("..");!l||""===o[0]||o[0]&&a(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function i(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=i(t),a=i(n);return r!==t||a!==n?e(r,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var l=n(3404);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function m(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function g(e,t,n,a){var s;"string"===typeof e?(s=f(e)).state=t:(void 0===(s=(0,r.A)({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n&&(s.key=n),a?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=o(s.pathname,a.pathname)):s.pathname=a.pathname:s.pathname||(s.pathname="/"),s}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var s="function"===typeof e?e(t,n):e;"string"===typeof s?"function"===typeof r?r(s,a):a(!0):a(!1!==s)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var w="popstate",k="hashchange";function N(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),v||(0,l.A)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),a=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,o=s.forceRefresh,i=void 0!==o&&o,c=s.getUserConfirmation,d=void 0===c?x:c,f=s.keyLength,y=void 0===f?6:f,S=e.basename?h(u(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,a=window.location,s=a.pathname+a.search+a.hash;return S&&(s=p(s,S)),g(s,r,n)}function T(){return Math.random().toString(36).substr(2,y)}var E=b();function I(e){(0,r.A)(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}function _(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(C(e.state))}function O(){R(C(N()))}var A=!1;function R(e){if(A)A=!1,I();else{E.confirmTransitionTo(e,"POP",d,(function(t){t?I({action:"POP",location:e}):function(e){var t=B.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(A=!0,F(a))}(e)}))}}var D=C(N()),M=[D.key];function P(e){return S+m(e)}function F(e){t.go(e)}var j=0;function L(e){1===(j+=e)&&1===e?(window.addEventListener(w,_),a&&window.addEventListener(k,O)):0===j&&(window.removeEventListener(w,_),a&&window.removeEventListener(k,O))}var z=!1;var B={length:t.length,action:"POP",location:D,createHref:P,push:function(e,r){var a="PUSH",s=g(e,r,T(),B.location);E.confirmTransitionTo(s,a,d,(function(e){if(e){var r=P(s),o=s.key,c=s.state;if(n)if(t.pushState({key:o,state:c},null,r),i)window.location.href=r;else{var l=M.indexOf(B.location.key),u=M.slice(0,l+1);u.push(s.key),M=u,I({action:a,location:s})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",s=g(e,r,T(),B.location);E.confirmTransitionTo(s,a,d,(function(e){if(e){var r=P(s),o=s.key,c=s.state;if(n)if(t.replaceState({key:o,state:c},null,r),i)window.location.replace(r);else{var l=M.indexOf(B.location.key);-1!==l&&(M[l]=s.key),I({action:a,location:s})}else window.location.replace(r)}}))},go:F,goBack:function(){F(-1)},goForward:function(){F(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return z||(L(1),z=!0),function(){return z&&(z=!1,L(-1)),t()}},listen:function(e){var t=E.appendListener(e);return L(1),function(){L(-1),t()}}};return B}var C="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){window.location.replace(E(window.location.href)+"#"+e)}function O(e){void 0===e&&(e={}),v||(0,l.A)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),a=n.getUserConfirmation,s=void 0===a?x:a,o=n.hashType,i=void 0===o?"slash":o,c=e.basename?h(u(e.basename)):"",d=T[i],f=d.encodePath,y=d.decodePath;function w(){var e=y(I());return c&&(e=p(e,c)),g(e)}var k=b();function N(e){(0,r.A)(B,e),B.length=t.length,k.notifyListeners(B.location,B.action)}var S=!1,O=null;function A(){var e,t,n=I(),r=f(n);if(n!==r)_(r);else{var a=w(),o=B.location;if(!S&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===m(a))return;O=null,function(e){if(S)S=!1,N();else{var t="POP";k.confirmTransitionTo(e,t,s,(function(n){n?N({action:t,location:e}):function(e){var t=B.location,n=P.lastIndexOf(m(t));-1===n&&(n=0);var r=P.lastIndexOf(m(e));-1===r&&(r=0);var a=n-r;a&&(S=!0,F(a))}(e)}))}}(a)}}var R=I(),D=f(R);R!==D&&_(D);var M=w(),P=[m(M)];function F(e){t.go(e)}var j=0;function L(e){1===(j+=e)&&1===e?window.addEventListener(C,A):0===j&&window.removeEventListener(C,A)}var z=!1;var B={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+f(c+m(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,B.location);k.confirmTransitionTo(r,n,s,(function(e){if(e){var t=m(r),a=f(c+t);if(I()!==a){O=t,function(e){window.location.hash=e}(a);var s=P.lastIndexOf(m(B.location)),o=P.slice(0,s+1);o.push(t),P=o,N({action:n,location:r})}else N()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,B.location);k.confirmTransitionTo(r,n,s,(function(e){if(e){var t=m(r),a=f(c+t);I()!==a&&(O=t,_(a));var s=P.indexOf(m(B.location));-1!==s&&(P[s]=t),N({action:n,location:r})}}))},go:F,goBack:function(){F(-1)},goForward:function(){F(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return z||(L(1),z=!0),function(){return z&&(z=!1,L(-1)),t()}},listen:function(e){var t=k.appendListener(e);return L(1),function(){L(-1),t()}}};return B}function A(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,a=t.initialEntries,s=void 0===a?["/"]:a,o=t.initialIndex,i=void 0===o?0:o,c=t.keyLength,l=void 0===c?6:c,u=b();function d(e){(0,r.A)(x,e),x.length=x.entries.length,u.notifyListeners(x.location,x.action)}function p(){return Math.random().toString(36).substr(2,l)}var h=A(i,0,s.length-1),f=s.map((function(e){return g(e,void 0,"string"===typeof e?p():e.key||p())})),y=m;function v(e){var t=A(x.index+e,0,x.entries.length-1),r=x.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var x={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:y,push:function(e,t){var r="PUSH",a=g(e,t,p(),x.location);u.confirmTransitionTo(a,r,n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,a):n.push(a),d({action:r,location:a,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",a=g(e,t,p(),x.location);u.confirmTransitionTo(a,r,n,(function(e){e&&(x.entries[x.index]=a,d({action:r,location:a}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return x}},219:(e,t,n)=>{"use strict";var r=n(2086),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return r.isMemo(e)?o:i[e.$$typeof]||a}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var a=h(n);a&&a!==f&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var i=c(t),m=c(n),g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!i||!i[y])){var b=p(n,y);try{l(t,y,b)}catch(v){}}}}return t}},2740:e=>{"use strict";e.exports=function(e,t,n,r,a,s,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,s,o,i],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},8317:(e,t,n)=>{"use strict";var r=n(4635)(),a=n(2028)("Object.prototype.toString"),s=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===a(e)},o=function(e){return!!s(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==a(e)&&"[object Function]"===a(e.callee)},i=function(){return s(arguments)}();s.isLegacyArguments=o,e.exports=i?s:o},3913:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,a=Object.prototype.toString,s=n(4635)();e.exports=function(e){return"object"===typeof e&&null!==e&&(s?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===a.call(e))}},3290:(e,t,n)=>{"use strict";var r,a,s,o,i=n(2028),c=n(4635)();if(c){r=i("Object.prototype.hasOwnProperty"),a=i("RegExp.prototype.exec"),s={};var l=function(){throw s};o={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=l)}var u=i("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==typeof e)return!1;var t=d(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{a(e,o)}catch(n){return n===s}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===u(e)}},1141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3452:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,a){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(a=r,r={}),r=r||{},a=a||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,a),o.onload||t(o,a),s.appendChild(o)}},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},s={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=c(e,(0|e)<0?-1:0,!0),o&&(s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=c(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-f)return N;if(e+1>=f)return w}return e<0?i(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=i,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var a=i(l(n,8)),s=g,o=0;o<e.length;o+=8){var c=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+c),n);if(c<8){var p=i(l(n,c));s=s.mul(p).add(i(d))}else s=(s=s.mul(a)).add(i(d))}return s.unsigned=t,s}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?u(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=o(1<<24),g=o(0);n.ZERO=g;var y=o(0,!0);n.UZERO=y;var b=o(1);n.ONE=b;var v=o(1,!0);n.UONE=v;var x=o(-1);n.NEG_ONE=x;var w=c(-1,2147483647,!1);n.MAX_VALUE=w;var k=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var N=c(0,-2147483648,!1);n.MIN_VALUE=N;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(N)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(l(e,6),this.unsigned),s=this,o="";;){var c=s.div(a),u=(s.sub(c.mul(a)).toInt()>>>0).toString(e);if((s=c).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(N)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(N)?N:this.not().add(b)},S.neg=S.negate,S.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,o=e.high>>>16,i=65535&e.high,l=e.low>>>16,u=0,p=0,h=0,f=0;return h+=(f+=s+(65535&e.low))>>>16,p+=(h+=a+l)>>>16,u+=(p+=n+i)>>>16,u+=t+o,c((h&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(N))return e.isOdd()?N:g;if(e.eq(N))return this.isOdd()?N:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,s=this.low>>>16,o=65535&this.low,l=e.high>>>16,u=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,b=0,v=0;return b+=(v+=o*h)>>>16,y+=(b+=s*h)>>>16,b&=65535,y+=(b+=o*p)>>>16,f+=(y+=a*h)>>>16,y&=65535,f+=(y+=s*p)>>>16,y&=65535,f+=(y+=o*u)>>>16,f+=n*h+a*p+s*u+o*l,c((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;s=y}else{if(this.eq(N))return e.eq(b)||e.eq(x)?N:e.eq(N)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:x:(a=this.sub(e.mul(n)),s=n.add(a.div(e)));if(e.eq(N))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:l(2,o-48),p=i(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=i(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=b),s=s.add(p),a=a.sub(h)}return s},S.div=S.divide,S.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return c(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},2906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],s=t[n],!(a===s||r(a)&&r(s)))return!1;var a,s;return!0}const s=function(e,t){var n;void 0===t&&(t=a);var r,s=[],o=!1;return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return o&&n===this&&t(a,s)||(r=e.apply(this,a),o=!0,n=this,s=a),r}}},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var s,o,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(i[l]=s[l]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(i[o[u]]=s[o[u]])}}return i}},7974:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},2702:(e,t,n)=>{"use strict";var r=n(1779),a=n(1712),s=n(7974),o=n(3799),i=n(5289),c=a(o(),Object);r(c,{getPolyfill:o,implementation:s,shim:i}),e.exports=c},3799:(e,t,n)=>{"use strict";var r=n(7974);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},5289:(e,t,n)=>{"use strict";var r=n(3799),a=n(1779);e.exports=function(){var e=r();return a(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1038:(e,t,n)=>{"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=n(234),i=Object.prototype.propertyIsEnumerable,c=!i.call({toString:null},"toString"),l=i.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===s.call(e),r=o(e),i=t&&"[object String]"===s.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=l&&n;if(i&&e.length>0&&!a.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var y in e)f&&"prototype"===y||!a.call(e,y)||p.push(String(y));if(c)for(var b=function(e){if("undefined"===typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),v=0;v<u.length;++v)b&&"constructor"===u[v]||!a.call(e,u[v])||p.push(u[v]);return p}}e.exports=r},2678:(e,t,n)=>{"use strict";var r=Array.prototype.slice,a=n(234),s=Object.keys,o=s?function(e){return s(e)}:n(1038),i=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return a(e)?i(r.call(e)):i(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},234:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},8123:(e,t,n)=>{var r=n(1141);e.exports=h,e.exports.parse=s,e.exports.compile=function(e,t){return i(s(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,i="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],p=n[1],h=n.index;if(i+=e.slice(o,h),o=h+d.length,p)i+=p[1];else{var f=e[o],m=n[2],g=n[3],y=n[4],b=n[5],v=n[6],x=n[7];i&&(r.push(i),i="");var w=null!=m&&null!=f&&f!==m,k="+"===v||"*"===v,N="?"===v||"*"===v,S=n[2]||u,C=y||b;r.push({name:g||s++,prefix:m||"",delimiter:S,optional:N,repeat:k,partial:w,asterisk:!!x,pattern:C?l(C):x?".*":"[^"+c(S)+"]+?"})}}return o<e.length&&(i+=e.substr(o)),i&&r.push(i),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",d(t)));return function(t,a){for(var s="",i=t||{},c=(a||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,p=i[u.name];if(null==p){if(u.optional){u.partial&&(s+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(d=c(p[h]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");s+=(0===h?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(p),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');s+=u.prefix+d}}else s+=u}return s}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,s=!1!==n.end,o="",i=0;i<e.length;i++){var l=e[i];if("string"===typeof l)o+=c(l);else{var p=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+p+h+")*"),o+=h=l.optional?l.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var f=c(n.delimiter||"/"),m=o.slice(-f.length)===f;return a||(o=(m?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=s?"$":a&&m?"":"(?="+f+"|$)",u(new RegExp("^"+o,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(h(e[a],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(s(e,n),t,n)}(e,t,n)}},9197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}))};var r,a=n(3534),s=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},3534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,s,o){var i=a||"<<anonymous>>",c=o||r;if(null==n[r])return t?new Error("Required "+s+" `"+c+"` was not specified in `"+i+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,i,s,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5455:(e,t,n)=>{"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5043),s=i(a),o=i(n(5173));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){if(this.chartist)try{this.chartist.detach()}catch(e){throw new Error("Internal chartist error",e)}}},{key:"componentDidMount",value:function(){this.updateChart(this.props)}},{key:"componentDidUpdate",value:function(){this.updateChart(this.props)}},{key:"updateChart",value:function(e){var t=n(3249),r=e.type,a=e.data,s=e.options||{},o=e.responsiveOptions||[],i=void 0;if(this.chartist)this.chartist.update(a,s,o);else if(this.chartist=new t[r](this.chart,a,s,o),e.listener)for(i in e.listener)e.listener.hasOwnProperty(i)&&this.chartist.on(i,e.listener[i]);return this.chartist}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.children,i=t.data,c=t.type,l=o&&a.Children.map(o,(function(e){return(0,a.cloneElement)(e,{type:c,data:i})}));return s.default.createElement("div",{className:"ct-chart "+(n||""),ref:function(t){return e.chart=t},style:r},l)}}]),t}(a.Component);c.propTypes={type:o.default.oneOf(["Line","Bar","Pie"]).isRequired,data:o.default.object.isRequired,className:o.default.string,options:o.default.object,responsiveOptions:o.default.array,style:o.default.object},t.A=c},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(2123),s=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var i=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(m,e)||!h.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,N=60106,S=60107,C=60108,T=60114,E=60109,I=60110,_=60112,O=60113,A=60120,R=60115,D=60116,M=60121,P=60128,F=60129,j=60130,L=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;k=z("react.element"),N=z("react.portal"),S=z("react.fragment"),C=z("react.strict_mode"),T=z("react.profiler"),E=z("react.provider"),I=z("react.context"),_=z("react.forward_ref"),O=z("react.suspense"),A=z("react.suspense_list"),R=z("react.memo"),D=z("react.lazy"),M=z("react.block"),z("react.scope"),P=z("react.opaque.id"),F=z("react.debug_trace_mode"),j=z("react.offscreen"),L=z("react.legacy_hidden")}var B,U="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var G=!1;function H(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=i);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case N:return"Portal";case T:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case M:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function le(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ne(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ee=null,Ie=null;function _e(e){if(e=na(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=aa(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Ae(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,a){return e(t,n,r,a)}function Me(){}var Pe=Re,Fe=!1,je=!1;function Le(){null===Ee&&null===Ie||(Me(),Ae())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=aa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(d)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(me){Be=!1}function We(e,t,n,r,a,s,o,i,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Ve=!1,Ge=null,He=!1,qe=null,Ke={onError:function(e){Ve=!0,Ge=e}};function Xe(e,t,n,r,a,s,o,i,c){Ve=!1,Ge=null,We.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return $e(a),e;if(s===r)return $e(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,c=a.child;c;){if(c===n){i=!0,n=a,r=s;break}if(c===r){i=!0,r=a,n=s;break}c=c.sibling}if(!i){for(c=s.child;c;){if(c===n){i=!0,n=s,r=a;break}if(c===r){i=!0,r=s,n=a;break}c=c.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,at=!1,st=[],ot=null,it=null,ct=null,lt=new Map,ut=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":it=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e=ht(t,n,r,a,s),null!==t&&(null!==(t=na(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=ta(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=na(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function vt(){for(at=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=na(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==it&&yt(it)&&(it=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ut.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vt)))}function wt(e){function t(t){return xt(t,e)}if(0<st.length){xt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&xt(ot,e),null!==it&&xt(it,e),null!==ct&&xt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Ct={};function Tt(e){if(St[e])return St[e];if(!Nt[e])return e;var t,n=Nt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return St[e]=n[t];return e}d&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);var Et=Tt("animationend"),It=Tt("animationiteration"),_t=Tt("animationstart"),Ot=Tt("transitionend"),At=new Map,Rt=new Map,Dt=["abort","abort",Et,"animationEnd",It,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Rt.set(r,t),At.set(r,a),l(a,[r])}}(0,s.unstable_now)();var Pt=8;function Ft(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,a=0,s=e.expiredLanes,o=e.suspendedLanes,i=e.pingedLanes;if(0!==s)r=s,a=Pt=15;else if(0!==(s=134217727&n)){var c=s&~o;0!==c?(r=Ft(c),a=Pt):0!==(i&=s)&&(r=Ft(i),a=Pt)}else 0!==(s=n&~o)?(r=Ft(s),a=Pt):0!==i&&(r=Ft(i),a=Pt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),a<=Pt)return t;Pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Vt(t)),r|=e[n],t&=~a;return r}function Lt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?zt(10,t):e;case 10:return 0===(e=Bt(192&~t))?zt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Ht|0)|0},Gt=Math.log,Ht=Math.LN2;var qt=s.unstable_UserBlockingPriority,Kt=s.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Fe||Me();var a=$t,s=Fe;Fe=!0;try{De(a,e,t,n,r)}finally{(Fe=s)||Le()}}function Zt(e,t,n,r){Kt(qt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var a;if(Xt)if((a=0===(4&t))&&0<st.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,r),st.push(e);else{var s=Jt(e,t,n,r);if(null===s)a&&ft(e,r);else{if(a){if(-1<pt.indexOf(e))return e=ht(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,a),!0;case"dragenter":return it=mt(it,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return lt.set(s,mt(lt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,ut.set(s,mt(ut.get(s)||null,e,t,n,r,a)),!0}return!1}(s,e,t,n,r))return;ft(e,r)}Mr(e,t,r,null,n)}}}function Jt(e,t,n,r){var a=Ce(r);if(null!==(a=ta(a))){var s=Ye(a);if(null===s)a=null;else{var o=s.tag;if(13===o){if(null!==(a=Ze(s)))return a;a=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Mr(e,t,r,a,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function on(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=on(dn),hn=a({},dn,{view:0,detail:0}),fn=on(hn),mn=a({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=on(mn),yn=on(a({},mn,{dataTransfer:0})),bn=on(a({},hn,{relatedTarget:0})),vn=on(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(xn),kn=on(a({},dn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return Tn}var In=a({},hn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(In),On=on(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(a({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=on(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(Dn),Pn=[9,13,27,32],Fn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Ln=d&&"TextEvent"in window&&!jn,zn=d&&(!Fn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),Un=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Zn(e){Ir(e,0)}function $n(e){if($(ra(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Qn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Xn&&(Xn.detachEvent("onpropertychange",ar),Yn=Xn=null)}function ar(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Kn(t,Yn,e,Ce(e)),e=Zn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Le()}}}}function sr(e,t,n){"focusin"===e?(rr(),Yn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function ir(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,vr=null,xr=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==J(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&dr(xr,r)||(xr=r,0<(r=Fr(vr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Nr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Nr.length;Sr++)Rt.set(Nr[Sr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Er(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,c,l){if(Xe.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var u=Ge;Ve=!1,Ge=null,He||(He=!0,qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,l=i.currentTarget;if(i=i.listener,c!==s&&a.isPropagationStopped())break e;Er(a,i,l),s=c}else for(o=0;o<r.length;o++){if(c=(i=r[o]).instance,l=i.currentTarget,i=i.listener,c!==s&&a.isPropagationStopped())break e;Er(a,i,l),s=c}}}if(He)throw e=qe,He=!1,qe=null,e}function _r(e,t){var n=sa(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Or]||(e[Or]=!0,i.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;a|=2,s=r}var o=sa(s),i=e+"__"+(t?"capture":"bubble");o.has(i)||(t&&(a|=4),Dr(s,e,a,t),o.add(i))}function Dr(e,t,n,r){var a=Rt.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=Zt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ta(i)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}i=i.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return Pe(e,t,n)}finally{je=!1,Le()}}((function(){var r=s,a=Ce(n),o=[];e:{var i=At.get(e);if(void 0!==i){var c=pn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":l="focus",c=bn;break;case"focusout":l="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case Et:case It:case _t:c=vn;break;case Ot:c=Rn;break;case"scroll":c=fn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=On}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==i?i+"Capture":null:i;u=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=ze(f,p))&&u.push(Pr(f,m,h)))),d)break;f=f.return}0<u.length&&(i=new c(i,l,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ta(l)&&!l[Qr])&&(c||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ta(l):null)&&(l!==(d=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=gn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==c?i:ra(c),h=null==l?i:ra(l),(i=new u(m,f+"leave",c,n,a)).target=d,i.relatedTarget=h,m=null,ta(a)===r&&((u=new u(p,f+"enter",l,n,a)).target=h,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(p=l,f=0,h=u=c;h;h=jr(h))f++;for(h=0,m=p;m;m=jr(m))h++;for(;0<f-h;)u=jr(u),f--;for(;0<h-f;)p=jr(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=jr(u),p=jr(p)}u=null}else u=null;null!==c&&Lr(o,i,c,u,!1),null!==l&&null!==d&&Lr(o,d,l,u,!0)}if("select"===(c=(i=r?ra(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var g=Jn;else if(qn(i))if(Qn)g=cr;else{g=or;var y=sr}else(c=i.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(o,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ae(i,"number",i.value)),y=r?ra(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(br=y,vr=r,xr=null);break;case"focusout":xr=vr=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(o,n,a);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(o,n,a)}var b;if(Fn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Gn?Wn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Gn&&(b=nn()):(en="value"in(Qt=a)?Qt.value:Qt.textContent,Gn=!0)),0<(y=Fr(r,v)).length&&(v=new kn(v,e,null,n,a),o.push({event:v,listeners:y}),b?v.data=b:null!==(b=Vn(n))&&(v.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Bn);case"textInput":return(e=t.data)===Bn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Fn&&Wn(e,t)?(e=nn(),tn=en=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(a=new kn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Ir(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=ze(e,n))&&r.unshift(Pr(e,s,a)),null!=(s=ze(e,t))&&r.push(Pr(e,s,a))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,c=i.alternate,l=i.stateNode;if(null!==c&&c===r)break;5===i.tag&&null!==l&&(i=l,a?null!=(c=ze(n,s))&&o.unshift(Pr(n,c,i)):a||null!=(c=ze(n,s))&&o.push(Pr(n,c,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function zr(){}var Br=null,Ur=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Zr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,Qr="__reactContainer$"+Zr,ea="__reactEvents$"+Zr;function ta(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[$r])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function na(e){return!(e=e[$r]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ra(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function aa(e){return e[Jr]||null}function sa(e){var t=e[ea];return void 0===t&&(t=e[ea]=new Set),t}var oa=[],ia=-1;function ca(e){return{current:e}}function la(e){0>ia||(e.current=oa[ia],oa[ia]=null,ia--)}function ua(e,t){ia++,oa[ia]=e.current,e.current=t}var da={},pa=ca(da),ha=ca(!1),fa=da;function ma(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ya(){la(ha),la(pa)}function ba(e,t,n){if(pa.current!==da)throw Error(o(168));ua(pa,t),ua(ha,n)}function va(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,K(t)||"Unknown",s));return a({},n,r)}function xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,fa=pa.current,ua(pa,e),ua(ha,ha.current),!0}function wa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=va(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,la(ha),la(pa),ua(pa,e)):la(ha),ua(ha,n)}var ka=null,Na=null,Sa=s.unstable_runWithPriority,Ca=s.unstable_scheduleCallback,Ta=s.unstable_cancelCallback,Ea=s.unstable_shouldYield,Ia=s.unstable_requestPaint,_a=s.unstable_now,Oa=s.unstable_getCurrentPriorityLevel,Aa=s.unstable_ImmediatePriority,Ra=s.unstable_UserBlockingPriority,Da=s.unstable_NormalPriority,Ma=s.unstable_LowPriority,Pa=s.unstable_IdlePriority,Fa={},ja=void 0!==Ia?Ia:function(){},La=null,za=null,Ba=!1,Ua=_a(),Wa=1e4>Ua?_a:function(){return _a()-Ua};function Va(){switch(Oa()){case Aa:return 99;case Ra:return 98;case Da:return 97;case Ma:return 96;case Pa:return 95;default:throw Error(o(332))}}function Ga(e){switch(e){case 99:return Aa;case 98:return Ra;case 97:return Da;case 96:return Ma;case 95:return Pa;default:throw Error(o(332))}}function Ha(e,t){return e=Ga(e),Sa(e,t)}function qa(e,t,n){return e=Ga(e),Ca(e,t,n)}function Ka(){if(null!==za){var e=za;za=null,Ta(e)}Xa()}function Xa(){if(!Ba&&null!==La){Ba=!0;var e=0;try{var t=La;Ha(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),La=null}catch(n){throw null!==La&&(La=La.slice(e+1)),Ca(Aa,Ka),n}finally{Ba=!1}}}var Ya=w.ReactCurrentBatchConfig;function Za(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $a=ca(null),Ja=null,Qa=null,es=null;function ts(){es=Qa=Ja=null}function ns(e){var t=$a.current;la($a),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function as(e,t){Ja=e,es=Qa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qa){if(null===Ja)throw Error(o(308));Qa=t,Ja.dependencies={lanes:0,firstContext:t,responders:null}}else Qa=Qa.next=t;return e._currentValue}var os=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function cs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ds(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,c=s.shared.pending;if(null!==c){s.shared.pending=null;var l=c,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==i&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=l)}}if(null!==o){for(p=s.baseState,i=0,d=u=l=null;;){c=o.lane;var h=o.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(c=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){p=f.call(h,p,c);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(c="function"===typeof(f=m.payload)?f.call(h,p,c):f)||void 0===c)break e;p=a({},p,c);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(c=s.effects)?s.effects=[o]:c.push(o))}else h={eventTime:h,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=h,l=p):d=d.next=h,i|=c;if(null===(o=o.next)){if(null===(c=s.shared.pending))break;o=c.next,c.next=null,s.lastBaseUpdate=c,s.shared.pending=null}}null===d&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,Ui|=i,e.lanes=i,e.memoizedState=p}}function hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var fs=(new r.Component).refs;function ms(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pc(),a=hc(e),s=ls(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),us(e,s),fc(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pc(),a=hc(e),s=ls(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),us(e,s),fc(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pc(),r=hc(e),a=ls(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),us(e,a),fc(e,r,n)}};function ys(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,s))}function bs(e,t,n){var r=!1,a=da,s=t.contextType;return"object"===typeof s&&null!==s?s=ss(s):(a=ga(t)?fa:pa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ma(e,a):da),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function vs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function xs(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=fs,is(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=ss(s):(s=ga(t)?fa:pa.current,a.context=ma(e,s)),ps(e,n,a,r),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&gs.enqueueReplaceState(a,a.state,null),ps(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var ws=Array.isArray;function ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===fs&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ns(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ss(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function i(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Zc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=ks(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Xc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=ks(e,null,t),n.return=e,n;case N:return(t=$c(t,e.mode,n)).return=e,t}if(ws(t)||W(t))return(t=Xc(t,e.mode,n,null)).return=e,t;Ns(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?n.type===S?d(e,t,n.props.children,r,a):l(e,t,n,r):null;case N:return n.key===a?u(e,t,n,r):null}if(ws(n)||W(n))return null!==a?null:d(e,t,n,r,null);Ns(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,a,r.key):l(t,e,r,a);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(ws(r)||W(r))return d(t,e=e.get(n)||null,r,a,null);Ns(t,r)}return null}function m(a,o,i,c){for(var l=null,u=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,i[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),o=s(y,o,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===i.length)return n(a,d),l;if(null===d){for(;m<i.length;m++)null!==(d=p(a,i[m],c))&&(o=s(d,o,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(a,d);m<i.length;m++)null!==(g=f(d,a,m,i[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),l}function g(a,i,c,l){var u=W(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=i,g=i=0,y=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(a,m,b.value,l);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),i=s(v,i,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(a,m),u;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=p(a,b.value,l))&&(i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return u}for(m=r(a,m);!b.done;g++,b=c.next())null!==(b=f(m,a,g,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),u}return function(e,r,s,c){var l="object"===typeof s&&null!==s&&s.type===S&&null===s.key;l&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case k:e:{for(u=s.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(s.type===S){n(e,l.sibling),(r=a(l,s.props.children)).return=e,e=r;break e}}else if(l.elementType===s.type){n(e,l.sibling),(r=a(l,s.props)).ref=ks(e,l,s),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}s.type===S?((r=Xc(s.props.children,e.mode,c,s.key)).return=e,e=r):((c=Kc(s.type,s.key,s.props,null,e.mode,c)).ref=ks(e,r,s),c.return=e,e=c)}return i(e);case N:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=a(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$c(s,e.mode,c)).return=e,e=r}return i(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,s)).return=e,e=r):(n(e,r),(r=Zc(s,e.mode,c)).return=e,e=r),i(e);if(ws(s))return m(e,r,s,c);if(W(s))return g(e,r,s,c);if(u&&Ns(e,s),"undefined"===typeof s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Cs=Ss(!0),Ts=Ss(!1),Es={},Is=ca(Es),_s=ca(Es),Os=ca(Es);function As(e){if(e===Es)throw Error(o(174));return e}function Rs(e,t){switch(ua(Os,t),ua(_s,e),ua(Is,Es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}la(Is),ua(Is,t)}function Ds(){la(Is),la(_s),la(Os)}function Ms(e){As(Os.current);var t=As(Is.current),n=he(t,e.type);t!==n&&(ua(_s,e),ua(Is,n))}function Ps(e){_s.current===e&&(la(Is),la(_s))}var Fs=ca(0);function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ls=null,zs=null,Bs=!1;function Us(e,t){var n=Gc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ws(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vs(e){if(Bs){var t=zs;if(t){var n=t;if(!Ws(e,t)){if(!(t=Kr(n.nextSibling))||!Ws(e,t))return e.flags=-1025&e.flags|2,Bs=!1,void(Ls=e);Us(Ls,n)}Ls=e,zs=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Bs=!1,Ls=e}}function Gs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ls=e}function Hs(e){if(e!==Ls)return!1;if(!Bs)return Gs(e),Bs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=zs;t;)Us(e,t),t=Kr(t.nextSibling);if(Gs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zs=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zs=null}}else zs=Ls?Kr(e.stateNode.nextSibling):null;return!0}function qs(){zs=Ls=null,Bs=!1}var Ks=[];function Xs(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Ys=w.ReactCurrentDispatcher,Zs=w.ReactCurrentBatchConfig,$s=0,Js=null,Qs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function so(e,t,n,r,a,s){if($s=s,Js=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,a),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Qs=null,t.updateQueue=null,Ys.current=Mo,e=n(r,a)}while(no)}if(Ys.current=Ao,t=null!==Qs&&null!==Qs.next,$s=0,eo=Qs=Js=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Js.memoizedState=eo=e:eo=eo.next=e,eo}function io(){if(null===Qs){var e=Js.alternate;e=null!==e?e.memoizedState:null}else e=Qs.next;var t=null===eo?Js.memoizedState:eo.next;if(null!==t)eo=t,Qs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qs=e).memoizedState,baseState:Qs.baseState,baseQueue:Qs.baseQueue,queue:Qs.queue,next:null},null===eo?Js.memoizedState=eo=e:eo=eo.next=e}return eo}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var c=i=s=null,l=a;do{var u=l.lane;if(($s&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(i=c=d,s=r):c=c.next=d,Js.lanes|=u,Ui|=u}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=i,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function uo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);lr(s,t.memoizedState)||(Fo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function po(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=($s&e)===e)&&(t._workInProgressVersionPrimary=r,Ks.push(t))),e)return n(t._source);throw Ks.push(t),Error(o(350))}function ho(e,t,n,r){var a=Di;if(null===a)throw Error(o(349));var s=t._getVersion,i=s(t._source),c=Ys.current,l=c.useState((function(){return po(a,t,n)})),u=l[1],d=l[0];l=eo;var p=e.memoizedState,h=p.refs,f=h.getSnapshot,m=p.source;p=p.subscribe;var g=Js;return e.memoizedState={refs:h,source:t,subscribe:r},c.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=s(t._source);if(!lr(i,e)){e=n(t._source),lr(d,e)||(u(e),e=hc(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var c=31-Vt(o),l=1<<c;r[c]|=e,o&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hc(g);a.mutableReadLanes|=r&a.pendingLanes}catch(s){n((function(){throw s}))}}))}),[t,r]),lr(f,n)&&lr(m,t)&&lr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:d}).dispatch=u=Oo.bind(null,Js,e),l.queue=e,l.baseQueue=null,d=po(a,t,n),l.memoizedState=l.baseState=d),d}function fo(e,t,n){return ho(io(),e,t,n)}function mo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Js,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Js.updateQueue)?(t={lastEffect:null},Js.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function bo(){return io().memoizedState}function vo(e,t,n,r){var a=oo();Js.flags|=e,a.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function xo(e,t,n,r){var a=io();r=void 0===r?null:r;var s=void 0;if(null!==Qs){var o=Qs.memoizedState;if(s=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,s,r)}Js.flags|=e,a.memoizedState=go(1|t,n,s,r)}function wo(e,t){return vo(516,4,e,t)}function ko(e,t){return xo(516,4,e,t)}function No(e,t){return xo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,So.bind(null,t,e),n)}function To(){}function Eo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _o(e,t){var n=Va();Ha(98>n?98:n,(function(){e(!0)})),Ha(97<n?97:n,(function(){var n=Zs.transition;Zs.transition=1;try{e(!1),t()}finally{Zs.transition=n}}))}function Oo(e,t,n){var r=pc(),a=hc(e),s={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Js||null!==o&&o===Js)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,c=o(i,n);if(s.eagerReducer=o,s.eagerState=c,lr(c,i))return}catch(l){}fc(e,a,r)}}var Ao={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ro={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Js,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return wo((function(){var t=Zs.transition;Zs.transition=1;try{r(e)}finally{Zs.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=_o.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Bs){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Js.mode)&&(Js.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:ss,useCallback:Eo,useContext:ss,useEffect:ko,useImperativeHandle:Co,useLayoutEffect:No,useMemo:Io,useReducer:lo,useRef:bo,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return ko((function(){var t=Zs.transition;Zs.transition=1;try{r(e)}finally{Zs.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[bo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:ss,useCallback:Eo,useContext:ss,useEffect:ko,useImperativeHandle:Co,useLayoutEffect:No,useMemo:Io,useReducer:uo,useRef:bo,useState:function(){return uo(co)},useDebugValue:To,useDeferredValue:function(e){var t=uo(co),n=t[0],r=t[1];return ko((function(){var t=Zs.transition;Zs.transition=1;try{r(e)}finally{Zs.transition=t}}),[e]),n},useTransition:function(){var e=uo(co)[0];return[bo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(co)[0]},unstable_isNewReconciler:!1},Po=w.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ts(t,null,n,r):Cs(t,e.child,n,r)}function Lo(e,t,n,r,a){n=n.render;var s=t.ref;return as(t,a),r=so(e,t,n,r,s,a),null===e||Fo?(t.flags|=1,jo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,si(e,t,a))}function zo(e,t,n,r,a,s){if(null===e){var o=n.type;return"function"!==typeof o||Hc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,a,s))}return o=e.child,0===(a&s)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)?si(e,t,s):(t.flags|=1,(e=qc(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,a,s){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(s&a))return t.lanes=e.lanes,si(e,t,s);0!==(16384&e.flags)&&(Fo=!0)}return Vo(e,t,n,r,s)}function Uo(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},kc(t,n);else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},kc(t,e),null;t.memoizedState={baseLanes:0},kc(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,kc(t,r);return jo(e,t,a,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,a){var s=ga(n)?fa:pa.current;return s=ma(t,s),as(t,a),n=so(e,t,n,r,s,a),null===e||Fo?(t.flags|=1,jo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,si(e,t,a))}function Go(e,t,n,r,a){if(ga(n)){var s=!0;xa(t)}else s=!1;if(as(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bs(t,n,r),xs(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ss(l):l=ma(t,l=ga(n)?fa:pa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||c!==l)&&vs(t,o,r,l),os=!1;var p=t.memoizedState;o.state=p,ps(t,r,o,a),c=t.memoizedState,i!==r||p!==c||ha.current||os?("function"===typeof u&&(ms(t,n,u,r),c=t.memoizedState),(i=os||ys(t,n,i,r,p,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,cs(e,t),i=t.memoizedProps,l=t.type===t.elementType?i:Za(t.type,i),o.props=l,d=t.pendingProps,p=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ss(c):c=ma(t,c=ga(n)?fa:pa.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||p!==c)&&vs(t,o,r,c),os=!1,p=t.memoizedState,o.state=p,ps(t,r,o,a);var f=t.memoizedState;i!==d||p!==f||ha.current||os?("function"===typeof h&&(ms(t,n,h,r),f=t.memoizedState),(l=os||ys(t,n,l,r,p,f,c))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,s,a)}function Ho(e,t,n,r,a,s){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&wa(t,n,!1),si(e,t,s);r=t.stateNode,Po.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Cs(t,e.child,null,s),t.child=Cs(t,null,i,s)):jo(e,t,i,s),t.memoizedState=r.state,a&&wa(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Rs(e,t.containerInfo)}var Ko,Xo,Yo,Zo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,a=t.pendingProps,s=Fs.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(s|=1),ua(Fs,1&s),null===e?(void 0!==a.fallback&&Vs(t),e=a.children,s=a.fallback,o?(e=Qo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof a.unstable_expectedLoadTime?(e=Qo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Yc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=ti(e,t,a.children,a.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,a):(n=ei(e,t,a.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var a=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Yc(t,a,0,null),n=Xc(n,a,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ei(e,t,n,r){var a=e.child;return e=a.sibling,n=qc(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ti(e,t,n,r,a){var s=t.mode,o=e.child;e=o.sibling;var i={mode:"hidden",children:n};return 0===(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=i,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qc(o,i),null!==e?r=qc(e,r):(r=Xc(r,s,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ni(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ri(e,t,n,r,a,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=s)}function ai(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fs.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ni(e,n);else if(19===e.tag)ni(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ua(Fs,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ri(t,!1,a,n,s,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===js(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ri(t,!0,n,null,s,t.lastEffect);break;case"together":ri(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function si(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ui|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function oi(e,t){if(!Bs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ii(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ya(),null;case 3:return Ds(),la(ha),la(pa),Xs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Hs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Xo(t),null;case 5:Ps(t);var s=As(Os.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=As(Is.current),Hs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$r]=t,r[Jr]=i,n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)_r(Cr[e],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":ee(r,i),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_r("invalid",r);break;case"textarea":ce(r,i),_r("invalid",r)}for(var l in Ne(n,i),e=null,i)i.hasOwnProperty(l)&&(s=i[l],"children"===l?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):c.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&_r("scroll",r));switch(n){case"input":Z(r),re(r,i,!0);break;case"textarea":Z(r),ue(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===s.nodeType?s:s.ownerDocument,e===de.html&&(e=pe(n)),e===de.html?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ko(e,t,!1,!1),t.stateNode=e,l=Se(n,r),n){case"dialog":_r("cancel",e),_r("close",e),s=r;break;case"iframe":case"object":case"embed":_r("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cr.length;s++)_r(Cr[s],e);s=r;break;case"source":_r("error",e),s=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),s=r;break;case"details":_r("toggle",e),s=r;break;case"input":ee(e,r),s=Q(e,r),_r("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=a({},r,{value:void 0}),_r("invalid",e);break;case"textarea":ce(e,r),s=ie(e,r),_r("invalid",e);break;default:s=r}Ne(n,s);var u=s;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];"style"===i?we(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(c.hasOwnProperty(i)?null!=d&&"onScroll"===i&&_r("scroll",e):null!=d&&x(e,i,d,l))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?oe(e,!!r.multiple,i,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=zr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=As(Os.current),As(Is.current),Hs(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return la(Fs),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Hs(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fs.current)?0===Li&&(Li=3):(0!==Li&&3!==Li||(Li=4),null===Di||0===(134217727&Ui)&&0===(134217727&Wi)||bc(Di,Pi))),(r||n)&&(t.flags|=4),null);case 4:return Ds(),Xo(t),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(la(Fs),null===(r=t.memoizedState))return null;if(i=0!==(64&t.flags),null===(l=r.rendering))if(i)oi(r,!1);else{if(0!==Li||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=js(e))){for(t.flags|=64,oi(r,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ua(Fs,1&Fs.current|2),t.child}e=e.sibling}null!==r.tail&&Wa()>qi&&(t.flags|=64,i=!0,oi(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=js(l))){if(t.flags|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Bs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wa()-r.renderingStartTime>qi&&1073741824!==n&&(t.flags|=64,i=!0,oi(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wa(),n.sibling=null,t=Fs.current,ua(Fs,i?1&t|2:1&t),n):null;case 23:case 24:return Nc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ci(e){switch(e.tag){case 1:ga(e.type)&&ya();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ds(),la(ha),la(pa),Xs(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ps(e),null;case 13:return la(Fs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return la(Fs),null;case 4:return Ds(),null;case 10:return ns(e),null;case 23:case 24:return Nc(),null;default:return null}}function li(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(){},Yo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,As(Is.current);var o,i=null;switch(n){case"input":s=Q(e,s),r=Q(e,r),i=[];break;case"option":s=se(e,s),r=se(e,r),i=[];break;case"select":s=a({},s,{value:void 0}),r=a({},r,{value:void 0}),i=[];break;case"textarea":s=ie(e,s),r=ie(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(d in Ne(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&_r("scroll",e),i||l===u||(i=[])):"object"===typeof u&&null!==u&&u.$$typeof===P?u.toString():(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Zo=function(e,t,n,r){n!==r&&(t.flags|=4)};var di="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zi||(Zi=!0,$i=r),ui(0,t)},n}function hi(e,t,n){(n=ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ui(0,t),r(a)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ji?Ji=new Set([this]):Ji.add(this),ui(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fi="function"===typeof WeakSet?WeakSet:Set;function mi(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bc(e,n)}else t.current=null}function gi(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Za(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(o(163))}function yi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(jc(n,e),Fc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Za(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&hs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}hs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function bi(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=xe("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vi(e,t){if(Na&&"function"===typeof Na.onCommitFiberUnmount)try{Na.onCommitFiberUnmount(ka,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))jc(t,n);else{r=t;try{a()}catch(s){Bc(r,s)}}n=n.next}while(n!==e)}break;case 1:if(mi(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Bc(t,s)}break;case 5:mi(t);break;case 4:Ci(e,t)}}function xi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wi(e){return 5===e.tag||3===e.tag||4===e.tag}function ki(e){e:{for(var t=e.return;null!==t;){if(wi(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ni(e,n,t):Si(e,n,t)}function Ni(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(Ni(e,t,n),e=e.sibling;null!==e;)Ni(e,t,n),e=e.sibling}function Si(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Si(e,t,n),e=e.sibling;null!==e;)Si(e,t,n),e=e.sibling}function Ci(e,t){for(var n,r,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var i=e,c=a,l=c;;)if(vi(i,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(i=n,c=a.stateNode,8===i.nodeType?i.parentNode.removeChild(c):i.removeChild(c)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(vi(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ti(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,a),t=Se(e,r),a=0;a<s.length;a+=2){var i=s[a],c=s[a+1];"style"===i?we(n,c):"dangerouslySetInnerHTML"===i?ge(n,c):"children"===i?ye(n,c):x(n,i,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hi=Wa(),bi(t.child,!0)),void Ei(t);case 19:return void Ei(t);case 23:case 24:return void bi(t,null!==t.memoizedState)}throw Error(o(163))}function Ei(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fi),t.forEach((function(t){var r=Wc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ii(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var _i=Math.ceil,Oi=w.ReactCurrentDispatcher,Ai=w.ReactCurrentOwner,Ri=0,Di=null,Mi=null,Pi=0,Fi=0,ji=ca(0),Li=0,zi=null,Bi=0,Ui=0,Wi=0,Vi=0,Gi=null,Hi=0,qi=1/0;function Ki(){qi=Wa()+500}var Xi,Yi=null,Zi=!1,$i=null,Ji=null,Qi=!1,ec=null,tc=90,nc=[],rc=[],ac=null,sc=0,oc=null,ic=-1,cc=0,lc=0,uc=null,dc=!1;function pc(){return 0!==(48&Ri)?Wa():-1!==ic?ic:ic=Wa()}function hc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Va()?1:2;if(0===cc&&(cc=Bi),0!==Ya.transition){0!==lc&&(lc=null!==Gi?Gi.pendingLanes:0),e=cc;var t=4186112&~lc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Va(),0!==(4&Ri)&&98===e?e=zt(12,cc):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cc),e}function fc(e,t,n){if(50<sc)throw sc=0,oc=null,Error(o(185));if(null===(e=mc(e,t)))return null;Wt(e,t,n),e===Di&&(Wi|=t,4===Li&&bc(e,Pi));var r=Va();1===t?0!==(8&Ri)&&0===(48&Ri)?vc(e):(gc(e,n),0===Ri&&(Ki(),Ka())):(0===(4&Ri)||98!==r&&99!==r||(null===ac?ac=new Set([e]):ac.add(e)),gc(e,n)),Gi=e}function mc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var c=31-Vt(i),l=1<<c,u=s[c];if(-1===u){if(0===(l&r)||0!==(l&a)){u=t,Ft(l);var d=Pt;s[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);i&=~l}if(r=jt(e,e===Di?Pi:0),t=Pt,0===r)null!==n&&(n!==Fa&&Ta(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fa&&Ta(n)}15===t?(n=vc.bind(null,e),null===La?(La=[n],za=Ca(Aa,Xa)):La.push(n),n=Fa):14===t?n=qa(99,vc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=qa(n,yc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yc(e){if(ic=-1,lc=cc=0,0!==(48&Ri))throw Error(o(327));var t=e.callbackNode;if(Pc()&&e.callbackNode!==t)return null;var n=jt(e,e===Di?Pi:0);if(0===n)return null;var r=n,a=Ri;Ri|=16;var s=Tc();for(Di===e&&Pi===r||(Ki(),Sc(e,r));;)try{_c();break}catch(c){Cc(e,c)}if(ts(),Oi.current=s,Ri=a,null!==Mi?r=0:(Di=null,Pi=0,r=Li),0!==(Bi&Wi))Sc(e,0);else if(0!==r){if(2===r&&(Ri|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Lt(e))&&(r=Ec(e,n))),1===r)throw t=zi,Sc(e,0),bc(e,n),gc(e,Wa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rc(e);break;case 3:if(bc(e,n),(62914560&n)===n&&10<(r=Hi+500-Wa())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){pc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gr(Rc.bind(null,e),r);break}Rc(e);break;case 4:if(bc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var i=31-Vt(n);s=1<<i,(i=r[i])>a&&(a=i),n&=~s}if(n=a,10<(n=(120>(n=Wa()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_i(n/1960))-n)){e.timeoutHandle=Gr(Rc.bind(null,e),n);break}Rc(e);break;default:throw Error(o(329))}}return gc(e,Wa()),e.callbackNode===t?yc.bind(null,e):null}function bc(e,t){for(t&=~Vi,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(48&Ri))throw Error(o(327));if(Pc(),e===Di&&0!==(e.expiredLanes&Pi)){var t=Pi,n=Ec(e,t);0!==(Bi&Wi)&&(n=Ec(e,t=jt(e,t)))}else n=Ec(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ri|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Lt(e))&&(n=Ec(e,t))),1===n)throw n=zi,Sc(e,0),bc(e,t),gc(e,Wa()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e),gc(e,Wa()),null}function xc(e,t){var n=Ri;Ri|=1;try{return e(t)}finally{0===(Ri=n)&&(Ki(),Ka())}}function wc(e,t){var n=Ri;Ri&=-2,Ri|=8;try{return e(t)}finally{0===(Ri=n)&&(Ki(),Ka())}}function kc(e,t){ua(ji,Fi),Fi|=t,Bi|=t}function Nc(){Fi=ji.current,la(ji)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Mi)for(n=Mi.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ya();break;case 3:Ds(),la(ha),la(pa),Xs();break;case 5:Ps(r);break;case 4:Ds();break;case 13:case 19:la(Fs);break;case 10:ns(r);break;case 23:case 24:Nc()}n=n.return}Di=e,Mi=qc(e.current,null),Pi=Fi=Bi=t,Li=0,zi=null,Vi=Wi=Ui=0}function Cc(e,t){for(;;){var n=Mi;try{if(ts(),Ys.current=Ao,to){for(var r=Js.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}to=!1}if($s=0,eo=Qs=Js=null,no=!1,Ai.current=null,null===n||null===n.return){Li=1,zi=t,Mi=null;break}e:{var s=e,o=n.return,i=n,c=t;if(t=Pi,i.flags|=2048,i.firstEffect=i.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c;if(0===(2&i.mode)){var u=i.alternate;u?(i.updateQueue=u.updateQueue,i.memoizedState=u.memoizedState,i.lanes=u.lanes):(i.updateQueue=null,i.memoizedState=null)}var d=0!==(1&Fs.current),p=o;do{var h;if(h=13===p.tag){var f=p.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var m=p.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(h){var g=p.updateQueue;if(null===g){var y=new Set;y.add(l),p.updateQueue=y}else g.add(l);if(0===(2&p.mode)){if(p.flags|=64,i.flags|=16384,i.flags&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var b=ls(-1,1);b.tag=2,us(i,b)}i.lanes|=1;break e}c=void 0,i=t;var v=s.pingCache;if(null===v?(v=s.pingCache=new di,c=new Set,v.set(l,c)):void 0===(c=v.get(l))&&(c=new Set,v.set(l,c)),!c.has(i)){c.add(i);var x=Uc.bind(null,s,l,i);l.then(x,x)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);c=Error((K(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Li&&(Li=2),c=li(c,i),p=o;do{switch(p.tag){case 3:s=c,p.flags|=4096,t&=-t,p.lanes|=t,ds(p,pi(0,s,t));break e;case 1:s=c;var w=p.type,k=p.stateNode;if(0===(64&p.flags)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ji||!Ji.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,ds(p,hi(p,s,t));break e}}p=p.return}while(null!==p)}Ac(n)}catch(N){t=N,Mi===n&&null!==n&&(Mi=n=n.return);continue}break}}function Tc(){var e=Oi.current;return Oi.current=Ao,null===e?Ao:e}function Ec(e,t){var n=Ri;Ri|=16;var r=Tc();for(Di===e&&Pi===t||Sc(e,t);;)try{Ic();break}catch(a){Cc(e,a)}if(ts(),Ri=n,Oi.current=r,null!==Mi)throw Error(o(261));return Di=null,Pi=0,Li}function Ic(){for(;null!==Mi;)Oc(Mi)}function _c(){for(;null!==Mi&&!Ea();)Oc(Mi)}function Oc(e){var t=Xi(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,null===t?Ac(e):Mi=t,Ai.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ii(n,t,Fi)))return void(Mi=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fi)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ci(t)))return n.flags&=2047,void(Mi=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Mi=t);Mi=t=e}while(null!==t);0===Li&&(Li=5)}function Rc(e){var t=Va();return Ha(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{Pc()}while(null!==ec);if(0!==(48&Ri))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,s=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var i=e.eventTimes,c=e.expirationTimes;0<s;){var l=31-Vt(s),u=1<<l;a[l]=0,i[l]=-1,c[l]=-1,s&=~u}if(null!==ac&&0===(24&r)&&ac.has(e)&&ac.delete(e),e===Di&&(Mi=Di=null,Pi=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ri,Ri|=32,Ai.current=null,Br=Xt,gr(i=mr())){if("selectionStart"in i)c={start:i.selectionStart,end:i.selectionEnd};else e:if(c=(c=i.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(T){c=null;break e}var d=0,p=-1,h=-1,f=0,m=0,g=i,y=null;t:for(;;){for(var b;g!==c||0!==s&&3!==g.nodeType||(p=d+s),g!==l||0!==u&&3!==g.nodeType||(h=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===i)break t;if(y===c&&++f===s&&(p=d),y===l&&++m===u&&(h=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}c=-1===p||-1===h?null:{start:p,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Ur={focusedElem:i,selectionRange:c},Xt=!1,uc=null,dc=!1,Yi=r;do{try{Mc()}catch(T){if(null===Yi)throw Error(o(330));Bc(Yi,T),Yi=Yi.nextEffect}}while(null!==Yi);uc=null,Yi=r;do{try{for(i=e;null!==Yi;){var v=Yi.flags;if(16&v&&ye(Yi.stateNode,""),128&v){var x=Yi.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&v){case 2:ki(Yi),Yi.flags&=-3;break;case 6:ki(Yi),Yi.flags&=-3,Ti(Yi.alternate,Yi);break;case 1024:Yi.flags&=-1025;break;case 1028:Yi.flags&=-1025,Ti(Yi.alternate,Yi);break;case 4:Ti(Yi.alternate,Yi);break;case 8:Ci(i,c=Yi);var k=c.alternate;xi(c),null!==k&&xi(k)}Yi=Yi.nextEffect}}catch(T){if(null===Yi)throw Error(o(330));Bc(Yi,T),Yi=Yi.nextEffect}}while(null!==Yi);if(w=Ur,x=mr(),v=w.focusedElem,i=w.selectionRange,x!==v&&v&&v.ownerDocument&&fr(v.ownerDocument.documentElement,v)){null!==i&&gr(v)&&(x=i.start,void 0===(w=i.end)&&(w=x),"selectionStart"in v?(v.selectionStart=x,v.selectionEnd=Math.min(w,v.value.length)):(w=(x=v.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=v.textContent.length,k=Math.min(i.start,c),i=void 0===i.end?k:Math.min(i.end,c),!w.extend&&k>i&&(c=i,i=k,k=c),c=hr(v,k),s=hr(v,i),c&&s&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),k>i?(w.addRange(x),w.extend(s.node,s.offset)):(x.setEnd(s.node,s.offset),w.addRange(x))))),x=[];for(w=v;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof v.focus&&v.focus(),v=0;v<x.length;v++)(w=x[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!Br,Ur=Br=null,e.current=n,Yi=r;do{try{for(v=e;null!==Yi;){var N=Yi.flags;if(36&N&&yi(v,Yi.alternate,Yi),128&N){x=void 0;var S=Yi.ref;if(null!==S){var C=Yi.stateNode;Yi.tag,x=C,"function"===typeof S?S(x):S.current=x}}Yi=Yi.nextEffect}}catch(T){if(null===Yi)throw Error(o(330));Bc(Yi,T),Yi=Yi.nextEffect}}while(null!==Yi);Yi=null,ja(),Ri=a}else e.current=n;if(Qi)Qi=!1,ec=e,tc=t;else for(Yi=r;null!==Yi;)t=Yi.nextEffect,Yi.nextEffect=null,8&Yi.flags&&((N=Yi).sibling=null,N.stateNode=null),Yi=t;if(0===(r=e.pendingLanes)&&(Ji=null),1===r?e===oc?sc++:(sc=0,oc=e):sc=0,n=n.stateNode,Na&&"function"===typeof Na.onCommitFiberRoot)try{Na.onCommitFiberRoot(ka,n,void 0,64===(64&n.current.flags))}catch(T){}if(gc(e,Wa()),Zi)throw Zi=!1,e=$i,$i=null,e;return 0!==(8&Ri)||Ka(),null}function Mc(){for(;null!==Yi;){var e=Yi.alternate;dc||null===uc||(0!==(8&Yi.flags)?Qe(Yi,uc)&&(dc=!0):13===Yi.tag&&Ii(e,Yi)&&Qe(Yi,uc)&&(dc=!0));var t=Yi.flags;0!==(256&t)&&gi(e,Yi),0===(512&t)||Qi||(Qi=!0,qa(97,(function(){return Pc(),null}))),Yi=Yi.nextEffect}}function Pc(){if(90!==tc){var e=97<tc?97:tc;return tc=90,Ha(e,Lc)}return!1}function Fc(e,t){nc.push(t,e),Qi||(Qi=!0,qa(97,(function(){return Pc(),null})))}function jc(e,t){rc.push(t,e),Qi||(Qi=!0,qa(97,(function(){return Pc(),null})))}function Lc(){if(null===ec)return!1;var e=ec;if(ec=null,0!==(48&Ri))throw Error(o(331));var t=Ri;Ri|=32;var n=rc;rc=[];for(var r=0;r<n.length;r+=2){var a=n[r],s=n[r+1],i=a.destroy;if(a.destroy=void 0,"function"===typeof i)try{i()}catch(l){if(null===s)throw Error(o(330));Bc(s,l)}}for(n=nc,nc=[],r=0;r<n.length;r+=2){a=n[r],s=n[r+1];try{var c=a.create;a.destroy=c()}catch(l){if(null===s)throw Error(o(330));Bc(s,l)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ri=t,Ka(),!0}function zc(e,t,n){us(e,t=pi(0,t=li(n,t),1)),t=pc(),null!==(e=mc(e,1))&&(Wt(e,1,t),gc(e,t))}function Bc(e,t){if(3===e.tag)zc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ji||!Ji.has(r))){var a=hi(n,e=li(t,e),1);if(us(n,a),a=pc(),null!==(n=mc(n,1)))Wt(n,1,a),gc(n,a);else if("function"===typeof r.componentDidCatch&&(null===Ji||!Ji.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function Uc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pc(),e.pingedLanes|=e.suspendedLanes&n,Di===e&&(Pi&n)===n&&(4===Li||3===Li&&(62914560&Pi)===Pi&&500>Wa()-Hi?Sc(e,0):Vi|=n),gc(e,t)}function Wc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Va()?1:2:(0===cc&&(cc=Bi),0===(t=Bt(62914560&~cc))&&(t=4194304))),n=pc(),null!==(e=mc(e,t))&&(Wt(e,t,n),gc(e,n))}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gc(e,t,n,r){return new Vc(e,t,n,r)}function Hc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=Gc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Hc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return Xc(n.children,a,s,t);case F:i=8,a|=16;break;case C:i=8,a|=1;break;case T:return(e=Gc(12,n,t,8|a)).elementType=T,e.type=T,e.lanes=s,e;case O:return(e=Gc(13,n,t,a)).type=O,e.elementType=O,e.lanes=s,e;case A:return(e=Gc(19,n,t,a)).elementType=A,e.lanes=s,e;case j:return Yc(n,a,s,t);case L:return(e=Gc(24,n,t,a)).elementType=L,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case I:i=9;break e;case _:i=11;break e;case R:i=14;break e;case D:i=16,r=null;break e;case M:i=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Gc(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Xc(e,t,n,r){return(e=Gc(7,e,r,t)).lanes=n,e}function Yc(e,t,n,r){return(e=Gc(23,e,r,t)).elementType=j,e.lanes=n,e}function Zc(e,t,n){return(e=Gc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Gc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r){var a=t.current,s=pc(),i=hc(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(ga(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var l=n.type;if(ga(l)){n=va(n,l,c);break e}}n=c}else n=da;return null===t.context?t.context=n:t.pendingContext=n,(t=ls(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),us(a,t),fc(a,i,s),i}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jc(e,t,null!=n&&!0===n.hydrate),t=Gc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,is(t),e[Qr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sl(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof a){var i=a;a=function(){var e=el(o);i.call(e)}}Qc(t,o,e,a)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"===typeof a){var c=a;a=function(){var e=el(o);c.call(e)}}wc((function(){Qc(t,o,e,a)}))}return el(o)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Xi=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ha.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:qo(t),qs();break;case 5:Ms(t);break;case 1:ga(t.type)&&xa(t);break;case 4:Rs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;ua($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(ua(Fs,1&Fs.current),null!==(t=si(e,t,n))?t.sibling:null);ua(Fs,1&Fs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ai(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ua(Fs,Fs.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return si(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ma(t,pa.current),as(t,n),a=so(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var s=!0;xa(t)}else s=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,is(t);var i=r.getDerivedStateFromProps;"function"===typeof i&&ms(t,r,i,e),a.updater=gs,t.stateNode=a,a._reactInternals=t,xs(t,r,e,n),t=Ho(null,t,r,!0,s,n)}else t.tag=0,jo(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Hc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===R)return 14}return 2}(a),e=Za(a,e),s){case 0:t=Vo(null,t,a,e,n);break e;case 1:t=Go(null,t,a,e,n);break e;case 11:t=Lo(null,t,a,e,n);break e;case 14:t=zo(null,t,a,Za(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Vo(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 1:return r=t.type,a=t.pendingProps,Go(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,cs(e,t),ps(t,r,null,n),(r=t.memoizedState.element)===a)qs(),t=si(e,t,n);else{if((s=(a=t.stateNode).hydrate)&&(zs=Kr(t.stateNode.containerInfo.firstChild),Ls=t,s=Bs=!0),s){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(s=e[a])._workInProgressVersionPrimary=e[a+1],Ks.push(s);for(n=Ts(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),qs();t=t.child}return t;case 5:return Ms(t),null===e&&Vs(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,Vr(r,a)?i=null:null!==s&&Vr(r,s)&&(t.flags|=16),Wo(e,t),jo(e,t,i,n),t.child;case 6:return null===e&&Vs(t),null;case 13:return Jo(e,t,n);case 4:return Rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Cs(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Lo(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value;var c=t.type._context;if(ua($a,c._currentValue),c._currentValue=s,null!==i)if(c=i.value,0===(s=lr(c,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,s):1073741823))){if(i.children===a.children&&!ha.current){t=si(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){i=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&s)){1===c.tag&&((u=ls(-1,n&-n)).tag=2,us(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),rs(c.return,n),l.lanes|=n;break}u=u.next}}else i=10===c.tag&&c.type===t.type?null:c.child;if(null!==i)i.return=c;else for(i=c;null!==i;){if(i===t){i=null;break}if(null!==(c=i.sibling)){c.return=i.return,i=c;break}i=i.return}c=i}jo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(s=t.pendingProps).children,as(t,n),r=r(a=ss(a,s.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return s=Za(a=t.type,t.pendingProps),zo(e,t,a,s=Za(a.type,s),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Za(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,xa(t)):e=!1,as(t,n),bs(t,r,a),xs(t,r,a,n),Ho(null,t,r,!0,e,n);case 19:return ai(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},rl.prototype.render=function(e){Qc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qc(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(fc(e,4,pc()),nl(e,4))},tt=function(e){13===e.tag&&(fc(e,67108864,pc()),nl(e,67108864))},nt=function(e){if(13===e.tag){var t=pc(),n=hc(e);fc(e,n,t),nl(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=aa(r);if(!a)throw Error(o(90));$(r),ne(r,a)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=xc,De=function(e,t,n,r,a){var s=Ri;Ri|=4;try{return Ha(98,e.bind(null,t,n,r,a))}finally{0===(Ri=s)&&(Ki(),Ka())}},Me=function(){0===(49&Ri)&&(function(){if(null!==ac){var e=ac;ac=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gc(e,Wa())}))}Ka()}(),Pc())},Pe=function(e,t){var n=Ri;Ri|=2;try{return e(t)}finally{0===(Ri=n)&&(Ki(),Ka())}};var il={Events:[na,ra,aa,Oe,Ae,Pc,{current:!1}]},cl={findFiberByHostInstance:ta,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ll={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{ka=ul.inject(ll),Na=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=il,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ri;if(0!==(48&n))return e(t);Ri|=1;try{if(e)return Ha(99,e.bind(null,t))}finally{Ri=n,Ka()}},t.hydrate=function(e,t,n){if(!al(t))throw Error(o(200));return sl(null,e,t,!0,n)},t.render=function(e,t,n){if(!al(t))throw Error(o(200));return sl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!al(e))throw Error(o(40));return!!e._reactRootContainer&&(wc((function(){sl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=xc,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return sl(e,t,n,!1,r)},t.version="17.0.2"},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var i,c,l,u;if(Array.isArray(e)){if((i=e.length)!=o.length)return!1;for(c=i;0!==c--;)if(!s(e[c],o[c]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!s(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((i=e.length)!=o.length)return!1;for(c=i;0!==c--;)if(e[c]!==o[c])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((i=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(c=i;0!==c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=i;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!s(e[l[c]],o[l[c]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},5082:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,i=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case i:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case m:case c:return e;default:return t}}case a:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=i,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===i||e===o||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},5484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function s(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==i){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>o}),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},510:(e,t,n)=>{"use strict";var r,a,s,o,i=n(166).default,c=Object.getOwnPropertyNames,l=(e,t)=>function(){return t||(0,e[c(e)[0]])((t={exports:{}}).exports,t),t.exports},u=l({"node_modules/goober/dist/goober.cjs"(e){var t,n,r,a={data:""},s=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,i=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,l=(e,t)=>{let n="",r="",a="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?l(o,s):s+"{"+l(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=l(o,t?t.replace(/([^,])+/g,(e=>s.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=l.p?l.p(s,o):s+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+r},u={},d=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+d(e[n]);return t}return e};function p(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,a)=>{let s=d(e),p=u[s]||(u[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!u[p]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=o.exec(e.replace(i,""));)t[4]?r.shift():t[3]?(n=t[3].replace(c," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(c," ").trim();return r[0]})(e);u[p]=l(a?{["@keyframes "+p]:t}:t,n?"":"."+p)}let h=n&&u.g?u.g:null;return n&&(u.g=u[p]),f=u[p],m=t,g=r,(y=h)?m.data=m.data.replace(y,f):-1===m.data.indexOf(f)&&(m.data=g?f+m.data:m.data+f),p;var f,m,g,y})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,s(t.target),t.g,t.o,t.k)}var h=p.bind({g:1}),f=p.bind({k:1});e.css=p,e.extractCss=e=>{let t=s(e),n=t.data;return t.data="",n},e.glob=h,e.keyframes=f,e.setup=function(e,a,s,o){l.p=a,t=e,n=s,r=o},e.styled=function(e,a){let s=this||{};return function(){let o=arguments;function i(c,l){let u=Object.assign({},c),d=u.className||i.className;s.p=Object.assign({theme:n&&n()},u),s.o=/ *go\d+/.test(d),u.className=p.apply(s,o)+(d?" "+d:""),a&&(u.ref=l);let h=e;return e[0]&&(h=u.as||e,delete u.as),r&&h[0]&&r(u),t(h,u)}return a?a(i):i}}}}),d=l({"build/MultiStep.js"(e){var t=e&&e.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return l(t,e),t};Object.defineProperty(e,"__esModule",{value:!0});var p=n(579),h=d(n(5043)),f=u();(0,f.setup)(h.default.createElement);var m,g,y,b=(0,f.styled)("ol")(r||(r=i(["\n  display: flex;\n  margin: 0;\n  padding-bottom: 2.2rem;\n  list-style-type: none;\n"]))),v=(0,f.styled)("li")(a||(a=i(['\n  display: inline-block;\n  text-align: center;\n  line-height: 4.8rem;\n  padding: 0 0.7rem;\n  cursor: pointer;\n  min-width: 6rem;\n\n  color: silver;\n  border-bottom: 2px solid silver;\n\n span{\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n }\n\n  &:hover,\n  &:before {\n    color: #0FA0CE;\n  }\n  &:after {\n    content: "\\00a0\\00a0";\n  }   \n  &:before {\n    position: relative;\n    float: left;\n    left: 50%;\n    width: 1.3em;\n    line-height: 1.4em;\n    border-radius: 50%;\n    bottom: -3.99rem;\n  }\n'],['\n  display: inline-block;\n  text-align: center;\n  line-height: 4.8rem;\n  padding: 0 0.7rem;\n  cursor: pointer;\n  min-width: 6rem;\n\n  color: silver;\n  border-bottom: 2px solid silver;\n\n span{\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n }\n\n  &:hover,\n  &:before {\n    color: #0FA0CE;\n  }\n  &:after {\n    content: "\\\\00a0\\\\00a0";\n  }   \n  &:before {\n    position: relative;\n    float: left;\n    left: 50%;\n    width: 1.3em;\n    line-height: 1.4em;\n    border-radius: 50%;\n    bottom: -3.99rem;\n  }\n']))),x=(0,f.css)(m||(m=t(['\n  &:before {\n    content: "\u039f";\n    color: silver;\n    background-color: white;\n  }\n'],['\n  &:before {\n    content: "\\u039F";\n    color: silver;\n    background-color: white;\n  }\n']))),w=(0,f.css)(g||(g=t(['\n  &:before {\n    content: "\u2022";\n    color: white;\n    background-color: #33C3F0;  \n  }\n'],['\n  &:before {\n    content: "\\u2022";\n    color: white;\n    background-color: #33C3F0;  \n  }\n']))),k=(0,f.css)(y||(y=t(['\n  &:before {\n    content: "\u2713";\n    color: white;\n    background-color: #33C3F0;\n  }\n'],['\n  &:before {\n    content: "\\u2713";\n    color: white;\n    background-color: #33C3F0;\n  }\n']))),N=(0,f.css)(s||(s=i(["\n  flex-direction: row;\n"]))),S=(0,f.css)(o||(o=i(["\n  margin-top: 4.8rem;\n  flex-direction: column;\n"]))),C=(e,t)=>{const n=[];for(let r=0;r<t;r++)r<e?n.push("done"):r===e?n.push("doing"):n.push("todo");return n},T=(e,t,n)=>e>0&&e<t-1?{showPrevBtn:!0,showNextBtn:!!n}:0===e?{showPrevBtn:!1,showNextBtn:!!n}:{showPrevBtn:!0,showNextBtn:!1};e.default=function(e){const{children:t}=e;let n=e.steps;if(!n&&!t)throw TypeError("missing children or steps in props");const[r,a]=(0,h.useState)(!0),s=e=>a(e);let o=[];if(t){let e=h.default.Children.map(t,((e,t)=>h.default.cloneElement(e,{signalIfValid:s})));o=e.map((e=>({title:e.props.title,component:e})))}else o=n;const i=o.length,c="undefined"===typeof e.stepCustomStyle?{}:e.stepCustomStyle,l="undefined"===typeof e.showNavigation||e.showNavigation,u="undefined"===typeof e.showTitles||e.showTitles,d="undefined"===typeof e.direction?"row":e.direction,[f,m]=(0,h.useState)((g=0,(y=e.activeStep)<=i?y:g));var g,y;const[E,I]=(0,h.useState)(C(f,i)),[_,O]=(0,h.useState)(T(f,i,r));(0,h.useEffect)((()=>{O(T(f,i,r))}),[f,r]);const A=(e,t)=>{I(C(e,i)),m(e<i?e:f),O(T(e,i,t))},R=()=>A(f+1),D=()=>A(f>0?f-1:f),M=e=>{r?e.currentTarget.value===i-1&&f===i-1?A(i):A(e.currentTarget.value):console.log("Child not in valid state - no transition")};return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column"===d?"row":"column"},children:[(0,p.jsx)(b,{className:"column"===d?S:N,children:o.map(((e,t)=>{var n;return(0,p.jsx)(v,{className:"todo"===E[t]?x:"doing"===E[t]?w:k,style:Object.assign(Object.assign({},c),{transform:"column"==d?"rotate(90deg)":"rotate(0deg)"}),onClick:M,value:t,children:u&&(0,p.jsx)("span",{children:null!==(n=e.title)&&void 0!==n?n:t+1})},t)}))}),o[f].component,(0,p.jsx)("div",{children:(P=l,F=e.prevButton,j=e.nextButton,P&&(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:D,style:null===F||void 0===F?void 0:F.style,disabled:!_.showPrevBtn,children:F&&F.title?(0,p.jsx)(p.Fragment,{children:F.title}):(0,p.jsx)(p.Fragment,{children:"Prev"})}),(0,p.jsx)("button",{onClick:R,style:null===j||void 0===j?void 0:j.style,disabled:!_.showNextBtn,children:j&&j.title?(0,p.jsx)(p.Fragment,{children:j.title}):(0,p.jsx)(p.Fragment,{children:"Next"})})]}))})]});var P,F,j}}}),p=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=p(d());t.default=h.default},9127:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.A=void 0;var a=i(n(5043)),s=i(n(5173)),o=n(9069);function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var s=p(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,s=u(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=s.call(this,e)).state={notifyTL:[],notifyTC:[],notifyTR:[],notifyBL:[],notifyBC:[],notifyBR:[],notifyID:[]},t.onDismiss=t.onDismiss.bind(d(t)),t.notificationAlert=t.notificationAlert.bind(d(t)),t.refNotification=a.default.createRef(),t}return t=i,(n=[{key:"componentWillUnmount",value:function(){for(var e=0;e<this.state.notifyID.length;e++)window.clearTimeout(this.state.notifyID[e])}},{key:"onDismiss",value:function(e,t,n){for(var r,s=[],o=this.state["notify"+t.toUpperCase()],i=0;i<o.length;i++)if(o[i].key!==e+""){var c;-1!==o[i].props.className.indexOf("fadeOutUp")?r=a.default.cloneElement(o[i]):void 0===n?(c=-1!==t.indexOf("b")?o[i].key>e+""?" animated moveDown":"":o[i].key>e+""?" animated moveUp":"",r=a.default.cloneElement(o[i],{className:"alert-with-icon"+c})):r=a.default.cloneElement(o[i],{className:"alert-with-icon"}),s.push(r)}else void 0===n&&(r=a.default.cloneElement(o[i],{className:"alert-with-icon animated fadeOutUp"}),s.push(r));if(void 0===n){var l=setTimeout(function(){this.onDismiss(e,t,"noAnimate")}.bind(this),800);this.setState({notifyID:[l].concat(this.state.notifyID)})}(o={})["notify"+t.toUpperCase()]=s,this.setState(o)}},{key:"notificationAlert",value:function(e){var t,n=this,r=this.state["notify"+e.place.toUpperCase()],s=r.length;r.length>0&&(s=-1!==e.place.indexOf("b")?parseInt(r[0].key,10)+1:parseInt(r[r.length-1].key,10)+1),!1!==e.closeButton&&(t=function(){return n.onDismiss(s,e.place)});var i=a.default.createElement(o.Alert,{color:e.type,className:"alert-with-icon animated fadeInDown",toggle:t,key:s,onClick:this.props.onClick},void 0!==e.icon&&a.default.createElement("span",{"data-notify":"icon",className:e.icon}),a.default.createElement("span",{"data-notify":"message"},e.message));-1!==e.place.indexOf("b")?r.unshift(i):r.push(i);var c={};if(c["notify"+e.place.toUpperCase()]=r,e.autoDismiss>0){var l=setTimeout(function(){this.onDismiss(s,e.place)}.bind(this),1e3*e.autoDismiss+1e3*(r.length-1));this.setState({notifyID:[l].concat(this.state.notifyID)})}this.setState(c)}},{key:"showAllNotifications",value:function(e){if(this.state["notify"+e.toUpperCase()].length>0){var t={display:"inline-block",margin:"0px auto",position:"fixed",transition:"all 0.5s ease-in-out",zIndex:this.props.zIndex};if(-1!==e.indexOf("t"))switch(t.top="20px",e){case"tl":t.left="20px";break;case"tc":t.left="0px",t.right="0px";break;case"tr":t.right="20px"}else switch(t.bottom="20px",e){case"bl":t.left="20px";break;case"bc":t.left="0px",t.right="0px";break;case"br":t.right="20px"}return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Col,{xs:"11",sm:"4",style:t},this.state["notify"+e.toUpperCase()].map((function(e,t){return e}))))}}},{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:this.refNotification},this.showAllNotifications("tl"),this.showAllNotifications("tc"),this.showAllNotifications("tr"),this.showAllNotifications("bl"),this.showAllNotifications("bc"),this.showAllNotifications("br")))}}])&&c(t.prototype,n),r&&c(t,r),i}(a.default.Component);h.defaultProps={zIndex:9999,onClick:function(){}},h.propTypes={zIndex:s.default.number,onClick:s.default.func};var f=h;t.A=f},4902:(e,t,n)=>{var r,a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))l.call(e,a)||a===n||s(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),p=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),h={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(h,{default:()=>b}),e.exports=(r=h,u(s({},"__esModule",{value:!0}),r));var f=d(n(5043)),m=d(n(6366)),g=n(6081),y=n(2206);class b extends f.Component{constructor(){var e;super(...arguments),e=this,p(this,"mounted",!1),p(this,"isReady",!1),p(this,"isPlaying",!1),p(this,"isLoading",!0),p(this,"loadOnReady",null),p(this,"startOnPlay",!0),p(this,"seekOnPlay",null),p(this,"onDurationCalled",!1),p(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),p(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),p(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),n=this.getDuration();if(n){const r={playedSeconds:e,played:e/n};null!==t&&(r.loadedSeconds=t,r.loaded=t/n),r.playedSeconds===this.prevPlayed&&r.loadedSeconds===this.prevLoaded||this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),p(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:n,muted:r}=this.props;e(),r||null===n||this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),p(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==n&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),p(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),p(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:n}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,n())})),p(this,"handleError",(function(){e.isLoading=!1,e.props.onError(...arguments)})),p(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),p(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:n,volume:r,muted:a,playbackRate:s,pip:o,loop:i,activePlayer:c,disableDeferredLoading:l}=this.props;if(!(0,m.default)(e.url,t)){if(this.isLoading&&!c.forceLoad&&!l&&!(0,y.isMediaStream)(t))return console.warn("ReactPlayer: the attempt to load ".concat(t," is being deferred until the player has loaded")),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!n||this.isPlaying||this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&o&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!o&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&null!==r&&this.player.setVolume(r),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),null!==r&&setTimeout((()=>this.player.setVolume(r))))),e.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),e.loop!==i&&this.player.setLoop&&this.player.setLoop(i)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,n){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,n):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e,n)}render(){const e=this.props.activePlayer;return e?f.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}p(b,"displayName","Player"),p(b,"propTypes",g.propTypes),p(b,"defaultProps",g.defaultProps)},961:(e,t,n)=>{var r,a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))l.call(e,a)||a===n||s(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),p=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),h={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(h,{createReactPlayer:()=>E}),e.exports=(r=h,u(s({},"__esModule",{value:!0}),r));var f=d(n(5043)),m=d(n(7789)),g=d(n(2906)),y=d(n(6366)),b=n(6081),v=n(2206),x=d(n(4902));const w=(0,v.lazy)((()=>n.e(353).then(n.t.bind(n,371,23)))),k="undefined"!==typeof window&&window.document&&"undefined"!==typeof document,N="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,S=Object.keys(b.propTypes),C=k||N?f.Suspense:()=>null,T=[],E=(e,t)=>{var n;return n=class extends f.Component{constructor(){var n;super(...arguments),n=this,p(this,"state",{showPreview:!!this.props.light}),p(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),p(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),p(this,"showPreview",(()=>{this.setState({showPreview:!0})})),p(this,"getDuration",(()=>this.player?this.player.getDuration():null)),p(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),p(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),p(this,"getInternalPlayer",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),p(this,"seekTo",((e,t,n)=>{if(!this.player)return null;this.player.seekTo(e,t,n)})),p(this,"handleReady",(()=>{this.props.onReady(this)})),p(this,"getActivePlayer",(0,g.default)((n=>{for(const t of[...T,...e])if(t.canPlay(n))return t;return t||null}))),p(this,"getConfig",(0,g.default)(((e,t)=>{const{config:n}=this.props;return m.default.all([b.defaultProps.config,b.defaultProps.config[t]||{},n,n[t]||{}])}))),p(this,"getAttributes",(0,g.default)((e=>(0,v.omit)(this.props,S)))),p(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const n=this.getConfig(e,t.key);return f.default.createElement(x.default,{...this.props,key:t.key,ref:this.references.player,config:n,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,y.default)(this.props,e)||!(0,y.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:a,previewAriaLabel:s}=this.props;return f.default.createElement(w,{url:e,light:t,playIcon:n,previewTabIndex:r,previewAriaLabel:s,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:n,height:r,fallback:a,wrapper:s}=this.props,{showPreview:o}=this.state,i=this.getAttributes(e),c="string"===typeof s?this.references.wrapper:void 0;return f.default.createElement(s,{ref:c,style:{...t,width:n,height:r},...i},f.default.createElement(C,{fallback:a},o?this.renderPreview(e):this.renderActivePlayer(e)))}},p(n,"displayName","ReactPlayer"),p(n,"propTypes",b.propTypes),p(n,"defaultProps",b.defaultProps),p(n,"addCustomPlayer",(e=>{T.push(e)})),p(n,"removeCustomPlayers",(()=>{T.length=0})),p(n,"canPlay",(t=>{for(const n of[...T,...e])if(n.canPlay(t))return!0;return!1})),p(n,"canEnablePIP",(t=>{for(const n of[...T,...e])if(n.canEnablePIP&&n.canEnablePIP(t))return!0;return!1})),n}},1043:(e,t,n)=>{var r,a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))l.call(e,a)||a===n||s(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(d,{default:()=>m}),e.exports=(r=d,u(s({},"__esModule",{value:!0}),r));var p=((e,t,n)=>(n=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(8838)),h=n(961);const f=p.default[p.default.length-1];var m=(0,h.createReactPlayer)(p.default,f)},1520:(e,t,n)=>{var r,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(c,{AUDIO_EXTENSIONS:()=>S,DASH_EXTENSIONS:()=>E,FLV_EXTENSIONS:()=>I,HLS_EXTENSIONS:()=>T,MATCH_URL_DAILYMOTION:()=>x,MATCH_URL_FACEBOOK:()=>f,MATCH_URL_FACEBOOK_WATCH:()=>m,MATCH_URL_KALTURA:()=>N,MATCH_URL_MIXCLOUD:()=>w,MATCH_URL_MUX:()=>h,MATCH_URL_SOUNDCLOUD:()=>d,MATCH_URL_STREAMABLE:()=>g,MATCH_URL_TWITCH_CHANNEL:()=>v,MATCH_URL_TWITCH_VIDEO:()=>b,MATCH_URL_VIDYARD:()=>k,MATCH_URL_VIMEO:()=>p,MATCH_URL_WISTIA:()=>y,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>C,canPlay:()=>O}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of o(t))i.call(e,c)||c===n||a(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(a({},"__esModule",{value:!0}),r));var l=n(2206);const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,p=/vimeo\.com\/(?!progressive_redirect).+/,h=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,f=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,m=/^https?:\/\/fb\.watch\/.+$/,g=/streamable\.com\/([a-z0-9]+)$/,y=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,b=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,v=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,x=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,w=/mixcloud\.com\/([^/]+\/[^/]+)/,k=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,N=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,S=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,C=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,T=/\.(m3u8)($|\?)/i,E=/\.(mpd)($|\?)/i,I=/\.(flv)($|\?)/i,_=e=>{if(e instanceof Array){for(const t of e){if("string"===typeof t&&_(t))return!0;if(_(t.src))return!0}return!1}return!(!(0,l.isMediaStream)(e)&&!(0,l.isBlobUrl)(e))||(S.test(e)||C.test(e)||T.test(e)||E.test(e)||I.test(e))},O={youtube:e=>e instanceof Array?e.every((e=>u.test(e))):u.test(e),soundcloud:e=>d.test(e)&&!S.test(e),vimeo:e=>p.test(e)&&!C.test(e)&&!T.test(e),mux:e=>h.test(e),facebook:e=>f.test(e)||m.test(e),streamable:e=>g.test(e),wistia:e=>y.test(e),twitch:e=>b.test(e)||v.test(e),dailymotion:e=>x.test(e),mixcloud:e=>w.test(e),vidyard:e=>k.test(e),kaltura:e=>N.test(e),file:_}},8838:(e,t,n)=>{Object.create;var r,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),c=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of o(t))i.call(e,c)||c===n||a(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{default:()=>p}),e.exports=(r=l,c(a({},"__esModule",{value:!0}),r));var u=n(2206),d=n(1520),p=[{key:"youtube",name:"YouTube",canPlay:d.canPlay.youtube,lazyPlayer:(0,u.lazy)((()=>n.e(446).then(n.t.bind(n,1059,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:d.canPlay.soundcloud,lazyPlayer:(0,u.lazy)((()=>n.e(979).then(n.t.bind(n,1848,23))))},{key:"vimeo",name:"Vimeo",canPlay:d.canPlay.vimeo,lazyPlayer:(0,u.lazy)((()=>n.e(173).then(n.t.bind(n,2458,23))))},{key:"mux",name:"Mux",canPlay:d.canPlay.mux,lazyPlayer:(0,u.lazy)((()=>n.e(723).then(n.t.bind(n,2003,23))))},{key:"facebook",name:"Facebook",canPlay:d.canPlay.facebook,lazyPlayer:(0,u.lazy)((()=>n.e(887).then(n.t.bind(n,6112,23))))},{key:"streamable",name:"Streamable",canPlay:d.canPlay.streamable,lazyPlayer:(0,u.lazy)((()=>n.e(627).then(n.t.bind(n,5912,23))))},{key:"wistia",name:"Wistia",canPlay:d.canPlay.wistia,lazyPlayer:(0,u.lazy)((()=>n.e(340).then(n.t.bind(n,4045,23))))},{key:"twitch",name:"Twitch",canPlay:d.canPlay.twitch,lazyPlayer:(0,u.lazy)((()=>n.e(42).then(n.t.bind(n,3267,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:d.canPlay.dailymotion,lazyPlayer:(0,u.lazy)((()=>n.e(328).then(n.t.bind(n,5145,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:d.canPlay.mixcloud,lazyPlayer:(0,u.lazy)((()=>n.e(570).then(n.t.bind(n,875,23))))},{key:"vidyard",name:"Vidyard",canPlay:d.canPlay.vidyard,lazyPlayer:(0,u.lazy)((()=>n.e(392).then(n.t.bind(n,5941,23))))},{key:"kaltura",name:"Kaltura",canPlay:d.canPlay.kaltura,lazyPlayer:(0,u.lazy)((()=>n.e(463).then(n.t.bind(n,8892,23))))},{key:"file",name:"FilePlayer",canPlay:d.canPlay.file,canEnablePIP:e=>d.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,u.supportsWebKitPresentationMode)())&&!d.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,u.lazy)((()=>n.e(458).then(n.t.bind(n,7691,23))))}]},6081:(e,t,n)=>{var r,a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))l.call(e,a)||a===n||s(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(d,{defaultProps:()=>S,propTypes:()=>k}),e.exports=(r=d,u(s({},"__esModule",{value:!0}),r));var p=((e,t,n)=>(n=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(5173));const{string:h,bool:f,number:m,array:g,oneOfType:y,shape:b,object:v,func:x,node:w}=p.default,k={url:y([h,g,v]),playing:f,loop:f,controls:f,volume:m,muted:f,playbackRate:m,width:y([h,m]),height:y([h,m]),style:v,progressInterval:m,playsinline:f,pip:f,stopOnUnmount:f,light:y([f,h,v]),playIcon:w,previewTabIndex:m,previewAriaLabel:h,fallback:w,oEmbedUrl:h,wrapper:y([h,x,b({render:x.isRequired})]),config:b({soundcloud:b({options:v}),youtube:b({playerVars:v,embedOptions:v,onUnstarted:x}),facebook:b({appId:h,version:h,playerId:h,attributes:v}),dailymotion:b({params:v}),vimeo:b({playerOptions:v,title:h}),mux:b({attributes:v,version:h}),file:b({attributes:v,tracks:g,forceVideo:f,forceAudio:f,forceHLS:f,forceSafariHLS:f,forceDisableHls:f,forceDASH:f,forceFLV:f,hlsOptions:v,hlsVersion:h,dashVersion:h,flvVersion:h}),wistia:b({options:v,playerId:h,customControls:g}),mixcloud:b({options:v}),twitch:b({options:v,playerId:h}),vidyard:b({options:v})}),onReady:x,onStart:x,onPlay:x,onPause:x,onBuffer:x,onBufferEnd:x,onEnded:x,onError:x,onDuration:x,onSeek:x,onPlaybackRateChange:x,onPlaybackQualityChange:x,onProgress:x,onClickPreview:x,onEnablePIP:x,onDisablePIP:x},N=()=>{},S={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:N},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:N,onStart:N,onPlay:N,onPause:N,onBuffer:N,onBufferEnd:N,onEnded:N,onError:N,onDuration:N,onSeek:N,onPlaybackRateChange:N,onPlaybackQualityChange:N,onProgress:N,onClickPreview:N,onEnablePIP:N,onDisablePIP:N}},2206:(e,t,n)=>{var r,a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))l.call(e,a)||a===n||s(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),p={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(p,{callPlayer:()=>A,getConfig:()=>_,getSDK:()=>I,isBlobUrl:()=>D,isMediaStream:()=>R,lazy:()=>g,omit:()=>O,parseEndTime:()=>N,parseStartTime:()=>k,queryString:()=>C,randomString:()=>S,supportsWebKitPresentationMode:()=>M}),e.exports=(r=p,u(s({},"__esModule",{value:!0}),r));var h=d(n(5043)),f=d(n(3452)),m=d(n(7789));const g=e=>h.default.lazy((async()=>{const t=await e();return"function"===typeof t.default?t:t.default})),y=/[?&#](?:start|t)=([0-9hms]+)/,b=/[?&#]end=([0-9hms]+)/,v=/(\d+)(h|m|s)/g,x=/^\d+$/;function w(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const e=n[1];if(e.match(v))return function(e){let t=0,n=v.exec(e);for(;null!==n;){const[,r,a]=n;"h"===a&&(t+=60*parseInt(r,10)*60),"m"===a&&(t+=60*parseInt(r,10)),"s"===a&&(t+=parseInt(r,10)),n=v.exec(e)}return t}(e);if(x.test(e))return parseInt(e)}}function k(e){return w(e,y)}function N(e){return w(e,b)}function S(){return Math.random().toString(36).substr(2,5)}function C(e){return Object.keys(e).map((t=>"".concat(t,"=").concat(e[t]))).join("&")}function T(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const E={},I=function(e){0;return e}((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.default;const s=T(t);return s&&r(s)?Promise.resolve(s):new Promise(((r,s)=>{if(E[e])return void E[e].push({resolve:r,reject:s});E[e]=[{resolve:r,reject:s}];const o=t=>{E[e].forEach((e=>e.resolve(t)))};if(n){const e=window[n];window[n]=function(){e&&e(),o(T(t))}}a(e,(r=>{r?(E[e].forEach((e=>e.reject(r))),E[e]=null):n||o(T(t))}))}))}));function _(e,t){return(0,m.default)(t.config,e.config)}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=[].concat(...n),s={},o=Object.keys(e);for(const i of o)-1===a.indexOf(i)&&(s[i]=e[i]);return s}function A(e){if(!this.player||!this.player[e]){let t="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.player[e](...n)}function R(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream}function D(e){return/^blob:/.test(e)}function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video");const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t}},5323:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var a=n(3447),s=r(n(5043)),o=n(7321);n(5173),n(8620);var i=r(n(2213));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=o.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return s.createElement(a.Router,{history:this.history,children:this.props.children})},t}(s.Component),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=o.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return s.createElement(a.Router,{history:this.history,children:this.props.children})},t}(s.Component),f=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?o.createLocation(e,null,null,t):e},g=function(e){return e},y=s.forwardRef;void 0===y&&(y=g);var b=y((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=d(e,["innerRef","navigate","onClick"]),i=o.target,l=c({},o,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=g!==y&&t||n,s.createElement("a",l)})),v=y((function(e,t){var n=e.component,r=void 0===n?b:n,l=e.replace,u=e.to,p=e.innerRef,h=d(e,["component","replace","to","innerRef"]);return s.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=e.history,a=m(f(u,e.location),e.location),d=a?n.createHref(a):"",b=c({},h,{href:d,navigate:function(){var t=f(u,e.location),r=o.createPath(e.location)===o.createPath(m(t));(l||r?n.replace:n.push)(t)}});return g!==y?b.ref=t||p:b.innerRef=p,s.createElement(r,b)}))})),x=function(e){return e},w=s.forwardRef;void 0===w&&(w=x);var k=w((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,l=void 0===o?"active":o,u=e.activeStyle,p=e.className,h=e.exact,g=e.isActive,y=e.location,b=e.sensitive,k=e.strict,N=e.style,S=e.to,C=e.innerRef,T=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=y||e.location,o=m(f(S,n),n),d=o.pathname,E=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=E?a.matchPath(n.pathname,{path:E,exact:h,sensitive:b,strict:k}):null,_=!!(g?g(I,n):I),O="function"==typeof p?p(_):p,A="function"==typeof N?N(_):N;_&&(O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(O,l),A=c({},A,u));var R=c({"aria-current":_&&r||null,className:O,style:A,to:o},T);return x!==w?R.ref=t||C:R.innerRef=C,s.createElement(v,R)}))}));Object.defineProperty(t,"W6",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"g",{enumerable:!0,get:function(){return a.useParams}}),t.N_=v},3447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MemoryRouter:()=>N,Prompt:()=>C,Redirect:()=>O,Route:()=>P,Router:()=>k,StaticRouter:()=>U,Switch:()=>W,__HistoryContext:()=>x,__RouterContext:()=>w,generatePath:()=>_,matchPath:()=>M,useHistory:()=>H,useLocation:()=>q,useParams:()=>K,useRouteMatch:()=>X,withRouter:()=>V});var r=n(5540),a=n(5043),s=n(7321),o=n(5173),i=n.n(o),c=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var u=a.createContext||function(e,t){var n,s,o="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,r.A)(n,e);var a=n.prototype;return a.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},a.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((s=r)===(o=a)?0!==s||1/s===1/o:s!==s&&o!==o)?n=0:(n="function"===typeof t?t(r,a):c,0!==(n|=0)&&this.emitter.set(e.value,n))}var s,o},a.render=function(){return this.props.children},n}(a.Component);u.childContextTypes=((n={})[o]=i().object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.A)(n,t);var a=n.prototype;return a.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},a.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},a.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},a.getValue=function(){return this.context[o]?this.context[o].get():e},a.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(a.Component);return d.contextTypes=((s={})[o]=i().object,s),{Provider:u,Consumer:d}};const d=u;var p=n(3404),h=n(8168),f=n(8123),m=n.n(f),g=(n(2086),n(8587)),y=n(219),b=n.n(y),v=function(e){var t=d();return t.displayName=e,t},x=v("Router-History"),w=v("Router"),k=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,r.A)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return a.createElement(w.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.createElement(x.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.Component);var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,s.createMemoryHistory)(t.props),t}return(0,r.A)(t,e),t.prototype.render=function(){return a.createElement(k,{history:this.history,children:this.props.children})},t}(a.Component);var S=function(e){function t(){return e.apply(this,arguments)||this}(0,r.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.Component);function C(e){var t=e.message,n=e.when,r=void 0===n||n;return a.createElement(w.Consumer,null,(function(e){if(e||(0,p.A)(!1),!r||e.staticContext)return null;var n=e.history.block;return a.createElement(S,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var T={},E=1e4,I=0;function _(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(T[e])return T[e];var t=m().compile(e);return I<E&&(T[e]=t,I++),t}(e)(t,{pretty:!0})}function O(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return a.createElement(w.Consumer,null,(function(e){e||(0,p.A)(!1);var r=e.history,i=e.staticContext,c=o?r.push:r.replace,l=(0,s.createLocation)(t?"string"===typeof n?_(n,t.params):(0,h.A)({},n,{pathname:_(n.pathname,t.params)}):n);return i?(c(l),null):a.createElement(S,{onMount:function(){c(l)},onUpdate:function(e,t){var n=(0,s.createLocation)(t.to);(0,s.locationsAreEqual)(n,(0,h.A)({},l,{key:n.key}))||c(l)},to:n})}))}var A={},R=1e4,D=0;function M(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,s=void 0!==a&&a,o=n.strict,i=void 0!==o&&o,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=A[n]||(A[n]={});if(r[e])return r[e];var a=[],s={regexp:m()(e,a,t),keys:a};return D<R&&(r[e]=s,D++),s}(n,{end:s,strict:i,sensitive:l}),a=r.regexp,o=r.keys,c=a.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),p=e===u;return s&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var P=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return a.createElement(w.Consumer,null,(function(t){t||(0,p.A)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?M(n.pathname,e.props):t.match,s=(0,h.A)({},t,{location:n,match:r}),o=e.props,i=o.children,c=o.component,l=o.render;return Array.isArray(i)&&function(e){return 0===a.Children.count(e)}(i)&&(i=null),a.createElement(w.Provider,{value:s},s.match?i?"function"===typeof i?i(s):i:c?a.createElement(c,s):l?l(s):null:"function"===typeof i?i(s):null)}))},t}(a.Component);function F(e){return"/"===e.charAt(0)?e:"/"+e}function j(e,t){if(!e)return t;var n=F(e);return 0!==t.pathname.indexOf(n)?t:(0,h.A)({},t,{pathname:t.pathname.substr(n.length)})}function L(e){return"string"===typeof e?e:(0,s.createPath)(e)}function z(e){return function(){(0,p.A)(!1)}}function B(){}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return B},t.handleBlock=function(){return B},t}(0,r.A)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,a=void 0===r?"":r,o=n.context,i=void 0===o?{}:o;i.action=t,i.location=function(e,t){return e?(0,h.A)({},t,{pathname:F(e)+t.pathname}):t}(a,(0,s.createLocation)(e)),i.url=L(i.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,i=e.location,c=void 0===i?"/":i,l=(0,g.A)(e,["basename","context","location"]),u={createHref:function(e){return F(n+L(e))},action:"POP",location:j(n,(0,s.createLocation)(c)),push:this.handlePush,replace:this.handleReplace,go:z(),goBack:z(),goForward:z(),listen:this.handleListen,block:this.handleBlock};return a.createElement(k,(0,h.A)({},l,{history:u,staticContext:o}))},t}(a.Component);var W=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return a.createElement(w.Consumer,null,(function(t){t||(0,p.A)(!1);var n,r,s=e.props.location||t.location;return a.Children.forEach(e.props.children,(function(e){if(null==r&&a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?M(s.pathname,(0,h.A)({},e.props,{path:o})):t.match}})),r?a.cloneElement(n,{location:s,computedMatch:r}):null}))},t}(a.Component);function V(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,g.A)(t,["wrappedComponentRef"]);return a.createElement(w.Consumer,null,(function(t){return t||(0,p.A)(!1),a.createElement(e,(0,h.A)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,b()(n,e)}var G=a.useContext;function H(){return G(x)}function q(){return G(w).location}function K(){var e=G(w).match;return e?e.params:{}}function X(e){var t=q(),n=G(w).match;return e?M(t.pathname,e):n}},1153:(e,t,n)=>{"use strict";n(2123);var r=n(5043),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;a=s("react.element"),t.Fragment=s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:u,props:s,_owner:o.current}}t.jsx=l,t.jsxs=l},4202:(e,t,n)=>{"use strict";var r=n(2123),a=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,i=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),s=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),i=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,r(v,g.prototype),v.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,s={},o=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===s[r]&&(s[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:i,props:s,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var c=!1;if(null===e)c=!0;else switch(i){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case s:c=!0}}if(c)return o=o(c=e),e=""===r?"."+T(c,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),E(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+T(i=e[l],l);c+=E(i,t,n,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)c+=E(i=i.value,t,n,u=r+T(i,l++),o);else if("object"===i)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function I(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(h(321));return e}var R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var s=r({},e.props),o=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:a,type:e.type,key:o,ref:i,props:s,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:i,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},9069:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alert:()=>yo,Badge:()=>Zn,Breadcrumb:()=>Ae,BreadcrumbItem:()=>Me,Button:()=>je,ButtonDropdown:()=>nt,ButtonGroup:()=>st,ButtonToggle:()=>Be,ButtonToolbar:()=>ct,Card:()=>Qn,CardBody:()=>dr,CardColumns:()=>cr,CardDeck:()=>sr,CardFooter:()=>yr,CardGroup:()=>nr,CardHeader:()=>xr,CardImg:()=>Nr,CardImgOverlay:()=>Tr,CardLink:()=>fr,CardSubtitle:()=>Gr,CardText:()=>Kr,CardTitle:()=>Zr,Carousel:()=>Rr,CarouselCaption:()=>Lr,CarouselControl:()=>Mr,CarouselIndicators:()=>Fr,CarouselItem:()=>Or,Col:()=>se,Collapse:()=>Lo,Container:()=>K,CustomFileInput:()=>Qr,CustomInput:()=>na,Dropdown:()=>Qe,DropdownContext:()=>Ye,DropdownItem:()=>dt,DropdownMenu:()=>Dn,DropdownToggle:()=>Bn,Fade:()=>Kn,Form:()=>ds,FormFeedback:()=>ms,FormGroup:()=>bs,FormText:()=>ws,Input:()=>Ss,InputGroup:()=>Es,InputGroupAddon:()=>Ds,InputGroupButtonDropdown:()=>Fs,InputGroupText:()=>Os,Jumbotron:()=>uo,Label:()=>Vs,List:()=>$o,ListGroup:()=>cs,ListGroupItem:()=>Wo,ListGroupItemHeading:()=>Ho,ListGroupItemText:()=>Xo,ListInlineItem:()=>ei,Media:()=>qs,Modal:()=>Ha,ModalBody:()=>$a,ModalFooter:()=>es,ModalHeader:()=>Xa,Nav:()=>xe,NavItem:()=>Ne,NavLink:()=>Ie,Navbar:()=>ce,NavbarBrand:()=>de,NavbarText:()=>fe,NavbarToggler:()=>ye,Pagination:()=>Ys,PaginationItem:()=>Js,PaginationLink:()=>to,Polyfill:()=>vi,Popover:()=>va,PopoverBody:()=>Ia,PopoverHeader:()=>Ca,PopperContent:()=>ca,PopperTargetHelper:()=>ua,Progress:()=>Da,Row:()=>J,Spinner:()=>bi,TabContent:()=>so,TabPane:()=>io,Table:()=>ss,Toast:()=>No,ToastBody:()=>To,ToastHeader:()=>_o,Tooltip:()=>ns,UncontrolledAlert:()=>ti,UncontrolledButtonDropdown:()=>ai,UncontrolledCarousel:()=>Ur,UncontrolledCollapse:()=>li,UncontrolledDropdown:()=>pi,UncontrolledPopover:()=>ka,UncontrolledTooltip:()=>mi,Util:()=>r});var r={};n.r(r),n.d(r,{DOMElement:()=>C,PopperPlacements:()=>R,TransitionPropTypeKeys:()=>_,TransitionStatuses:()=>O,TransitionTimeouts:()=>I,addMultipleEventListeners:()=>V,canUseDOM:()=>D,conditionallyUpdateScrollbar:()=>g,defaultToggleEvents:()=>W,deprecated:()=>N,findDOMElements:()=>z,focusableElements:()=>G,getOriginalBodyPadding:()=>m,getScrollbarWidth:()=>p,getTarget:()=>U,isArrayOrNodeList:()=>B,isBodyOverflowing:()=>f,isFunction:()=>L,isObject:()=>j,isReactRefObj:()=>M,keyCodes:()=>A,mapToCssModules:()=>b,omit:()=>v,pick:()=>x,setGlobalCssModule:()=>y,setScrollbarWidth:()=>h,tagPropType:()=>E,targetPropType:()=>T,toNumber:()=>F,warnOnce:()=>k});var a,s=n(8168),o=n(8587),i=n(5043),c=n(5173),l=n.n(c),u=n(8139),d=n.n(u);function p(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function h(e){document.body.style.paddingRight=e>0?e+"px":null}function f(){return document.body.clientWidth<window.innerWidth}function m(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function g(){var e=p(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;f()&&h(n+e)}function y(e){a=e}function b(e,t){return void 0===e&&(e=""),void 0===t&&(t=a),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function v(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function x(e,t){for(var n,r=Array.isArray(t)?t:[t],a=r.length,s={};a>0;)s[n=r[a-=1]]=e[n];return s}var w={};function k(e){w[e]||("undefined"!==typeof console&&console.error(e),w[e]=!0)}function N(e,t){return function(n,r,a){null!==n[r]&&"undefined"!==typeof n[r]&&k('"'+r+'" property of "'+a+'" has been deprecated.\n'+t);for(var s=arguments.length,o=new Array(s>3?s-3:0),i=3;i<s;i++)o[i-3]=arguments[i];return e.apply(void 0,[n,r,a].concat(o))}}var S="object"===typeof window&&window.Element||function(){};function C(e,t,n){if(!(e[t]instanceof S))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var T=l().oneOfType([l().string,l().func,C,l().shape({current:l().any})]),E=l().oneOfType([l().func,l().string,l().shape({$$typeof:l().symbol,render:l().func}),l().arrayOf(l().oneOfType([l().func,l().string,l().shape({$$typeof:l().symbol,render:l().func})]))]),I={Fade:150,Collapse:350,Modal:300,Carousel:600},_=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],O={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},A={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},R=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],D=!("undefined"===typeof window||!window.document||!window.document.createElement);function M(e){return!(!e||"object"!==typeof e)&&"current"in e}function P(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function F(e){var t=typeof e;if("number"===t)return e;if("symbol"===t||"object"===t&&"[object Symbol]"===P(e))return NaN;if(j(e)){var n="function"===typeof e.valueOf?e.valueOf():e;e=j(n)?""+n:n}if("string"!==t)return 0===e?e:+e;e=e.replace(/^\s+|\s+$/g,"");var r=/^0b[01]+$/i.test(e);return r||/^0o[0-7]+$/i.test(e)?parseInt(e.slice(2),r?2:8):/^[-+]0x[0-9a-f]+$/i.test(e)?NaN:+e}function j(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function L(e){if(!j(e))return!1;var t=P(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}function z(e){if(M(e))return e.current;if(L(e))return e();if("string"===typeof e&&D){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function B(e){return null!==e&&(Array.isArray(e)||D&&"number"===typeof e.length)}function U(e,t){var n=z(e);return t?B(n)?n:null===n?[]:[n]:B(n)?n[0]:n}var W=["touchstart","click"];function V(e,t,n,r){var a=e;B(a)||(a=[a]);var s=n;if("string"===typeof s&&(s=s.split(/\s+/)),!B(a)||"function"!==typeof t||!Array.isArray(s))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(s,(function(e){Array.prototype.forEach.call(a,(function(n){n.addEventListener(e,t,r)}))})),function(){Array.prototype.forEach.call(s,(function(e){Array.prototype.forEach.call(a,(function(n){n.removeEventListener(e,t,r)}))}))}}var G=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],H={tag:E,fluid:l().oneOfType([l().bool,l().string]),className:l().string,cssModule:l().object},q=function(e){var t=e.className,n=e.cssModule,r=e.fluid,a=e.tag,c=(0,o.A)(e,["className","cssModule","fluid","tag"]),l="container";!0===r?l="container-fluid":r&&(l="container-"+r);var u=b(d()(t,l),n);return i.createElement(a,(0,s.A)({},c,{className:u}))};q.propTypes=H,q.defaultProps={tag:"div"};const K=q;var X=l().oneOfType([l().number,l().string]),Y={tag:E,noGutters:l().bool,className:l().string,cssModule:l().object,form:l().bool,xs:X,sm:X,md:X,lg:X,xl:X},Z={tag:"div",widths:["xs","sm","md","lg","xl"]},$=function(e){var t=e.className,n=e.cssModule,r=e.noGutters,a=e.tag,c=e.form,l=e.widths,u=(0,o.A)(e,["className","cssModule","noGutters","tag","form","widths"]),p=[];l.forEach((function(t,n){var r=e[t];if(delete u[t],r){var a=!n;p.push(a?"row-cols-"+r:"row-cols-"+t+"-"+r)}}));var h=b(d()(t,r?"no-gutters":null,c?"form-row":"row",p),n);return i.createElement(a,(0,s.A)({},u,{className:h}))};$.propTypes=Y,$.defaultProps=Z;const J=$;var Q=l().oneOfType([l().number,l().string]),ee=l().oneOfType([l().bool,l().number,l().string,l().shape({size:l().oneOfType([l().bool,l().number,l().string]),order:Q,offset:Q})]),te={tag:E,xs:ee,sm:ee,md:ee,lg:ee,xl:ee,className:l().string,cssModule:l().object,widths:l().array},ne={tag:"div",widths:["xs","sm","md","lg","xl"]},re=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},ae=function(e){var t=e.className,n=e.cssModule,r=e.widths,a=e.tag,c=(0,o.A)(e,["className","cssModule","widths","tag"]),l=[];r.forEach((function(t,r){var a=e[t];if(delete c[t],a||""===a){var s=!r;if(j(a)){var o,i=s?"-":"-"+t+"-",u=re(s,t,a.size);l.push(b(d()(((o={})[u]=a.size||""===a.size,o["order"+i+a.order]=a.order||0===a.order,o["offset"+i+a.offset]=a.offset||0===a.offset,o)),n))}else{var p=re(s,t,a);l.push(p)}}})),l.length||l.push("col");var u=b(d()(t,l),n);return i.createElement(a,(0,s.A)({},c,{className:u}))};ae.propTypes=te,ae.defaultProps=ne;const se=ae;var oe={light:l().bool,dark:l().bool,full:l().bool,fixed:l().string,sticky:l().string,color:l().string,role:l().string,tag:E,className:l().string,cssModule:l().object,expand:l().oneOfType([l().bool,l().string])},ie=function(e){var t,n=e.expand,r=e.className,a=e.cssModule,c=e.light,l=e.dark,u=e.fixed,p=e.sticky,h=e.color,f=e.tag,m=(0,o.A)(e,["expand","className","cssModule","light","dark","fixed","sticky","color","tag"]),g=b(d()(r,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(n),((t={"navbar-light":c,"navbar-dark":l})["bg-"+h]=h,t["fixed-"+u]=u,t["sticky-"+p]=p,t)),a);return i.createElement(f,(0,s.A)({},m,{className:g}))};ie.propTypes=oe,ie.defaultProps={tag:"nav",expand:!1};const ce=ie;var le={tag:E,className:l().string,cssModule:l().object},ue=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"navbar-brand"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};ue.propTypes=le,ue.defaultProps={tag:"a"};const de=ue;var pe={tag:E,className:l().string,cssModule:l().object},he=function(e){var t=e.className,n=e.cssModule,r=(e.active,e.tag),a=(0,o.A)(e,["className","cssModule","active","tag"]),c=b(d()(t,"navbar-text"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};he.propTypes=pe,he.defaultProps={tag:"span"};const fe=he;var me={tag:E,type:l().string,className:l().string,cssModule:l().object,children:l().node},ge=function(e){var t=e.className,n=e.cssModule,r=e.children,a=e.tag,c=(0,o.A)(e,["className","cssModule","children","tag"]),l=b(d()(t,"navbar-toggler"),n);return i.createElement(a,(0,s.A)({"aria-label":"Toggle navigation"},c,{className:l}),r||i.createElement("span",{className:b("navbar-toggler-icon",n)}))};ge.propTypes=me,ge.defaultProps={tag:"button",type:"button"};const ye=ge;var be={tabs:l().bool,pills:l().bool,vertical:l().oneOfType([l().bool,l().string]),horizontal:l().string,justified:l().bool,fill:l().bool,navbar:l().bool,card:l().bool,tag:E,className:l().string,cssModule:l().object},ve=function(e){var t=e.className,n=e.cssModule,r=e.tabs,a=e.pills,c=e.vertical,l=e.horizontal,u=e.justified,p=e.fill,h=e.navbar,f=e.card,m=e.tag,g=(0,o.A)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),y=b(d()(t,h?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(c),{"nav-tabs":r,"card-header-tabs":f&&r,"nav-pills":a,"card-header-pills":f&&a,"nav-justified":u,"nav-fill":p}),n);return i.createElement(m,(0,s.A)({},g,{className:y}))};ve.propTypes=be,ve.defaultProps={tag:"ul",vertical:!1};const xe=ve;var we={tag:E,active:l().bool,className:l().string,cssModule:l().object},ke=function(e){var t=e.className,n=e.cssModule,r=e.active,a=e.tag,c=(0,o.A)(e,["className","cssModule","active","tag"]),l=b(d()(t,"nav-item",!!r&&"active"),n);return i.createElement(a,(0,s.A)({},c,{className:l}))};ke.propTypes=we,ke.defaultProps={tag:"li"};const Ne=ke;function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ce=n(5540),Te={tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),disabled:l().bool,active:l().bool,className:l().string,cssModule:l().object,onClick:l().func,href:l().any},Ee=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,r=e.active,a=e.tag,c=e.innerRef,l=(0,o.A)(e,["className","cssModule","active","tag","innerRef"]),u=b(d()(t,"nav-link",{disabled:l.disabled,active:r}),n);return i.createElement(a,(0,s.A)({},l,{ref:c,onClick:this.onClick,className:u}))},t}(i.Component);Ee.propTypes=Te,Ee.defaultProps={tag:"a"};const Ie=Ee;var _e={tag:E,listTag:E,className:l().string,listClassName:l().string,cssModule:l().object,children:l().node,"aria-label":l().string},Oe=function(e){var t=e.className,n=e.listClassName,r=e.cssModule,a=e.children,c=e.tag,l=e.listTag,u=e["aria-label"],p=(0,o.A)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),h=b(d()(t),r),f=b(d()("breadcrumb",n),r);return i.createElement(c,(0,s.A)({},p,{className:h,"aria-label":u}),i.createElement(l,{className:f},a))};Oe.propTypes=_e,Oe.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};const Ae=Oe;var Re={tag:E,active:l().bool,className:l().string,cssModule:l().object},De=function(e){var t=e.className,n=e.cssModule,r=e.active,a=e.tag,c=(0,o.A)(e,["className","cssModule","active","tag"]),l=b(d()(t,!!r&&"active","breadcrumb-item"),n);return i.createElement(a,(0,s.A)({},c,{className:l,"aria-current":r?"page":void 0}))};De.propTypes=Re,De.defaultProps={tag:"li"};const Me=De;var Pe={active:l().bool,"aria-label":l().string,block:l().bool,color:l().string,disabled:l().bool,outline:l().bool,tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),onClick:l().func,size:l().string,children:l().node,className:l().string,cssModule:l().object,close:l().bool},Fe=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],r=e.block,a=e.className,c=e.close,l=e.cssModule,u=e.color,p=e.outline,h=e.size,f=e.tag,m=e.innerRef,g=(0,o.A)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);c&&"undefined"===typeof g.children&&(g.children=i.createElement("span",{"aria-hidden":!0},"\xd7"));var y="btn"+(p?"-outline":"")+"-"+u,v=b(d()(a,{close:c},c||"btn",c||y,!!h&&"btn-"+h,!!r&&"btn-block",{active:t,disabled:this.props.disabled}),l);g.href&&"button"===f&&(f="a");var x=c?"Close":null;return i.createElement(f,(0,s.A)({type:"button"===f&&g.onClick?"button":void 0},g,{className:v,ref:m,onClick:this.onClick,"aria-label":n||x}))},t}(i.Component);Fe.propTypes=Pe,Fe.defaultProps={color:"secondary",tag:"button"};const je=Fe;var Le={onClick:l().func,onBlur:l().func,onFocus:l().func,defaultValue:l().bool},ze=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={toggled:t.defaultValue,focus:!1},n.onBlur=n.onBlur.bind(Se(n)),n.onFocus=n.onFocus.bind(Se(n)),n.onClick=n.onClick.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focus:!1})},n.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})},n.onClick=function(e){this.props.onClick&&this.props.onClick(e),this.setState((function(e){return{toggled:!e.toggled}}))},n.render=function(){var e=this.props,t=e.className,n=(0,o.A)(e,["className"]),r=b(d()(t,{focus:this.state.focus}),this.props.cssModule);return i.createElement(je,(0,s.A)({active:this.state.toggled,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,className:r},n))},t}(i.Component);ze.propTypes=Le,ze.defaultProps={defaultValue:!1};const Be=ze;function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function We(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function Ve(e,t,n){return(t=We(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=n(6947),He=n.n(Ge),qe=He()(),Ke=He()(),Xe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ve(Se(Se(t=e.call.apply(e,[this].concat(r))||this)),"referenceNode",void 0),Ve(Se(Se(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}(0,Ce.A)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return i.createElement(qe.Provider,{value:this.referenceNode},i.createElement(Ke.Provider,{value:this.setReferenceNode},this.props.children))},t}(i.Component),Ye=i.createContext({}),Ze={a11y:l().bool,disabled:l().bool,direction:l().oneOf(["up","down","left","right"]),group:l().bool,isOpen:l().bool,nav:l().bool,active:l().bool,addonType:l().oneOfType([l().bool,l().oneOf(["prepend","append"])]),size:l().string,tag:E,toggle:l().func,children:l().node,className:l().string,cssModule:l().object,inNavbar:l().bool,setActiveFromChild:l().bool},$e=[A.space,A.enter,A.up,A.down,A.end,A.home],Je=function(e){function t(t){var n;return(n=e.call(this,t)||this).addEvents=n.addEvents.bind(Se(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Se(n)),n.handleKeyDown=n.handleKeyDown.bind(Se(n)),n.removeEvents=n.removeEvents.bind(Se(n)),n.toggle=n.toggle.bind(Se(n)),n.handleMenuRef=n.handleMenuRef.bind(Se(n)),n.containerRef=i.createRef(),n.menuRef=i.createRef(),n}(0,Ce.A)(t,e);var n=t.prototype;return n.handleMenuRef=function(e){this.menuRef.current=e},n.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenu=function(){return this.menuRef.current},n.getMenuCtrl=function(){return this._$menuCtrl||(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]")),this._$menuCtrl},n.getMenuItems=function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===A.tab)){var t=this.getContainer(),n=this.getMenu(),r=t.contains(e.target)&&t!==e.target,a=n&&n.contains(e.target)&&n!==e.target;(!r&&!a||"keyup"===e.type&&e.which!==A.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this,n="menuitem"===e.target.getAttribute("role"),r=this.getMenuCtrl()===e.target,a=A.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||a&&!this.props.a11y||a&&!n&&!r)&&((-1!==$e.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(r&&([A.space,A.enter,A.up,A.down].indexOf(e.which)>-1?(this.props.isOpen||this.toggle(e),setTimeout((function(){return t.getMenuItems()[0].focus()}))):this.props.isOpen&&a?(e.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&e.which===A.esc&&this.toggle(e)),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([A.tab,A.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([A.space,A.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([A.down,A.up].indexOf(e.which)>-1||[A.n,A.p].indexOf(e.which)>-1&&e.ctrlKey){var s=this.getMenuItems(),o=s.indexOf(e.target);A.up===e.which||A.p===e.which&&e.ctrlKey?o=0!==o?o-1:s.length-1:(A.down===e.which||A.n===e.which&&e.ctrlKey)&&(o=o===s.length-1?0:o+1),s[o].focus()}else if(A.end===e.which){var i=this.getMenuItems();i[i.length-1].focus()}else if(A.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var c=this.getMenuItems(),l=String.fromCharCode(e.which).toLowerCase(),u=0;u<c.length;u+=1){if((c[u].textContent&&c[u].textContent[0].toLowerCase())===l){c[u].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t,n=v(this.props,["toggle","disabled","inNavbar","a11y"]),r=n.className,a=n.cssModule,c=n.direction,l=n.isOpen,u=n.group,p=n.size,h=n.nav,f=n.setActiveFromChild,m=n.active,g=n.addonType,y=n.tag,x=(0,o.A)(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),w=y||(h?"li":"div"),k=!1;f&&i.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(k=!0)}));var N=b(d()(r,"down"!==c&&"drop"+c,!(!h||!m)&&"active",!(!f||!k)&&"active",((e={})["input-group-"+g]=g,e["btn-group"]=u,e["btn-group-"+p]=!!p,e.dropdown=!u&&!g,e.show=l,e["nav-item"]=h,e)),a);return i.createElement(Ye.Provider,{value:this.getContextValue()},i.createElement(Xe,null,i.createElement(w,(0,s.A)({},x,((t={})["string"===typeof w?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:N}))))},t}(i.Component);Je.propTypes=Ze,Je.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1};const Qe=Je;var et={children:l().node},tt=function(e){return i.createElement(Qe,(0,s.A)({group:!0},e))};tt.propTypes=et;const nt=tt;var rt={tag:E,"aria-label":l().string,className:l().string,cssModule:l().object,role:l().string,size:l().string,vertical:l().bool},at=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.vertical,c=e.tag,l=(0,o.A)(e,["className","cssModule","size","vertical","tag"]),u=b(d()(t,!!r&&"btn-group-"+r,a?"btn-group-vertical":"btn-group"),n);return i.createElement(c,(0,s.A)({},l,{className:u}))};at.propTypes=rt,at.defaultProps={tag:"div",role:"group"};const st=at;var ot={tag:E,"aria-label":l().string,className:l().string,cssModule:l().object,role:l().string},it=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"btn-toolbar"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};it.propTypes=ot,it.defaultProps={tag:"div",role:"toolbar"};const ct=it;var lt={children:l().node,active:l().bool,disabled:l().bool,divider:l().bool,tag:E,header:l().bool,onClick:l().func,className:l().string,cssModule:l().object,toggle:l().bool,text:l().bool},ut=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Se(n)),n.getTabIndex=n.getTabIndex.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onClick=function(e){var t=this.props,n=t.disabled,r=t.header,a=t.divider,s=t.text;n||r||a||s?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},n.getTabIndex=function(){var e=this.props,t=e.disabled,n=e.header,r=e.divider,a=e.text;return t||n||r||a?"-1":"0"},n.render=function(){var e=this.getTabIndex(),t=e>-1?"menuitem":void 0,n=v(this.props,["toggle"]),r=n.className,a=n.cssModule,c=n.divider,l=n.tag,u=n.header,p=n.active,h=n.text,f=(0,o.A)(n,["className","cssModule","divider","tag","header","active","text"]),m=b(d()(r,{disabled:f.disabled,"dropdown-item":!c&&!u&&!h,active:p,"dropdown-header":u,"dropdown-divider":c,"dropdown-item-text":h}),a);return"button"===l&&(u?l="h6":c?l="div":f.href?l="a":h&&(l="span")),i.createElement(l,(0,s.A)({type:"button"===l&&(f.onClick||this.props.toggle)?"button":void 0},f,{tabIndex:e,role:t,className:m,onClick:this.onClick}))},t}(i.Component);ut.propTypes=lt,ut.defaultProps={tag:"button",toggle:!0},ut.contextType=Ye;const dt=ut;var pt=n(7950),ht=n(8287),ft=n.n(ht),mt="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,gt=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(mt&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var yt=mt&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),gt))}};function bt(e){return e&&"[object Function]"==={}.toString.call(e)}function vt(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function xt(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function wt(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=vt(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:wt(xt(e))}function kt(e){return e&&e.referenceNode?e.referenceNode:e}var Nt=mt&&!(!window.MSInputMethodContext||!document.documentMode),St=mt&&/MSIE 10/.test(navigator.userAgent);function Ct(e){return 11===e?Nt:10===e?St:Nt||St}function Tt(e){if(!e)return document.documentElement;for(var t=Ct(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===vt(n,"position")?Tt(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Et(e){return null!==e.parentNode?Et(e.parentNode):e}function It(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(a,0);var o=s.commonAncestorContainer;if(e!==o&&t!==o||r.contains(a))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||Tt(e.firstElementChild)===e)}(o)?o:Tt(o);var i=Et(e);return i.host?It(i.host,t):It(e,Et(t).host)}function _t(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function Ot(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function At(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Ct(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Rt(e){var t=e.body,n=e.documentElement,r=Ct(10)&&getComputedStyle(n);return{height:At("Height",t,n,r),width:At("Width",t,n,r)}}var Dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ft(e){return Pt({},e,{right:e.left+e.width,bottom:e.top+e.height})}function jt(e){var t={};try{if(Ct(10)){t=e.getBoundingClientRect();var n=_t(e,"top"),r=_t(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?Rt(e.ownerDocument):{},o=s.width||e.clientWidth||a.width,i=s.height||e.clientHeight||a.height,c=e.offsetWidth-o,l=e.offsetHeight-i;if(c||l){var u=vt(e);c-=Ot(u,"x"),l-=Ot(u,"y"),a.width-=c,a.height-=l}return Ft(a)}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ct(10),a="HTML"===t.nodeName,s=jt(e),o=jt(t),i=wt(e),c=vt(t),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=Ft({top:s.top-o.top-l,left:s.left-o.left-u,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!r&&a){var p=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);d.top-=l-p,d.bottom-=l-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(r&&!n?t.contains(i):t===i&&"BODY"!==i.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_t(t,"top"),a=_t(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=a*s,e.right+=a*s,e}(d,t)),d}function zt(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===vt(e,"position"))return!0;var n=xt(e);return!!n&&zt(n)}function Bt(e){if(!e||!e.parentElement||Ct())return document.documentElement;for(var t=e.parentElement;t&&"none"===vt(t,"transform");)t=t.parentElement;return t||document.documentElement}function Ut(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=a?Bt(e):It(e,kt(t));if("viewport"===r)s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Lt(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:_t(n),i=t?0:_t(n,"left");return Ft({top:o-r.top+r.marginTop,left:i-r.left+r.marginLeft,width:a,height:s})}(o,a);else{var i=void 0;"scrollParent"===r?"BODY"===(i=wt(xt(t))).nodeName&&(i=e.ownerDocument.documentElement):i="window"===r?e.ownerDocument.documentElement:r;var c=Lt(i,o,a);if("HTML"!==i.nodeName||zt(o))s=c;else{var l=Rt(e.ownerDocument),u=l.height,d=l.width;s.top+=c.top-c.marginTop,s.bottom=u+c.top,s.left+=c.left-c.marginLeft,s.right=d+c.left}}var p="number"===typeof(n=n||0);return s.left+=p?n:n.left||0,s.top+=p?n:n.top||0,s.right-=p?n:n.right||0,s.bottom-=p?n:n.bottom||0,s}function Wt(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=Ut(n,r,s,a),i={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(i).map((function(e){return Pt({key:e},i[e],{area:(t=i[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Vt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Lt(n,r?Bt(t):It(t,kt(n)),r)}function Gt(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Ht(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function qt(e,t,n){n=n.split("-")[0];var r=Gt(e),a={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",i=s?"left":"top",c=s?"height":"width",l=s?"width":"height";return a[o]=t[o]+t[c]/2-r[c]/2,a[i]=n===i?t[i]-r[l]:t[Ht(i)],a}function Kt(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Xt(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Kt(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&bt(n)&&(t.offsets.popper=Ft(t.offsets.popper),t.offsets.reference=Ft(t.offsets.reference),t=n(t,e))})),t}function Yt(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Vt(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Wt(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=qt(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Xt(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Zt(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function $t(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],s=a?""+a+n:e;if("undefined"!==typeof document.body.style[s])return s}return null}function Jt(){return this.state.isDestroyed=!0,Zt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$t("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Qt(e){var t=e.ownerDocument;return t?t.defaultView:window}function en(e,t,n,r){var a="BODY"===e.nodeName,s=a?e.ownerDocument.defaultView:e;s.addEventListener(t,n,{passive:!0}),a||en(wt(s.parentNode),t,n,r),r.push(s)}function tn(e,t,n,r){n.updateBound=r,Qt(e).addEventListener("resize",n.updateBound,{passive:!0});var a=wt(e);return en(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function nn(){this.state.eventsEnabled||(this.state=tn(this.reference,this.options,this.state,this.scheduleUpdate))}function rn(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Qt(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function an(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function sn(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&an(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var on=mt&&/Firefox/i.test(navigator.userAgent);function cn(e,t,n){var r=Kt(e,(function(e){return e.name===t})),a=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!a){var s="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return a}var ln=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],un=ln.slice(3);function dn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=un.indexOf(e),r=un.slice(n+1).concat(un.slice(0,n));return t?r.reverse():r}var pn="flip",hn="clockwise",fn="counterclockwise";function mn(e,t,n,r){var a=[0,0],s=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),i=o.indexOf(Kt(o,(function(e){return-1!==e.search(/,|\s/)})));o[i]&&-1===o[i].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==i?[o.slice(0,i).concat([o[i].split(c)[0]]),[o[i].split(c)[1]].concat(o.slice(i+1))]:[o];return l=l.map((function(e,r){var a=(1===r?!s:s)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+a[1],o=a[2];if(!s)return e;if(0===o.indexOf("%")){return Ft("%p"===o?n:r)[t]/100*s}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(e,a,t,n)}))})),l.forEach((function(e,t){e.forEach((function(n,r){an(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))}))})),a}var gn={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,s=a.reference,o=a.popper,i=-1!==["bottom","top"].indexOf(n),c=i?"left":"top",l=i?"width":"height",u={start:Mt({},c,s[c]),end:Mt({},c,s[c]+s[l]-o[l])};e.offsets.popper=Pt({},o,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,s=a.popper,o=a.reference,i=r.split("-")[0],c=void 0;return c=an(+n)?[+n,0]:mn(n,s,o,i),"left"===i?(s.top+=c[0],s.left-=c[1]):"right"===i?(s.top+=c[0],s.left+=c[1]):"top"===i?(s.left+=c[0],s.top-=c[1]):"bottom"===i&&(s.left+=c[0],s.top+=c[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Tt(e.instance.popper);e.instance.reference===n&&(n=Tt(n));var r=$t("transform"),a=e.instance.popper.style,s=a.top,o=a.left,i=a[r];a.top="",a.left="",a[r]="";var c=Ut(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=s,a.left=o,a[r]=i,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),Mt({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),Mt({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=Pt({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(a),i=o?"right":"bottom",c=o?"left":"top",l=o?"width":"height";return n[i]<s(r[c])&&(e.offsets.popper[c]=s(r[c])-n[l]),n[c]>s(r[i])&&(e.offsets.popper[c]=s(r[i])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!cn(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],s=e.offsets,o=s.popper,i=s.reference,c=-1!==["left","right"].indexOf(a),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",f=Gt(r)[l];i[h]-f<o[d]&&(e.offsets.popper[d]-=o[d]-(i[h]-f)),i[d]+f>o[h]&&(e.offsets.popper[d]+=i[d]+f-o[h]),e.offsets.popper=Ft(e.offsets.popper);var m=i[d]+i[l]/2-f/2,g=vt(e.instance.popper),y=parseFloat(g["margin"+u]),b=parseFloat(g["border"+u+"Width"]),v=m-e.offsets.popper[d]-y-b;return v=Math.max(Math.min(o[l]-f,v),0),e.arrowElement=r,e.offsets.arrow=(Mt(n={},d,Math.round(v)),Mt(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Zt(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Ut(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],a=Ht(r),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case pn:o=[r,a];break;case hn:o=dn(r);break;case fn:o=dn(r,!0);break;default:o=t.behavior}return o.forEach((function(i,c){if(r!==i||o.length===c+1)return e;r=e.placement.split("-")[0],a=Ht(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),h=d(l.left)<d(n.left),f=d(l.right)>d(n.right),m=d(l.top)<d(n.top),g=d(l.bottom)>d(n.bottom),y="left"===r&&h||"right"===r&&f||"top"===r&&m||"bottom"===r&&g,b=-1!==["top","bottom"].indexOf(r),v=!!t.flipVariations&&(b&&"start"===s&&h||b&&"end"===s&&f||!b&&"start"===s&&m||!b&&"end"===s&&g),x=!!t.flipVariationsByContent&&(b&&"start"===s&&f||b&&"end"===s&&h||!b&&"start"===s&&g||!b&&"end"===s&&m),w=v||x;(p||y||w)&&(e.flipped=!0,(p||y)&&(r=o[c+1]),w&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=r+(s?"-"+s:""),e.offsets.popper=Pt({},e.offsets.popper,qt(e.instance.popper,e.offsets.reference,e.placement)),e=Xt(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,s=r.reference,o=-1!==["left","right"].indexOf(n),i=-1===["top","left"].indexOf(n);return a[o?"left":"top"]=s[n]-(i?a[o?"width":"height"]:0),e.placement=Ht(t),e.offsets.popper=Ft(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!cn(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Kt(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,s=Kt(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,i=Tt(e.instance.popper),c=jt(i),l={position:a.position},u=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,s=Math.round,o=Math.floor,i=function(e){return e},c=s(a.width),l=s(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||c%2===l%2?s:o:i,h=t?s:i;return{left:p(c%2===1&&l%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!on),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=$t("transform"),f=void 0,m=void 0;if(m="bottom"===d?"HTML"===i.nodeName?-i.clientHeight+u.bottom:-c.height+u.bottom:u.top,f="right"===p?"HTML"===i.nodeName?-i.clientWidth+u.right:-c.width+u.right:u.left,o&&h)l[h]="translate3d("+f+"px, "+m+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var g="bottom"===d?-1:1,y="right"===p?-1:1;l[d]=m*g,l[p]=f*y,l.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=Pt({},b,e.attributes),e.styles=Pt({},l,e.styles),e.arrowStyles=Pt({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return sn(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&sn(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var s=Vt(a,t,e,n.positionFixed),o=Wt(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),sn(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},yn={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:gn},bn=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=yt(this.update.bind(this)),this.options=Pt({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Pt({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=Pt({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Pt({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&bt(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Dt(e,[{key:"update",value:function(){return Yt.call(this)}},{key:"destroy",value:function(){return Jt.call(this)}},{key:"enableEventListeners",value:function(){return nn.call(this)}},{key:"disableEventListeners",value:function(){return rn.call(this)}}]),e}();bn.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,bn.placements=ln,bn.Defaults=yn;const vn=bn;var xn=function(e){return Array.isArray(e)?e[0]:e},wn=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},kn=function(e,t){if("function"===typeof e)return wn(e,t);null!=e&&(e.current=t)},Nn={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Sn={},Cn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ve(Se(Se(t=e.call.apply(e,[this].concat(r))||this)),"state",{data:void 0,placement:void 0}),Ve(Se(Se(t)),"popperInstance",void 0),Ve(Se(Se(t)),"popperNode",null),Ve(Se(Se(t)),"arrowNode",null),Ve(Se(Se(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(kn(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),Ve(Se(Se(t)),"setArrowNode",(function(e){t.arrowNode=e})),Ve(Se(Se(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),Ve(Se(Se(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:(0,s.A)({},t.props.modifiers,{arrow:(0,s.A)({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),Ve(Se(Se(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?(0,s.A)({position:t.state.data.offsets.popper.position},t.state.data.styles):Nn})),Ve(Se(Se(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),Ve(Se(Se(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Sn})),Ve(Se(Se(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),Ve(Se(Se(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),Ve(Se(Se(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=Se(Se(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new vn(n,e,t.getOptions()))})),Ve(Se(Se(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}(0,Ce.A)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&ft()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){kn(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return xn(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(i.Component);Ve(Cn,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});vn.placements;function Tn(e){var t=e.referenceElement,n=(0,o.A)(e,["referenceElement"]);return i.createElement(qe.Consumer,null,(function(e){return i.createElement(Cn,(0,s.A)({referenceElement:void 0!==t?t:e},n))}))}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n={tag:E,children:l().node.isRequired,right:l().bool,flip:l().bool,modifiers:l().object,className:l().string,cssModule:l().object,persist:l().bool,positionFixed:l().bool,container:T},On={flip:{enabled:!1}},An={up:"top",left:"left",right:"right",down:"bottom"},Rn=function(e){function t(){return e.apply(this,arguments)||this}return(0,Ce.A)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.cssModule,a=t.right,c=t.tag,l=t.flip,u=t.modifiers,p=t.persist,h=t.positionFixed,f=t.container,m=(0,o.A)(t,["className","cssModule","right","tag","flip","modifiers","persist","positionFixed","container"]),g=b(d()(n,"dropdown-menu",{"dropdown-menu-right":a,show:this.context.isOpen}),r),y=c;if(p||this.context.isOpen&&!this.context.inNavbar){var v=(An[this.context.direction]||"bottom")+"-"+(a?"end":"start"),x=l?u:In(In({},u),On),w=!!h,k=i.createElement(Tn,{placement:v,modifiers:x,positionFixed:w},(function(t){var n=t.ref,r=t.style,a=t.placement,o=In(In({},e.props.style),r);return i.createElement(y,(0,s.A)({tabIndex:"-1",role:"menu",ref:function(t){n(t);var r=e.context.onMenuRef;r&&r(t)}},m,{style:o,"aria-hidden":!e.context.isOpen,className:g,"x-placement":a}))}));return f?pt.createPortal(k,U(f)):k}return i.createElement(y,(0,s.A)({tabIndex:"-1",role:"menu"},m,{"aria-hidden":!this.context.isOpen,className:g,"x-placement":m.placement}))},t}(i.Component);Rn.propTypes=_n,Rn.defaultProps={tag:"div",flip:!0},Rn.contextType=Ye;const Dn=Rn;var Mn=n(6440),Pn=n.n(Mn),Fn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ve(Se(Se(t=e.call.apply(e,[this].concat(r))||this)),"refHandler",(function(e){kn(t.props.innerRef,e),wn(t.props.setReferenceNode,e)})),t}(0,Ce.A)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){kn(this.props.innerRef,null)},n.render=function(){return Pn()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),xn(this.props.children)({ref:this.refHandler})},t}(i.Component);function jn(e){return i.createElement(Ke.Consumer,null,(function(t){return i.createElement(Fn,(0,s.A)({setReferenceNode:t},e))}))}var Ln={caret:l().bool,color:l().string,children:l().node,className:l().string,cssModule:l().object,disabled:l().bool,onClick:l().func,"aria-haspopup":l().bool,split:l().bool,tag:E,nav:l().bool},zn=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},n.render=function(){var e,t=this,n=this.props,r=n.className,a=n.color,c=n.cssModule,l=n.caret,u=n.split,p=n.nav,h=n.tag,f=n.innerRef,m=(0,o.A)(n,["className","color","cssModule","caret","split","nav","tag","innerRef"]),g=m["aria-label"]||"Toggle Dropdown",y=b(d()(r,{"dropdown-toggle":l||u,"dropdown-toggle-split":u,"nav-link":p}),c),v="undefined"!==typeof m.children?m.children:i.createElement("span",{className:"sr-only"},g);return p&&!h?(e="a",m.href="#"):h?e=h:(e=je,m.color=a,m.cssModule=c),this.context.inNavbar?i.createElement(e,(0,s.A)({},m,{className:y,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:v})):i.createElement(jn,{innerRef:f},(function(n){var r,a=n.ref;return i.createElement(e,(0,s.A)({},m,((r={})["string"===typeof e?"ref":"innerRef"]=a,r),{className:y,onClick:t.onClick,"aria-expanded":t.context.isOpen,children:v}))}))},t}(i.Component);zn.propTypes=Ln,zn.defaultProps={"aria-haspopup":!0,color:"secondary"},zn.contextType=Ye;const Bn=zn;var Un=n(9064);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=Vn(Vn({},Un.Transition.propTypes),{},{children:l().oneOfType([l().arrayOf(l().node),l().node]),tag:E,baseClass:l().string,baseClassActive:l().string,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])}),Hn=Vn(Vn({},Un.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:I.Fade,appear:!0,enter:!0,exit:!0,in:!0});function qn(e){var t=e.tag,n=e.baseClass,r=e.baseClassActive,a=e.className,c=e.cssModule,l=e.children,u=e.innerRef,p=(0,o.A)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),h=x(p,_),f=v(p,_);return i.createElement(Un.Transition,h,(function(e){var o="entered"===e,p=b(d()(a,n,o&&r),c);return i.createElement(t,(0,s.A)({className:p},f,{ref:u}),l)}))}qn.propTypes=Gn,qn.defaultProps=Hn;const Kn=qn;var Xn={color:l().string,pill:l().bool,tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),children:l().node,className:l().string,cssModule:l().object},Yn=function(e){var t=e.className,n=e.cssModule,r=e.color,a=e.innerRef,c=e.pill,l=e.tag,u=(0,o.A)(e,["className","cssModule","color","innerRef","pill","tag"]),p=b(d()(t,"badge","badge-"+r,!!c&&"badge-pill"),n);return u.href&&"span"===l&&(l="a"),i.createElement(l,(0,s.A)({},u,{className:p,ref:a}))};Yn.propTypes=Xn,Yn.defaultProps={color:"secondary",pill:!1,tag:"span"};const Zn=Yn;var $n={tag:E,inverse:l().bool,color:l().string,body:l().bool,outline:l().bool,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])},Jn=function(e){var t=e.className,n=e.cssModule,r=e.color,a=e.body,c=e.inverse,l=e.outline,u=e.tag,p=e.innerRef,h=(0,o.A)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=b(d()(t,"card",!!c&&"text-white",!!a&&"card-body",!!r&&(l?"border":"bg")+"-"+r),n);return i.createElement(u,(0,s.A)({},h,{className:f,ref:p}))};Jn.propTypes=$n,Jn.defaultProps={tag:"div"};const Qn=Jn;var er={tag:E,className:l().string,cssModule:l().object},tr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-group"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};tr.propTypes=er,tr.defaultProps={tag:"div"};const nr=tr;var rr={tag:E,className:l().string,cssModule:l().object},ar=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-deck"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};ar.propTypes=rr,ar.defaultProps={tag:"div"};const sr=ar;var or={tag:E,className:l().string,cssModule:l().object},ir=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-columns"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};ir.propTypes=or,ir.defaultProps={tag:"div"};const cr=ir;var lr={tag:E,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])},ur=function(e){var t=e.className,n=e.cssModule,r=e.innerRef,a=e.tag,c=(0,o.A)(e,["className","cssModule","innerRef","tag"]),l=b(d()(t,"card-body"),n);return i.createElement(a,(0,s.A)({},c,{className:l,ref:r}))};ur.propTypes=lr,ur.defaultProps={tag:"div"};const dr=ur;var pr={tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),className:l().string,cssModule:l().object},hr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.innerRef,c=(0,o.A)(e,["className","cssModule","tag","innerRef"]),l=b(d()(t,"card-link"),n);return i.createElement(r,(0,s.A)({},c,{ref:a,className:l}))};hr.propTypes=pr,hr.defaultProps={tag:"a"};const fr=hr;var mr={tag:E,className:l().string,cssModule:l().object},gr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-footer"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};gr.propTypes=mr,gr.defaultProps={tag:"div"};const yr=gr;var br={tag:E,className:l().string,cssModule:l().object},vr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-header"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};vr.propTypes=br,vr.defaultProps={tag:"div"};const xr=vr;var wr={tag:E,top:l().bool,bottom:l().bool,className:l().string,cssModule:l().object},kr=function(e){var t=e.className,n=e.cssModule,r=e.top,a=e.bottom,c=e.tag,l=(0,o.A)(e,["className","cssModule","top","bottom","tag"]),u="card-img";r&&(u="card-img-top"),a&&(u="card-img-bottom");var p=b(d()(t,u),n);return i.createElement(c,(0,s.A)({},l,{className:p}))};kr.propTypes=wr,kr.defaultProps={tag:"img"};const Nr=kr;var Sr={tag:E,className:l().string,cssModule:l().object},Cr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-img-overlay"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Cr.propTypes=Sr,Cr.defaultProps={tag:"div"};const Tr=Cr;function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={startAnimation:!1},n.onEnter=n.onEnter.bind(Se(n)),n.onEntering=n.onEntering.bind(Se(n)),n.onExit=n.onExit.bind(Se(n)),n.onExiting=n.onExiting.bind(Se(n)),n.onExited=n.onExited.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onEnter=function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)},n.onEntering=function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n},n.onExit=function(e){this.setState({startAnimation:!1}),this.props.onExit(e)},n.onExiting=function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.in,r=t.children,a=t.cssModule,c=t.slide,l=t.tag,u=t.className,p=(0,o.A)(t,["in","children","cssModule","slide","tag","className"]);return i.createElement(Un.Transition,(0,s.A)({},p,{enter:c,exit:c,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=e.context.direction,s=t===O.ENTERED||t===O.EXITING,o=(t===O.ENTERING||t===O.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),c=t===O.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),p=b(d()(u,"carousel-item",s&&"active",o,c),a);return i.createElement(l,{className:p},r)}))},t}(i.Component);_r.propTypes=Ir(Ir({},Un.Transition.propTypes),{},{tag:E,in:l().bool,cssModule:l().object,children:l().node,slide:l().bool,className:l().string}),_r.defaultProps=Ir(Ir({},Un.Transition.defaultProps),{},{tag:"div",timeout:I.Carousel,slide:!0}),_r.contextTypes={direction:l().string};const Or=_r;var Ar=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyPress=n.handleKeyPress.bind(Se(n)),n.renderItems=n.renderItems.bind(Se(n)),n.hoverStart=n.hoverStart.bind(Se(n)),n.hoverEnd=n.hoverEnd.bind(Se(n)),n.handleTouchStart=n.handleTouchStart.bind(Se(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Se(n)),n.touchStartX=0,n.touchStartY=0,n.state={activeIndex:n.props.activeIndex,direction:"right",indicatorClicked:!1},n}(0,Ce.A)(t,e);var n=t.prototype;return n.getChildContext=function(){return{direction:this.state.direction}},n.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},t.getDerivedStateFromProps=function(e,t){var n=null,r=t.activeIndex,a=t.direction,s=t.indicatorClicked;return e.activeIndex!==r&&(e.activeIndex===r+1?a="right":e.activeIndex===r-1?a="left":e.activeIndex<r?a=s?"left":"right":e.activeIndex!==r&&(a=s?"right":"left"),n={activeIndex:e.activeIndex,direction:a,indicatorClicked:!1}),n},n.componentDidUpdate=function(e,t){t.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)},n.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},n.setInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){void 0===e&&(e=this.props),this.clearInterval(),e.interval&&(this.cycleInterval=setInterval((function(){e.next()}),parseInt(e.interval,10)))})),n.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.cycleInterval)})),n.hoverStart=function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)},n.hoverEnd=function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)},n.handleKeyPress=function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())},n.handleTouchStart=function(e){this.props.enableTouch&&(this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY)},n.handleTouchEnd=function(e){if(this.props.enableTouch){var t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,r=Math.abs(this.touchStartX-t);r<Math.abs(this.touchStartY-n)||r<40||(t<this.touchStartX?this.props.next():this.props.previous())}},n.renderItems=function(e,t){var n=this,r=this.props.slide;return i.createElement("div",{className:t},e.map((function(e,t){var a=t===n.state.activeIndex;return i.cloneElement(e,{in:a,slide:r})})))},n.render=function(){var e=this,t=this.props,n=t.cssModule,r=t.slide,a=t.className,s=b(d()(a,"carousel",r&&"slide"),n),o=b(d()("carousel-inner"),n),c=this.props.children.filter((function(e){return null!==e&&void 0!==e&&"boolean"!==typeof e}));if(c.every((function(e){return e.type===Or})))return i.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(c,o));if(c[0]instanceof Array){var l=c[0],u=c[1],p=c[2];return i.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(l,o),u,p)}var h=c[0],f=i.cloneElement(h,{onClickHandler:function(t){"function"===typeof h.props.onClickHandler&&e.setState({indicatorClicked:!0},(function(){return h.props.onClickHandler(t)}))}}),m=c[1],g=c[2],y=c[3];return i.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},f,this.renderItems(m,o),g,y)},t}(i.Component);Ar.propTypes={activeIndex:l().number,next:l().func.isRequired,previous:l().func.isRequired,keyboard:l().bool,pause:l().oneOf(["hover",!1]),ride:l().oneOf(["carousel"]),interval:l().oneOfType([l().number,l().string,l().bool]),children:l().array,mouseEnter:l().func,mouseLeave:l().func,slide:l().bool,cssModule:l().object,className:l().string,enableTouch:l().bool},Ar.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0},Ar.childContextTypes={direction:l().string};const Rr=Ar;var Dr=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,a=e.directionText,s=e.className,o=b(d()(s,"carousel-control-"+t),r),c=b(d()("carousel-control-"+t+"-icon"),r),l=b(d()("sr-only"),r);return i.createElement("a",{className:o,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},i.createElement("span",{className:c,"aria-hidden":"true"}),i.createElement("span",{className:l},a||t))};Dr.propTypes={direction:l().oneOf(["prev","next"]).isRequired,onClickHandler:l().func.isRequired,cssModule:l().object,directionText:l().string,className:l().string};const Mr=Dr;var Pr=function(e){var t=e.items,n=e.activeIndex,r=e.cssModule,a=e.onClickHandler,s=e.className,o=b(d()(s,"carousel-indicators"),r),c=t.map((function(e,t){var s=b(d()({active:n===t}),r);return i.createElement("li",{key:""+(e.key||Object.values(e).join("")),onClick:function(e){e.preventDefault(),a(t)},className:s})}));return i.createElement("ol",{className:o},c)};Pr.propTypes={items:l().array.isRequired,activeIndex:l().number.isRequired,cssModule:l().object,onClickHandler:l().func.isRequired,className:l().string};const Fr=Pr;var jr=function(e){var t=e.captionHeader,n=e.captionText,r=e.cssModule,a=e.className,s=b(d()(a,"carousel-caption","d-none","d-md-block"),r);return i.createElement("div",{className:s},i.createElement("h3",null,t),i.createElement("p",null,n))};jr.propTypes={captionHeader:l().node,captionText:l().node.isRequired,cssModule:l().object,className:l().string};const Lr=jr;var zr={items:l().array.isRequired,indicators:l().bool,controls:l().bool,autoPlay:l().bool,defaultActiveIndex:l().number,activeIndex:l().number,next:l().func,previous:l().func,goToIndex:l().func},Br=function(e){function t(t){var n;return(n=e.call(this,t)||this).animating=!1,n.state={activeIndex:t.defaultActiveIndex||0},n.next=n.next.bind(Se(n)),n.previous=n.previous.bind(Se(n)),n.goToIndex=n.goToIndex.bind(Se(n)),n.onExiting=n.onExiting.bind(Se(n)),n.onExited=n.onExited.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onExiting=function(){this.animating=!0},n.onExited=function(){this.animating=!1},n.next=function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}},n.previous=function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}},n.goToIndex=function(e){this.animating||this.setState({activeIndex:e})},n.render=function(){var e=this,t=this.props,n=(t.defaultActiveIndex,t.autoPlay),r=t.indicators,a=t.controls,c=t.items,l=t.goToIndex,u=(0,o.A)(t,["defaultActiveIndex","autoPlay","indicators","controls","items","goToIndex"]),d=this.state.activeIndex,p=c.map((function(t){var n=t.key||t.src;return i.createElement(Or,{onExiting:e.onExiting,onExited:e.onExited,key:n},i.createElement("img",{className:"d-block w-100",src:t.src,alt:t.altText}),i.createElement(Lr,{captionText:t.caption,captionHeader:t.header||t.caption}))}));return i.createElement(Rr,(0,s.A)({activeIndex:d,next:this.next,previous:this.previous,ride:n?"carousel":void 0},u),r&&i.createElement(Fr,{items:c,activeIndex:u.activeIndex||d,onClickHandler:l||this.goToIndex}),p,a&&i.createElement(Mr,{direction:"prev",directionText:"Previous",onClickHandler:u.previous||this.previous}),a&&i.createElement(Mr,{direction:"next",directionText:"Next",onClickHandler:u.next||this.next}))},t}(i.Component);Br.propTypes=zr,Br.defaultProps={controls:!0,indicators:!0,autoPlay:!0};const Ur=Br;var Wr={tag:E,className:l().string,cssModule:l().object},Vr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-subtitle"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Vr.propTypes=Wr,Vr.defaultProps={tag:"div"};const Gr=Vr;var Hr={tag:E,className:l().string,cssModule:l().object},qr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-text"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};qr.propTypes=Hr,qr.defaultProps={tag:"p"};const Kr=qr;var Xr={tag:E,className:l().string,cssModule:l().object},Yr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"card-title"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Yr.propTypes=Xr,Yr.defaultProps={tag:"div"};const Zr=Yr;var $r={className:l().string,id:l().oneOfType([l().string,l().number]).isRequired,label:l().node,valid:l().bool,invalid:l().bool,bsSize:l().string,htmlFor:l().string,cssModule:l().object,onChange:l().func,children:l().oneOfType([l().node,l().array,l().func]),innerRef:l().oneOfType([l().object,l().string,l().func])},Jr=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={files:null},n.onChange=n.onChange.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onChange=function(e){var t=e.target,n=this.props.onChange,r=this.getSelectedFiles(t);"function"===typeof n&&n.apply(void 0,arguments),this.setState({files:r})},n.getSelectedFiles=function(e){if(this.props.multiple&&e.files)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf("fakepath")){var t=e.value.split("\\");return t[t.length-1]}return e.value},n.render=function(){var e=this.props,t=e.className,n=e.label,r=e.valid,a=e.invalid,c=e.cssModule,l=e.children,u=(e.bsSize,e.innerRef),p=e.htmlFor,h=(e.type,e.onChange,e.dataBrowse),f=e.hidden,m=(0,o.A)(e,["className","label","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor","type","onChange","dataBrowse","hidden"]),g=b(d()(t,"custom-file"),c),y=b(d()(a&&"is-invalid",r&&"is-valid"),c),v=p||m.id,x=this.state.files;return i.createElement("div",{className:g,hidden:f||!1},i.createElement("input",(0,s.A)({type:"file"},m,{ref:u,"aria-invalid":a,className:d()(y,b("custom-file-input",c)),onChange:this.onChange})),i.createElement("label",{className:b("custom-file-label",c),htmlFor:v,"data-browse":h},x||n||"Choose file"),l)},t}(i.Component);Jr.propTypes=$r;const Qr=Jr;var ea={className:l().string,id:l().oneOfType([l().string,l().number]).isRequired,type:l().string.isRequired,label:l().node,inline:l().bool,valid:l().bool,invalid:l().bool,bsSize:l().string,htmlFor:l().string,cssModule:l().object,children:l().oneOfType([l().node,l().array,l().func]),innerRef:l().oneOfType([l().object,l().string,l().func])};function ta(e){var t=e.className,n=e.label,r=e.inline,a=e.valid,c=e.invalid,l=e.cssModule,u=e.children,p=e.bsSize,h=e.innerRef,f=e.htmlFor,m=(0,o.A)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),g=m.type,y=b(d()(t,"custom-"+g,!!p&&"custom-"+g+"-"+p),l),v=b(d()(c&&"is-invalid",a&&"is-valid"),l),x=f||m.id;if("select"===g){m.type;var w=(0,o.A)(m,["type"]);return i.createElement("select",(0,s.A)({},w,{ref:h,className:d()(v,y),"aria-invalid":c}),u)}if("file"===g)return i.createElement(Qr,e);if("checkbox"!==g&&"radio"!==g&&"switch"!==g)return i.createElement("input",(0,s.A)({},m,{ref:h,"aria-invalid":c,className:d()(v,y)}));var k=d()(y,b(d()("custom-control",{"custom-control-inline":r}),l)),N=m.hidden,S=(0,o.A)(m,["hidden"]);return i.createElement("div",{className:k,hidden:N||!1},i.createElement("input",(0,s.A)({},S,{type:"switch"===g?"checkbox":g,ref:h,"aria-invalid":c,className:d()(v,b("custom-control-input",l))})),i.createElement("label",{className:b("custom-control-label",l),htmlFor:x},n),u)}ta.propTypes=ea;const na=ta;function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa={children:l().oneOfType([l().node,l().func]).isRequired,popperClassName:l().string,placement:l().string,placementPrefix:l().string,arrowClassName:l().string,hideArrow:l().bool,tag:E,isOpen:l().bool.isRequired,cssModule:l().object,offset:l().oneOfType([l().string,l().number]),fallbackPlacement:l().oneOfType([l().string,l().array]),flip:l().bool,container:T,target:T.isRequired,modifiers:l().object,positionFixed:l().bool,boundariesElement:l().oneOfType([l().string,C]),onClosed:l().func,fade:l().bool,transition:l().shape(Kn.propTypes)},oa={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{},onClosed:function(){},fade:!0,transition:aa({},Kn.defaultProps)},ia=function(e){function t(t){var n;return(n=e.call(this,t)||this).setTargetNode=n.setTargetNode.bind(Se(n)),n.getTargetNode=n.getTargetNode.bind(Se(n)),n.getRef=n.getRef.bind(Se(n)),n.onClosed=n.onClosed.bind(Se(n)),n.state={isOpen:t.isOpen},n}(0,Ce.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null};var n=t.prototype;return n.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},n.setTargetNode=function(e){this.targetNode="string"===typeof e?U(e):e},n.getTargetNode=function(){return this.targetNode},n.getContainerNode=function(){return U(this.props.container)},n.getRef=function(e){this._element=e},n.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},n.renderChildren=function(){var e=this.props,t=e.cssModule,n=e.children,r=e.isOpen,a=e.flip,c=(e.target,e.offset),l=e.fallbackPlacement,u=e.placementPrefix,p=e.arrowClassName,h=e.hideArrow,f=e.popperClassName,m=e.tag,g=(e.container,e.modifiers),y=e.positionFixed,v=e.boundariesElement,x=(e.onClosed,e.fade),w=e.transition,k=e.placement,N=(0,o.A)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","positionFixed","boundariesElement","onClosed","fade","transition","placement"]),S=b(d()("arrow",p),t),C=b(d()(f,u?u+"-auto":""),this.props.cssModule),T=aa({offset:{offset:c},flip:{enabled:a,behavior:l},preventOverflow:{boundariesElement:v}},g),E=aa(aa(aa({},Kn.defaultProps),w),{},{baseClass:x?w.baseClass:"",timeout:x?w.timeout:0});return i.createElement(Kn,(0,s.A)({},E,N,{in:r,onExited:this.onClosed,tag:m}),i.createElement(Tn,{referenceElement:this.targetNode,modifiers:T,placement:k,positionFixed:y},(function(e){var t=e.ref,r=e.style,a=e.placement,s=e.outOfBoundaries,o=e.arrowProps,c=e.scheduleUpdate;return i.createElement("div",{ref:t,style:r,className:C,"x-placement":a,"x-out-of-boundaries":s?"true":void 0},"function"===typeof n?n({scheduleUpdate:c}):n,!h&&i.createElement("span",{ref:o.ref,className:S,style:o.style}))})))},n.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():pt.createPortal(i.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(i.Component);ia.propTypes=sa,ia.defaultProps=oa;const ca=ia;var la=function(e,t){return t.popperManager.setTargetNode(U(e.target)),null};la.contextTypes={popperManager:l().object.isRequired},la.propTypes={target:T.isRequired};const ua=la;var da={children:l().oneOfType([l().node,l().func]),placement:l().oneOf(R),target:T.isRequired,container:T,isOpen:l().bool,disabled:l().bool,hideArrow:l().bool,boundariesElement:l().oneOfType([l().string,C]),className:l().string,innerClassName:l().string,arrowClassName:l().string,popperClassName:l().string,cssModule:l().object,toggle:l().func,autohide:l().bool,placementPrefix:l().string,delay:l().oneOfType([l().shape({show:l().number,hide:l().number}),l().number]),modifiers:l().object,positionFixed:l().bool,offset:l().oneOfType([l().string,l().number]),innerRef:l().oneOfType([l().func,l().string,l().object]),trigger:l().string,fade:l().bool,flip:l().bool},pa={show:0,hide:50},ha={isOpen:!1,hideArrow:!1,autohide:!1,delay:pa,toggle:function(){},trigger:"click",fade:!0};function fa(e,t){return t&&(e===t||t.contains(e))}function ma(e,t){return void 0===t&&(t=[]),t&&t.length&&t.filter((function(t){return fa(e,t)}))[0]}var ga=function(e){function t(t){var n;return(n=e.call(this,t)||this)._targets=[],n.currentTargetElement=null,n.addTargetEvents=n.addTargetEvents.bind(Se(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Se(n)),n.removeTargetEvents=n.removeTargetEvents.bind(Se(n)),n.toggle=n.toggle.bind(Se(n)),n.showWithDelay=n.showWithDelay.bind(Se(n)),n.hideWithDelay=n.hideWithDelay.bind(Se(n)),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(Se(n)),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(Se(n)),n.show=n.show.bind(Se(n)),n.hide=n.hide.bind(Se(n)),n.onEscKeyDown=n.onEscKeyDown.bind(Se(n)),n.getRef=n.getRef.bind(Se(n)),n.state={isOpen:t.isOpen},n._isMounted=!1,n}(0,Ce.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},n.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null},n.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},n.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},n.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},n.getRef=function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e},n.getDelay=function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?pa[e]:t[e]:t},n.getCurrentTarget=function(e){if(!e)return null;var t=this._targets.indexOf(e);return t>=0?this._targets[t]:this.getCurrentTarget(e.parentElement)},n.show=function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||this.getCurrentTarget(e.target):null,e&&e.composedPath&&"function"===typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}},n.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},n.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))},n.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},n.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},n.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},n.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||ma(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!fa(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&ma(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},n.addEventOnTargets=function(e,t,n){this._targets.forEach((function(r){r.addEventListener(e,t,n)}))},n.removeEventOnTargets=function(e,t,n){this._targets.forEach((function(r){r.removeEventListener(e,t,n)}))},n.addTargetEvents=function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},n.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},n.updateTarget=function(){var e=U(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},n.toggle=function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e=this;this.props.isOpen&&this.updateTarget();var t=this.currentTargetElement||this._targets[0];if(!t)return null;var n=this.props,r=n.className,a=n.cssModule,o=n.innerClassName,c=n.isOpen,l=n.hideArrow,u=n.boundariesElement,d=n.placement,p=n.placementPrefix,h=n.arrowClassName,f=n.popperClassName,m=n.container,g=n.modifiers,y=n.positionFixed,x=n.offset,w=n.fade,k=n.flip,N=n.children,S=v(this.props,Object.keys(da)),C=b(f,a),T=b(o,a);return i.createElement(ca,{className:r,target:t,isOpen:c,hideArrow:l,boundariesElement:u,placement:d,placementPrefix:p,arrowClassName:h,popperClassName:C,container:m,modifiers:g,positionFixed:y,offset:x,cssModule:a,fade:w,flip:k},(function(t){var n=t.scheduleUpdate;return i.createElement("div",(0,s.A)({},S,{ref:e.getRef,className:T,role:"tooltip",onMouseOver:e.onMouseOverTooltipContent,onMouseLeave:e.onMouseLeaveTooltipContent,onKeyDown:e.onEscKeyDown}),"function"===typeof N?N({scheduleUpdate:n}):N)}))},t}(i.Component);ga.propTypes=da,ga.defaultProps=ha;const ya=ga;var ba=function(e){var t=d()("popover","show",e.popperClassName),n=d()("popover-inner",e.innerClassName);return i.createElement(ya,(0,s.A)({},e,{popperClassName:t,innerClassName:n}))};ba.propTypes=da,ba.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click"};const va=ba;function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wa=["defaultOpen"],ka=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.createElement(va,(0,s.A)({isOpen:this.state.isOpen,toggle:this.toggle},v(this.props,wa)))},t}(i.Component);ka.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:l().bool},va.propTypes);var Na={tag:E,className:l().string,cssModule:l().object},Sa=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"popover-header"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Sa.propTypes=Na,Sa.defaultProps={tag:"h3"};const Ca=Sa;var Ta={tag:E,className:l().string,cssModule:l().object},Ea=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"popover-body"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Ea.propTypes=Ta,Ea.defaultProps={tag:"div"};const Ia=Ea;function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Aa={children:l().node,bar:l().bool,multi:l().bool,tag:E,value:l().oneOfType([l().string,l().number]),min:l().oneOfType([l().string,l().number]),max:l().oneOfType([l().string,l().number]),animated:l().bool,striped:l().bool,color:l().string,className:l().string,barClassName:l().string,cssModule:l().object,style:l().object,barAriaValueText:l().string,barAriaLabelledBy:l().string},Ra=function(e){var t=e.children,n=e.className,r=e.barClassName,a=e.cssModule,c=e.value,l=e.min,u=e.max,p=e.animated,h=e.striped,f=e.color,m=e.bar,g=e.multi,y=e.tag,v=e.style,x=e.barAriaValueText,w=e.barAriaLabelledBy,k=(0,o.A)(e,["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barAriaValueText","barAriaLabelledBy"]),N=F(c)/F(u)*100,S=b(d()(n,"progress"),a),C={className:b(d()("progress-bar",m&&n||r,p?"progress-bar-animated":null,f?"bg-"+f:null,h||p?"progress-bar-striped":null),a),style:Oa(Oa({},v),{},{width:N+"%"}),role:"progressbar","aria-valuenow":c,"aria-valuemin":l,"aria-valuemax":u,"aria-valuetext":x,"aria-labelledby":w,children:t};return m?i.createElement(y,(0,s.A)({},k,C)):i.createElement(y,(0,s.A)({},k,{className:S}),g?t:i.createElement("div",C))};Ra.propTypes=Aa,Ra.defaultProps={tag:"div",value:0,min:0,max:100,style:{}};const Da=Ra;var Ma={children:l().node.isRequired,node:l().any},Pa=function(e){function t(){return e.apply(this,arguments)||this}(0,Ce.A)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return D?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),pt.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(i.Component);Pa.propTypes=Ma;const Fa=Pa;function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function za(){}var Ba=l().shape(Kn.propTypes),Ua={isOpen:l().bool,autoFocus:l().bool,centered:l().bool,scrollable:l().bool,size:l().string,toggle:l().func,keyboard:l().bool,role:l().string,labelledBy:l().string,backdrop:l().oneOfType([l().bool,l().oneOf(["static"])]),onEnter:l().func,onExit:l().func,onOpened:l().func,onClosed:l().func,children:l().node,className:l().string,wrapClassName:l().string,modalClassName:l().string,backdropClassName:l().string,contentClassName:l().string,external:l().node,fade:l().bool,cssModule:l().object,zIndex:l().oneOfType([l().number,l().string]),backdropTransition:Ba,modalTransition:Ba,innerRef:l().oneOfType([l().object,l().string,l().func]),unmountOnClose:l().bool,returnFocusAfterClose:l().bool,container:T},Wa=Object.keys(Ua),Va={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:za,onClosed:za,modalTransition:{timeout:I.Modal},backdropTransition:{mountOnEnter:!0,timeout:I.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body"},Ga=function(e){function t(t){var n;return(n=e.call(this,t)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(Se(n)),n.handleBackdropClick=n.handleBackdropClick.bind(Se(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(Se(n)),n.handleEscape=n.handleEscape.bind(Se(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(Se(n)),n.handleTab=n.handleTab.bind(Se(n)),n.onOpened=n.onOpened.bind(Se(n)),n.onClosed=n.onClosed.bind(Se(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(Se(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(Se(n)),n.trapFocus=n.trapFocus.bind(Se(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}(0,Ce.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},n.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},n.trapFocus=function(e){if(this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<t.openCount-1)){for(var n=this.getFocusableChildren(),r=0;r<n.length;r++)if(n[r]===e.target)return;n.length>0&&(e.preventDefault(),e.stopPropagation(),n[0].focus())}},n.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||za)(e,t)},n.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||za)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(G.join(", "))},n.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},n.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},n.handleTab=function(e){if(9===e.which&&!(this.modalIndex<t.openCount-1)){var n=this.getFocusableChildren(),r=n.length;if(0!==r){for(var a=this.getFocusedChild(),s=0,o=0;o<r;o+=1)if(n[o]===a){s=o;break}e.shiftKey&&0===s?(e.preventDefault(),n[r-1].focus()):e.shiftKey||s!==r-1||(e.preventDefault(),n[0].focus())}}},n.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},n.handleEscape=function(e){this.props.isOpen&&e.keyCode===A.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},n.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},n.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=U(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=m(),g(),0===t.openCount&&(document.body.className=d()(document.body.className,b("modal-open",this.props.cssModule))),this.modalIndex=t.openCount,t.openCount+=1},n.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},n.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},n.close=function(){if(t.openCount<=1){var e=b("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),h(this._originalBodyPadding)},n.renderModalDialog=function(){var e,t=this,n=v(this.props,Wa),r="modal-dialog";return i.createElement("div",(0,s.A)({},n,{className:b(d()(r,this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e[r+"-centered"]=this.props.centered,e[r+"-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),i.createElement("div",{className:b(d()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var n=this.props,r=n.wrapClassName,a=n.modalClassName,o=n.backdropClassName,c=n.cssModule,l=n.isOpen,u=n.backdrop,p=n.role,h=n.labelledBy,f=n.external,m=n.innerRef,g={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":h,role:p,tabIndex:"-1"},y=this.props.fade,v=La(La(La({},Kn.defaultProps),this.props.modalTransition),{},{baseClass:y?this.props.modalTransition.baseClass:"",timeout:y?this.props.modalTransition.timeout:0}),x=La(La(La({},Kn.defaultProps),this.props.backdropTransition),{},{baseClass:y?this.props.backdropTransition.baseClass:"",timeout:y?this.props.backdropTransition.timeout:0}),w=u&&(y?i.createElement(Kn,(0,s.A)({},x,{in:l&&!!u,cssModule:c,className:b(d()("modal-backdrop",o),c)})):i.createElement("div",{className:b(d()("modal-backdrop","show",o),c)}));return i.createElement(Fa,{node:this._element},i.createElement("div",{className:b(r)},i.createElement(Kn,(0,s.A)({},g,v,{in:l,onEntered:this.onOpened,onExited:this.onClosed,cssModule:c,className:b(d()("modal",a,this.state.showStaticBackdropAnimation&&"modal-static"),c),innerRef:m}),f,this.renderModalDialog()),w))}return null},n.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(i.Component);Ga.propTypes=Ua,Ga.defaultProps=Va,Ga.openCount=0;const Ha=Ga;var qa={tag:E,wrapTag:E,toggle:l().func,className:l().string,cssModule:l().object,children:l().node,closeAriaLabel:l().string,charCode:l().oneOfType([l().string,l().number]),close:l().object},Ka=function(e){var t,n=e.className,r=e.cssModule,a=e.children,c=e.toggle,l=e.tag,u=e.wrapTag,p=e.closeAriaLabel,h=e.charCode,f=e.close,m=(0,o.A)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),g=b(d()(n,"modal-header"),r);if(!f&&c){var y="number"===typeof h?String.fromCharCode(h):h;t=i.createElement("button",{type:"button",onClick:c,className:b("close",r),"aria-label":p},i.createElement("span",{"aria-hidden":"true"},y))}return i.createElement(u,(0,s.A)({},m,{className:g}),i.createElement(l,{className:b("modal-title",r)},a),f||t)};Ka.propTypes=qa,Ka.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215};const Xa=Ka;var Ya={tag:E,className:l().string,cssModule:l().object},Za=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"modal-body"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Za.propTypes=Ya,Za.defaultProps={tag:"div"};const $a=Za;var Ja={tag:E,className:l().string,cssModule:l().object},Qa=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"modal-footer"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Qa.propTypes=Ja,Qa.defaultProps={tag:"div"};const es=Qa;var ts=function(e){var t=d()("tooltip","show",e.popperClassName),n=d()("tooltip-inner",e.innerClassName);return i.createElement(ya,(0,s.A)({},e,{popperClassName:t,innerClassName:n}))};ts.propTypes=da,ts.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};const ns=ts;var rs={className:l().string,cssModule:l().object,size:l().string,bordered:l().bool,borderless:l().bool,striped:l().bool,dark:l().bool,hover:l().bool,responsive:l().oneOfType([l().bool,l().string]),tag:E,responsiveTag:E,innerRef:l().oneOfType([l().func,l().string,l().object])},as=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.bordered,c=e.borderless,l=e.striped,u=e.dark,p=e.hover,h=e.responsive,f=e.tag,m=e.responsiveTag,g=e.innerRef,y=(0,o.A)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),v=b(d()(t,"table",!!r&&"table-"+r,!!a&&"table-bordered",!!c&&"table-borderless",!!l&&"table-striped",!!u&&"table-dark",!!p&&"table-hover"),n),x=i.createElement(f,(0,s.A)({},y,{ref:g,className:v}));if(h){var w=b(!0===h?"table-responsive":"table-responsive-"+h,n);return i.createElement(m,{className:w},x)}return x};as.propTypes=rs,as.defaultProps={tag:"table",responsiveTag:"div"};const ss=as;var os={tag:E,flush:l().bool,className:l().string,cssModule:l().object,horizontal:l().oneOfType([l().bool,l().string])},is=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.flush,c=e.horizontal,l=(0,o.A)(e,["className","cssModule","tag","flush","horizontal"]),u=b(d()(t,"list-group",a?"list-group-flush":function(e){return!1!==e&&(!0===e||"xs"===e?"list-group-horizontal":"list-group-horizontal-"+e)}(c)),n);return i.createElement(r,(0,s.A)({},l,{className:u}))};is.propTypes=os,is.defaultProps={tag:"ul",horizontal:!1};const cs=is;var ls={children:l().node,inline:l().bool,tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),className:l().string,cssModule:l().object},us=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Se(n)),n.submit=n.submit.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,r=e.inline,a=e.tag,c=e.innerRef,l=(0,o.A)(e,["className","cssModule","inline","tag","innerRef"]),u=b(d()(t,!!r&&"form-inline"),n);return i.createElement(a,(0,s.A)({},l,{ref:c,className:u}))},t}(i.Component);us.propTypes=ls,us.defaultProps={tag:"form"};const ds=us;var ps={children:l().node,tag:E,className:l().string,cssModule:l().object,valid:l().bool,tooltip:l().bool},hs={tag:"div",valid:void 0},fs=function(e){var t=e.className,n=e.cssModule,r=e.valid,a=e.tooltip,c=e.tag,l=(0,o.A)(e,["className","cssModule","valid","tooltip","tag"]),u=a?"tooltip":"feedback",p=b(d()(t,r?"valid-"+u:"invalid-"+u),n);return i.createElement(c,(0,s.A)({},l,{className:p}))};fs.propTypes=ps,fs.defaultProps=hs;const ms=fs;var gs={children:l().node,row:l().bool,check:l().bool,inline:l().bool,disabled:l().bool,tag:E,className:l().string,cssModule:l().object},ys=function(e){var t=e.className,n=e.cssModule,r=e.row,a=e.disabled,c=e.check,l=e.inline,u=e.tag,p=(0,o.A)(e,["className","cssModule","row","disabled","check","inline","tag"]),h=b(d()(t,!!r&&"row",c?"form-check":"form-group",!(!c||!l)&&"form-check-inline",!(!c||!a)&&"disabled"),n);return"fieldset"===u&&(p.disabled=a),i.createElement(u,(0,s.A)({},p,{className:h}))};ys.propTypes=gs,ys.defaultProps={tag:"div"};const bs=ys;var vs={children:l().node,inline:l().bool,tag:E,color:l().string,className:l().string,cssModule:l().object},xs=function(e){var t=e.className,n=e.cssModule,r=e.inline,a=e.color,c=e.tag,l=(0,o.A)(e,["className","cssModule","inline","color","tag"]),u=b(d()(t,!r&&"form-text",!!a&&"text-"+a),n);return i.createElement(c,(0,s.A)({},l,{className:u}))};xs.propTypes=vs,xs.defaultProps={tag:"small",color:"muted"};const ws=xs;var ks={children:l().node,type:l().string,size:l().oneOfType([l().number,l().string]),bsSize:l().string,valid:l().bool,invalid:l().bool,tag:E,innerRef:l().oneOfType([l().object,l().func,l().string]),plaintext:l().bool,addon:l().bool,className:l().string,cssModule:l().object},Ns=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Se(n)),n.focus=n.focus.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,r=e.type,a=e.bsSize,c=e.valid,l=e.invalid,u=e.tag,p=e.addon,h=e.plaintext,f=e.innerRef,m=(0,o.A)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(r)>-1,y=new RegExp("\\D","g"),v=u||("select"===r||"textarea"===r?r:"input"),x="form-control";h?(x+="-plaintext",v=u||"input"):"file"===r?x+="-file":"range"===r?x+="-range":g&&(x=p?null:"form-check-input"),m.size&&y.test(m.size)&&(k('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=m.size,delete m.size);var w=b(d()(t,l&&"is-invalid",c&&"is-valid",!!a&&"form-control-"+a,x),n);return("input"===v||u&&"function"===typeof u)&&(m.type=r),m.children&&!h&&"select"!==r&&"string"===typeof v&&"select"!==v&&(k('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete m.children),i.createElement(v,(0,s.A)({},m,{ref:f,className:w,"aria-invalid":l}))},t}(i.Component);Ns.propTypes=ks,Ns.defaultProps={type:"text"};const Ss=Ns;var Cs={tag:E,size:l().string,className:l().string,cssModule:l().object},Ts=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.size,c=(0,o.A)(e,["className","cssModule","tag","size"]),l=b(d()(t,"input-group",a?"input-group-"+a:null),n);return i.createElement(r,(0,s.A)({},c,{className:l}))};Ts.propTypes=Cs,Ts.defaultProps={tag:"div"};const Es=Ts;var Is={tag:E,className:l().string,cssModule:l().object},_s=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"input-group-text"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};_s.propTypes=Is,_s.defaultProps={tag:"span"};const Os=_s;var As={tag:E,addonType:l().oneOf(["prepend","append"]).isRequired,children:l().node,className:l().string,cssModule:l().object},Rs=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.addonType,c=e.children,l=(0,o.A)(e,["className","cssModule","tag","addonType","children"]),u=b(d()(t,"input-group-"+a),n);return"string"===typeof c?i.createElement(r,(0,s.A)({},l,{className:u}),i.createElement(Os,{children:c})):i.createElement(r,(0,s.A)({},l,{className:u,children:c}))};Rs.propTypes=As,Rs.defaultProps={tag:"div"};const Ds=Rs;var Ms={addonType:l().oneOf(["prepend","append"]).isRequired,children:l().node},Ps=function(e){return i.createElement(Qe,e)};Ps.propTypes=Ms;const Fs=Ps;var js=l().oneOfType([l().number,l().string]),Ls=l().oneOfType([l().bool,l().string,l().number,l().shape({size:js,order:js,offset:js})]),zs={children:l().node,hidden:l().bool,check:l().bool,size:l().string,for:l().string,tag:E,className:l().string,cssModule:l().object,xs:Ls,sm:Ls,md:Ls,lg:Ls,xl:Ls,widths:l().array},Bs={tag:"label",widths:["xs","sm","md","lg","xl"]},Us=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Ws=function(e){var t=e.className,n=e.cssModule,r=e.hidden,a=e.widths,c=e.tag,l=e.check,u=e.size,p=e.for,h=(0,o.A)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];a.forEach((function(t,r){var a=e[t];if(delete h[t],a||""===a){var s,o=!r;if(j(a)){var i,c=o?"-":"-"+t+"-";s=Us(o,t,a.size),f.push(b(d()(((i={})[s]=a.size||""===a.size,i["order"+c+a.order]=a.order||0===a.order,i["offset"+c+a.offset]=a.offset||0===a.offset,i))),n)}else s=Us(o,t,a),f.push(s)}}));var m=b(d()(t,!!r&&"sr-only",!!l&&"form-check-label",!!u&&"col-form-label-"+u,f,!!f.length&&"col-form-label"),n);return i.createElement(c,(0,s.A)({htmlFor:p},h,{className:m}))};Ws.propTypes=zs,Ws.defaultProps=Bs;const Vs=Ws;var Gs={body:l().bool,bottom:l().bool,children:l().node,className:l().string,cssModule:l().object,heading:l().bool,left:l().bool,list:l().bool,middle:l().bool,object:l().bool,right:l().bool,tag:E,top:l().bool},Hs=function(e){var t,n=e.body,r=e.bottom,a=e.className,c=e.cssModule,l=e.heading,u=e.left,p=e.list,h=e.middle,f=e.object,m=e.right,g=e.tag,y=e.top,v=(0,o.A)(e,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]);t=l?"h4":v.href?"a":v.src||f?"img":p?"ul":"div";var x=g||t,w=b(d()(a,{"media-body":n,"media-heading":l,"media-left":u,"media-right":m,"media-top":y,"media-bottom":r,"media-middle":h,"media-object":f,"media-list":p,media:!n&&!l&&!u&&!m&&!y&&!r&&!h&&!f&&!p}),c);return i.createElement(x,(0,s.A)({},v,{className:w}))};Hs.propTypes=Gs;const qs=Hs;var Ks={children:l().node,className:l().string,listClassName:l().string,cssModule:l().object,size:l().string,tag:E,listTag:E,"aria-label":l().string},Xs=function(e){var t,n=e.className,r=e.listClassName,a=e.cssModule,c=e.size,l=e.tag,u=e.listTag,p=e["aria-label"],h=(0,o.A)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),f=b(d()(n),a),m=b(d()(r,"pagination",((t={})["pagination-"+c]=!!c,t)),a);return i.createElement(l,{className:f,"aria-label":p},i.createElement(u,(0,s.A)({},h,{className:m})))};Xs.propTypes=Ks,Xs.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};const Ys=Xs;var Zs={active:l().bool,children:l().node,className:l().string,cssModule:l().object,disabled:l().bool,tag:E},$s=function(e){var t=e.active,n=e.className,r=e.cssModule,a=e.disabled,c=e.tag,l=(0,o.A)(e,["active","className","cssModule","disabled","tag"]),u=b(d()(n,"page-item",{active:t,disabled:a}),r);return i.createElement(c,(0,s.A)({},l,{className:u}))};$s.propTypes=Zs,$s.defaultProps={tag:"li"};const Js=$s;var Qs={"aria-label":l().string,children:l().node,className:l().string,cssModule:l().object,next:l().bool,previous:l().bool,first:l().bool,last:l().bool,tag:E},eo=function(e){var t,n=e.className,r=e.cssModule,a=e.next,c=e.previous,l=e.first,u=e.last,p=e.tag,h=(0,o.A)(e,["className","cssModule","next","previous","first","last","tag"]),f=b(d()(n,"page-link"),r);c?t="Previous":a?t="Next":l?t="First":u&&(t="Last");var m,g=e["aria-label"]||t;c?m="\u2039":a?m="\u203a":l?m="\xab":u&&(m="\xbb");var y=e.children;return y&&Array.isArray(y)&&0===y.length&&(y=null),h.href||"a"!==p||(p="button"),(c||a||l||u)&&(y=[i.createElement("span",{"aria-hidden":"true",key:"caret"},y||m),i.createElement("span",{className:"sr-only",key:"sr"},g)]),i.createElement(p,(0,s.A)({},h,{className:f,"aria-label":g}),y)};eo.propTypes=Qs,eo.defaultProps={tag:"a"};const to=eo;var no=i.createContext({}),ro={tag:E,activeTab:l().any,className:l().string,cssModule:l().object},ao=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={activeTab:n.props.activeTab},n}return(0,Ce.A)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.cssModule,r=e.tag,a=v(this.props,Object.keys(ro)),o=b(d()("tab-content",t),n);return i.createElement(no.Provider,{value:{activeTabId:this.state.activeTab}},i.createElement(r,(0,s.A)({},a,{className:o})))},t}(i.Component);const so=ao;ao.propTypes=ro,ao.defaultProps={tag:"div"};var oo={tag:E,className:l().string,cssModule:l().object,tabId:l().any};function io(e){var t=e.className,n=e.cssModule,r=e.tabId,a=e.tag,c=(0,o.A)(e,["className","cssModule","tabId","tag"]),l=function(e){return b(d()("tab-pane",t,{active:r===e}),n)};return i.createElement(no.Consumer,null,(function(e){var t=e.activeTabId;return i.createElement(a,(0,s.A)({},c,{className:l(t)}))}))}io.propTypes=oo,io.defaultProps={tag:"div"};var co={tag:E,fluid:l().bool,className:l().string,cssModule:l().object},lo=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.fluid,c=(0,o.A)(e,["className","cssModule","tag","fluid"]),l=b(d()(t,"jumbotron",!!a&&"jumbotron-fluid"),n);return i.createElement(r,(0,s.A)({},c,{className:l}))};lo.propTypes=co,lo.defaultProps={tag:"div"};const uo=lo;function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo={children:l().node,className:l().string,closeClassName:l().string,closeAriaLabel:l().string,cssModule:l().object,color:l().string,fade:l().bool,isOpen:l().bool,toggle:l().func,tag:E,transition:l().shape(Kn.propTypes),innerRef:l().oneOfType([l().object,l().string,l().func])},mo={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:ho(ho({},Kn.defaultProps),{},{unmountOnExit:!0})};function go(e){var t=e.className,n=e.closeClassName,r=e.closeAriaLabel,a=e.cssModule,c=e.tag,l=e.color,u=e.isOpen,p=e.toggle,h=e.children,f=e.transition,m=e.fade,g=e.innerRef,y=(0,o.A)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),v=b(d()(t,"alert","alert-"+l,{"alert-dismissible":p}),a),x=b(d()("close",n),a),w=ho(ho(ho({},Kn.defaultProps),f),{},{baseClass:m?f.baseClass:"",timeout:m?f.timeout:0});return i.createElement(Kn,(0,s.A)({},y,w,{tag:c,className:v,in:u,role:"alert",innerRef:g}),p?i.createElement("button",{type:"button",className:x,"aria-label":r,onClick:p},i.createElement("span",{"aria-hidden":"true"},"\xd7")):null,h)}go.propTypes=fo,go.defaultProps=mo;const yo=go;function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo={children:l().node,className:l().string,cssModule:l().object,fade:l().bool,isOpen:l().bool,tag:E,transition:l().shape(Kn.propTypes),innerRef:l().oneOfType([l().object,l().string,l().func])},wo={isOpen:!0,tag:"div",fade:!0,transition:vo(vo({},Kn.defaultProps),{},{unmountOnExit:!0})};function ko(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.isOpen,c=e.children,l=e.transition,u=e.fade,p=e.innerRef,h=(0,o.A)(e,["className","cssModule","tag","isOpen","children","transition","fade","innerRef"]),f=b(d()(t,"toast"),n),m=vo(vo(vo({},Kn.defaultProps),l),{},{baseClass:u?l.baseClass:"",timeout:u?l.timeout:0});return i.createElement(Kn,(0,s.A)({},h,m,{tag:r,className:f,in:a,role:"alert",innerRef:p}),c)}ko.propTypes=xo,ko.defaultProps=wo;const No=ko;var So={tag:E,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])},Co=function(e){var t=e.className,n=e.cssModule,r=e.innerRef,a=e.tag,c=(0,o.A)(e,["className","cssModule","innerRef","tag"]),l=b(d()(t,"toast-body"),n);return i.createElement(a,(0,s.A)({},c,{className:l,ref:r}))};Co.propTypes=So,Co.defaultProps={tag:"div"};const To=Co;var Eo={tag:E,icon:l().oneOfType([l().string,l().node]),wrapTag:E,toggle:l().func,className:l().string,cssModule:l().object,children:l().node,closeAriaLabel:l().string,charCode:l().oneOfType([l().string,l().number]),close:l().object},Io=function(e){var t,n,r=e.className,a=e.cssModule,c=e.children,l=e.toggle,u=e.tag,p=e.wrapTag,h=e.closeAriaLabel,f=e.charCode,m=e.close,g=e.tagClassName,y=e.icon,v=(0,o.A)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close","tagClassName","icon"]),x=b(d()(r,"toast-header"),a);if(!m&&l){var w="number"===typeof f?String.fromCharCode(f):f;t=i.createElement("button",{type:"button",onClick:l,className:b("close",a),"aria-label":h},i.createElement("span",{"aria-hidden":"true"},w))}return"string"===typeof y?n=i.createElement("svg",{className:b("rounded text-"+y),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},i.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):y&&(n=y),i.createElement(p,(0,s.A)({},v,{className:x}),n,i.createElement(u,{className:b(d()(g,{"ml-2":null!=n}),a)},c),m||t)};Io.propTypes=Eo,Io.defaultProps={tag:"strong",wrapTag:"div",tagClassName:"mr-auto",closeAriaLabel:"Close",charCode:215};const _o=Io;var Oo;function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Do=Ro(Ro({},Un.Transition.propTypes),{},{isOpen:l().bool,children:l().oneOfType([l().arrayOf(l().node),l().node]),tag:E,className:l().node,navbar:l().bool,cssModule:l().object,innerRef:l().oneOfType([l().func,l().string,l().object])}),Mo=Ro(Ro({},Un.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:I.Collapse}),Po=((Oo={})[O.ENTERING]="collapsing",Oo[O.ENTERED]="collapse show",Oo[O.EXITING]="collapsing",Oo[O.EXITED]="collapse",Oo);function Fo(e){return e.scrollHeight}var jo=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(Se(n))})),n}(0,Ce.A)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:Fo(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:Fo(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,a=t.className,c=t.navbar,l=t.cssModule,u=t.children,p=(t.innerRef,(0,o.A)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),h=this.state.height,f=x(p,_),m=v(p,_);return i.createElement(Un.Transition,(0,s.A)({},f,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var r=function(e){return Po[e]||"collapse"}(t),o=b(d()(a,r,c&&"navbar-collapse"),l),p=null===h?null:{height:h};return i.createElement(n,(0,s.A)({},m,{style:Ro(Ro({},m.style),p),className:o,ref:e.props.innerRef}),u)}))},t}(i.Component);jo.propTypes=Do,jo.defaultProps=Mo;const Lo=jo;var zo={tag:E,active:l().bool,disabled:l().bool,color:l().string,action:l().bool,className:l().any,cssModule:l().object},Bo=function(e){e.preventDefault()},Uo=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.active,c=e.disabled,l=e.action,u=e.color,p=(0,o.A)(e,["className","cssModule","tag","active","disabled","action","color"]),h=b(d()(t,!!a&&"active",!!c&&"disabled",!!l&&"list-group-item-action",!!u&&"list-group-item-"+u,"list-group-item"),n);return c&&(p.onClick=Bo),i.createElement(r,(0,s.A)({},p,{className:h}))};Uo.propTypes=zo,Uo.defaultProps={tag:"li"};const Wo=Uo;var Vo={tag:E,className:l().any,cssModule:l().object},Go=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"list-group-item-heading"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Go.propTypes=Vo,Go.defaultProps={tag:"h5"};const Ho=Go;var qo={tag:E,className:l().any,cssModule:l().object},Ko=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=(0,o.A)(e,["className","cssModule","tag"]),c=b(d()(t,"list-group-item-text"),n);return i.createElement(r,(0,s.A)({},a,{className:c}))};Ko.propTypes=qo,Ko.defaultProps={tag:"p"};const Xo=Ko;var Yo={tag:E,className:l().string,cssModule:l().object,type:l().string},Zo=(0,i.forwardRef)((function(e,t){var n=e.className,r=e.cssModule,a=e.tag,c=e.type,l=(0,o.A)(e,["className","cssModule","tag","type"]),u=b(d()(n,!!c&&"list-"+c),r);return i.createElement(a,(0,s.A)({},l,{className:u,ref:t}))}));Zo.propTypes=Yo,Zo.defaultProps={tag:"ul"};const $o=Zo;var Jo={tag:E,className:l().string,cssModule:l().object},Qo=(0,i.forwardRef)((function(e,t){var n=e.className,r=e.cssModule,a=e.tag,c=(0,o.A)(e,["className","cssModule","tag"]),l=b(d()(n,"list-inline-item"),r);return i.createElement(a,(0,s.A)({},c,{className:l,ref:t}))}));Qo.propTypes=Jo,Qo.defaultProps={tag:"li"};const ei=Qo;const ti=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:!0},n.toggle=n.toggle.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.createElement(yo,(0,s.A)({isOpen:this.state.isOpen,toggle:this.toggle},this.props))},t}(i.Component);function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ri=["defaultOpen"],ai=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.createElement(nt,(0,s.A)({isOpen:this.state.isOpen,toggle:this.toggle},v(this.props,ri)))},t}(i.Component);ai.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:l().bool},nt.propTypes);var si=["toggleEvents","defaultOpen"],oi={defaultOpen:l().bool,toggler:l().string.isRequired,toggleEvents:l().arrayOf(l().string)},ii={toggleEvents:W},ci=function(e){function t(t){var n;return(n=e.call(this,t)||this).togglers=null,n.removeEventListeners=null,n.toggle=n.toggle.bind(Se(n)),n.state={isOpen:t.defaultOpen||!1},n}(0,Ce.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.togglers=z(this.props.toggler),this.togglers.length&&(this.removeEventListeners=V(this.togglers,this.toggle,this.props.toggleEvents))},n.componentWillUnmount=function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()},n.toggle=function(e){this.setState((function(e){return{isOpen:!e.isOpen}})),e.preventDefault()},n.render=function(){return i.createElement(Lo,(0,s.A)({isOpen:this.state.isOpen},v(this.props,si)))},t}(i.Component);ci.propTypes=oi,ci.defaultProps=ii;const li=ci;function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var di=["defaultOpen"],pi=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.toggle=function(e){this.setState({isOpen:!this.state.isOpen}),this.props.onToggle&&this.props.onToggle(e,!this.state.isOpen)},n.render=function(){return i.createElement(Qe,(0,s.A)({isOpen:this.state.isOpen,toggle:this.toggle},v(this.props,di)))},t}(i.Component);function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}pi.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:l().bool,onToggle:l().func},Qe.propTypes);var fi=["defaultOpen"],mi=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Se(n)),n}(0,Ce.A)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.createElement(ns,(0,s.A)({isOpen:this.state.isOpen,toggle:this.toggle},v(this.props,fi)))},t}(i.Component);mi.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:l().bool},ns.propTypes);var gi={tag:E,type:l().string,size:l().string,color:l().string,className:l().string,cssModule:l().object,children:l().string},yi=function(e){var t=e.className,n=e.cssModule,r=e.type,a=e.size,c=e.color,l=e.children,u=e.tag,p=(0,o.A)(e,["className","cssModule","type","size","color","children","tag"]),h=b(d()(t,!!a&&"spinner-"+r+"-"+a,"spinner-"+r,!!c&&"text-"+c),n);return i.createElement(u,(0,s.A)({role:"status"},p,{className:h}),l&&i.createElement("span",{className:b("sr-only",n)},l))};yi.propTypes=gi,yi.defaultProps={tag:"div",type:"border",children:"Loading..."};const bi=yi;var vi=n(325)},325:()=>{!function(){if("object"===typeof window&&"function"!==typeof window.CustomEvent){window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}}(),function(){if("function"!==typeof Object.values){Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}}}()},2105:(e,t,n)=>{"use strict";var r=n(4994);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(1088));e.exports=t.default},1088:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},3698:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},1888:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(5173));var r=i(n(2105)),a=i(n(3698)),s=i(n(5043)),o=i(n(7541));n(8396);function i(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,s=n?r+" "+a:a;t.removeClasses(e,n?"appear":"enter"),l(e,s),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,a=r?(r&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName,s=n.doneClassName;r&&u(e,r),a&&u(e,a),s&&u(e,s)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=c({},this.props);return delete e.classNames,s.default.createElement(o.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(s.default.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d;t.default=p,e.exports=t.default},2803:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;o(n(5173));var r=o(n(5043)),a=n(7950),s=o(n(2918));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.handleLifecycle=function(e,t,n){var s,o=this.props.children,i=r.default.Children.toArray(o)[t];i.props[e]&&(s=i.props)[e].apply(s,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},i.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),o=r.default.Children.toArray(t),i=o[0],c=o[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,r.default.createElement(s.default,a,n?r.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);i.propTypes={};var c=i;t.default=c,e.exports=t.default},7541:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5173)),a=i(n(5043)),s=i(n(7950)),o=n(5484);n(8396);function i(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var p="exiting";t.EXITING=p;var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,s=n.transitionGroup,o=s&&!s.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=l,r.appearStatus=u):a=d:a=t.unmountOnExit||t.mountOnEnter?c:l,r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=p)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=s.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},o.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,s=this.getTimeouts(),o=a?s.appear:s.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:u},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var s=a.default.Children.only(n);return a.default.cloneElement(s,r)},r}(a.default.Component);function f(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,o.polyfill)(h);t.default=m},2918:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(5173)),a=i(n(5043)),s=n(5484),o=n(8604);function i(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:a,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},s.componentDidMount=function(){this.appeared=!0,this.mounted=!0},s.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},s.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},s.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),s=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s:a.default.createElement(t,r,s)},r}(a.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,s.polyfill)(d);t.default=p,e.exports=t.default},9064:(e,t,n)=>{"use strict";var r=i(n(1888)),a=i(n(2803)),s=i(n(2918)),o=i(n(7541));function i(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:s.default,ReplaceTransition:a.default,CSSTransition:r.default}},8604:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=s,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var i=a(e.children),c=s(t,i);return Object.keys(c).forEach((function(a){var s=c[a];if((0,r.isValidElement)(s)){var l=a in t,u=a in i,d=t[a],p=(0,r.isValidElement)(d)&&!d.props.in;!u||l&&!p?u||!l||p?u&&l&&(0,r.isValidElement)(d)&&(c[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:o(s,"exit",e),enter:o(s,"enter",e)})):c[a]=(0,r.cloneElement)(s,{in:!1}):c[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:o(s,"exit",e),enter:o(s,"enter",e)})}})),c};var r=n(5043);function a(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function s(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),s=[];for(var o in e)o in t?s.length&&(a[o]=s,s=[]):s.push(o);var i={};for(var c in t){if(a[c])for(r=0;r<a[c].length;r++){var l=a[c][r];i[a[c][r]]=n(l)}i[c]=n(c)}for(r=0;r<s.length;r++)i[s[r]]=n(s[r]);return i}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},8396:(e,t,n)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(5173))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},2940:(e,t,n)=>{"use strict";var r=n(2981),a=n(2521),s=Object;e.exports=r((function(){if(null==this||this!==s(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},2488:(e,t,n)=>{"use strict";var r=n(1779),a=n(1712),s=n(2940),o=n(201),i=n(855),c=a(o());r(c,{getPolyfill:o,implementation:s,shim:i}),e.exports=c},201:(e,t,n)=>{"use strict";var r=n(2940),a=n(1779).supportsDescriptors,s=Object.getOwnPropertyDescriptor;e.exports=function(){if(a&&"gim"===/a/gim.flags){var e=s(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},855:(e,t,n)=>{"use strict";var r=n(1779).supportsDescriptors,a=n(201),s=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!c)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=a(),t=c(l),n=s(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},7234:(e,t)=>{"use strict";var n,r,a,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();v=e+b;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){y=p((function(){e(t.unstable_now())}),n)},a=function(){h(y),y=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<C(a,t)))break e;e[r]=t,e[n]=a,n=r}}function N(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var s=2*(r+1)-1,o=e[s],i=s+1,c=e[i];if(void 0!==o&&0>C(o,n))void 0!==c&&0>C(c,o)?(e[r]=c,e[i]=n,r=i):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[i]=n,r=i}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],E=[],I=1,_=null,O=3,A=!1,R=!1,D=!1;function M(e){for(var t=N(E);null!==t;){if(null===t.callback)S(E);else{if(!(t.startTime<=e))break;S(E),t.sortIndex=t.expirationTime,k(T,t)}t=N(E)}}function P(e){if(D=!1,M(e),!R)if(null!==N(T))R=!0,n(F);else{var t=N(E);null!==t&&r(P,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,a()),A=!0;var s=O;try{for(M(n),_=N(T);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=_.callback;if("function"===typeof o){_.callback=null,O=_.priorityLevel;var i=o(_.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?_.callback=i:_===N(T)&&S(T),M(n)}else S(T);_=N(T)}if(null!==_)var c=!0;else{var l=N(E);null!==l&&r(P,l.startTime-n),c=!1}return c}finally{_=null,O=s,A=!1}}var j=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return N(T)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:I++,callback:s,priorityLevel:e,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>i?(e.sortIndex=o,k(E,e),null===N(T)&&e===N(E)&&(D?a():D=!0,r(P,o-i))):(e.sortIndex=c,k(T,e),R||A||(R=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4334:(e,t,n)=>{var r=n(7359),a=n(7066),s=n(9016),o=n(9538),i=n(6288),c=n(5262),l=n(2430);l.alea=r,l.xor128=a,l.xorwow=s,l.xorshift7=o,l.xor4096=i,l.tychei=c,e.exports=l},7359:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function c(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.alea=c}(0,e=n.nmd(e),n.amdD)},5262:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function c(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.tychei=c}(0,e=n.nmd(e),n.amdD)},7066:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function c(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.xor128=c}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,s=t.i;return t.w=r=r+1640531527|0,n=a[s+34&127],e=a[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,a,s,o,i=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),a=0,s=-32;s<c;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(o=o+1640531527|0,a=0==(n=i[127&s]^=r+o)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=o,e.X=i,e.i=a}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function c(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.xor4096=c}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function c(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.xorshift7=c}(0,e=n.nmd(e),n.amdD)},9016:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function c(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,a))||(a.exports=r):this.xorwow=c}(0,e=n.nmd(e),n.amdD)},2430:function(e,t,n){var r;!function(a,s,o){var i,c=256,l=o.pow(c,6),u=o.pow(2,52),d=2*u,p=c-1;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(s)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(c):(e=new Uint8Array(c),(a.crypto||a.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,b(s)]}}():e,3),r),h=new f(r),v=function(){for(var e=h.g(6),t=l,n=0;e<u;)e=(e+n)*c,t*=c,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|h.g(4)},v.quick=function(){return h.g(4)/4294967296},v.double=v,y(b(h.S),s),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(o.random=e,t):e})(v,p,"global"in t?t.global:this==o,t.state)}function f(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<c;)o[a]=a++;for(a=0;a<c;a++)o[a]=o[s=p&s+e[a%n]+(t=o[a])],o[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,o=r.S;e--;)t=o[a=p&a+1],n=n*c+o[p&(o[a]=o[s=p&s+t])+(o[s]=t)];return r.i=a,r.j=s,n})(c)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(s){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),s),e.exports){e.exports=h;try{i=n(1234)}catch(v){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},5438:(e,t,n)=>{"use strict";var r=n(2),a=n(4992),s=n(2101)(),o=n(5558),i=n(2521),c=r("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new i("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||c(t)!==t)throw new i("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,l=!0;if("length"in e&&o){var u=o(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(l=!1)}return(r||l||!n)&&(s?a(e,"length",t,!0,!0):a(e,"length",t)),e}},2981:(e,t,n)=>{"use strict";var r=n(4992),a=n(2101)(),s=n(7699).functionsHaveConfigurableNames(),o=n(2521);e.exports=function(e,t){if("function"!==typeof e)throw new o("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!s||(a?r(e,"name",t,!0,!0):r(e,"name",t)),e}},2213:e=>{"use strict";var t="Invariant failed";e.exports=function(e,n){if(!e)throw new Error(t)}},8620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e,t){}},6440:e=>{"use strict";var t=function(){};e.exports=t},5817:()=>{},8590:()=>{},4530:()=>{},8108:()=>{},551:()=>{},1234:()=>{},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},166:e=>{e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},5540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>a})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},3404:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=!0,a="Invariant failed";function s(e,t){if(!e){if(r)throw new Error(a);var n="function"===typeof t?t():t,s=n?"".concat(a,": ").concat(n):a;throw new Error(s)}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+{42:"reactPlayerTwitch",173:"reactPlayerVimeo",328:"reactPlayerDailyMotion",340:"reactPlayerWistia",353:"reactPlayerPreview",392:"reactPlayerVidyard",446:"reactPlayerYouTube",458:"reactPlayerFilePlayer",463:"reactPlayerKaltura",570:"reactPlayerMixcloud",627:"reactPlayerStreamable",723:"reactPlayerMux",887:"reactPlayerFacebook",979:"reactPlayerSoundCloud"}[e]+"."+{42:"33ba4b2a",173:"794a7f52",328:"42e66dd8",340:"ae873c57",353:"b4b598b6",392:"b4ab8e8a",446:"dc866867",458:"fc895be5",463:"89918f80",570:"2aa078cf",627:"8a8c5cce",723:"660bd419",887:"91b3c3e8",979:"4bcf9971"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="react:";n.l=(r,a,s,o)=>{if(e[r])e[r].push(a);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[a];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=s);var o=n.p+n.u(t),i=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,s,o=r[0],i=r[1],c=r[2],l=0;if(o.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkreact=self.webpackChunkreact||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ut,hasStandardBrowserEnv:()=>dt,hasStandardBrowserWebWorkerEnv:()=>ht,origin:()=>ft});var t={};n.r(t),n.d(t,{arraysEqual:()=>cb,arraysEqualWithNull:()=>ib,assert:()=>nb,assertNonNegativeIntegerDimensions:()=>Lb,assertNonNull:()=>ab,assertShapesMatch:()=>rb,bytesFromStringArray:()=>Sb,bytesPerElement:()=>Nb,checkConversionForErrors:()=>xb,clamp:()=>Zy,computeStrides:()=>Ab,convertBackendValuesAndArrayBuffer:()=>Mb,createScalarValue:()=>Wk,createShuffledIndices:()=>pb,decodeString:()=>Kk,distSquared:()=>tb,encodeString:()=>qk,fetch:()=>Hk,fingerPrint64:()=>Uk,flatten:()=>Yk,getArrayFromDType:()=>vb,getTypedArrayFromDType:()=>bb,hasEncodingLoss:()=>kb,hexToLong:()=>Ok,indexToLoc:()=>Bb,inferDtype:()=>Ib,inferFromImplicitShape:()=>mb,isBoolean:()=>Tb,isFunction:()=>_b,isInt:()=>lb,isNumber:()=>Eb,isPromise:()=>Ub,isScalarShape:()=>ob,isString:()=>Cb,isTypedArray:()=>Xk,isValidDtype:()=>wb,locToIndex:()=>zb,makeOnesTypedArray:()=>Pb,makeZerosNestedTypedArray:()=>jb,makeZerosTypedArray:()=>Fb,nearestDivisor:()=>Ob,nearestLargerEven:()=>$y,now:()=>Gk,parseAxisParam:()=>gb,randUniform:()=>eb,repeatedTry:()=>fb,rightPad:()=>hb,shuffle:()=>Xy,shuffleCombo:()=>Yy,sizeFromShape:()=>sb,sizeToSquarishShape:()=>db,squeezeShape:()=>yb,sum:()=>Qy,swap:()=>Jy,tanh:()=>ub,toNestedArray:()=>Db,toTypedArray:()=>Vk});var r={};n.r(r),n.d(r,{assertTypesMatch:()=>CN,getTensorsInContainer:()=>EN,isTensorInList:()=>TN,makeTypesMatch:()=>SN});var a={};n.r(a),n.d(a,{isBrowser:()=>LN,isMobile:()=>jN,mockIsMobile:()=>FN});var s={};n.r(s),n.d(s,{Serializable:()=>WC,SerializationMap:()=>VC,getRegisteredName:()=>HC,registerClass:()=>GC});var o={};n.r(o),n.d(o,{assertAndGetBroadcastShape:()=>nT,getBroadcastDims:()=>eT,getReductionAxes:()=>tT});var i={};n.r(i),n.d(i,{CompositeArrayBuffer:()=>$N,browserFiles:()=>pT,browserHTTPRequest:()=>wT,concatenateArrayBuffers:()=>OS,copyModel:()=>mC,decodeWeights:()=>wS,decodeWeightsStream:()=>TS,encodeWeights:()=>xS,fromMemory:()=>CT,fromMemorySync:()=>TT,getLoadHandlers:()=>US,getModelArtifactsForJSON:()=>MS,getModelArtifactsForJSONSync:()=>DS,getModelArtifactsInfoForJSON:()=>PS,getSaveHandlers:()=>BS,getWeightSpecs:()=>FS,http:()=>xT,isHTTPScheme:()=>bT,listModels:()=>hC,loadWeights:()=>mT,moveModel:()=>gC,registerLoadRouter:()=>zS,registerSaveRouter:()=>LS,removeModel:()=>fC,weightsLoaderFactory:()=>gT,withSaveHandler:()=>ET,withSaveHandlerSync:()=>IT});var c={};n.r(c),n.d(c,{confusionMatrix:()=>PT});var l={};n.r(l),n.d(l,{draw:()=>GT,fromPixels:()=>HT,fromPixelsAsync:()=>UT,toPixels:()=>VT});var u={};n.r(u),n.d(u,{prepareAndValidate:()=>qT});var d={};n.r(d),n.d(d,{calculateShapes:()=>YT,validateInput:()=>XT,validateUpdateShape:()=>KT});var p={};n.r(p),n.d(p,{assertParamsValid:()=>JT,computeFlatOffset:()=>dE,computeOutShape:()=>eE,getNormalizedAxes:()=>aE,isSliceContinous:()=>uE,maskToAxes:()=>QT,parseSliceParams:()=>pE,sliceInfo:()=>hE,startForAxis:()=>cE,startIndicesWithElidedDims:()=>sE,stopForAxis:()=>lE,stopIndicesWithElidedDims:()=>oE,stridesForAxis:()=>iE,stridesWithElidedDims:()=>tE});var h={};n.r(h),n.d(h,{TEST_EPSILON_FLOAT16:()=>gE,createVideoElement:()=>EE,encodeStrings:()=>TE,expectArrayBuffersEqual:()=>CE,expectArraysClose:()=>yE,expectArraysEqual:()=>wE,expectNumbersClose:()=>kE,expectPromiseToFail:()=>xE,expectValuesInRange:()=>SE,play:()=>IE,testEpsilon:()=>bE});var f={};n.r(f),n.d(f,{conv2d:()=>DA,depthwiseConv2d:()=>FA,matMul:()=>jA});var m={};n.r(m),n.d(m,{collectGatherOpShapeInfo:()=>KD,computeOutShape:()=>qD,segOpComputeOptimalWindowSize:()=>HD});var g={};n.r(g),n.d(g,{ERF_A1:()=>lD,ERF_A2:()=>uD,ERF_A3:()=>dD,ERF_A4:()=>pD,ERF_A5:()=>hD,ERF_P:()=>cD,PARALLELIZE_THRESHOLD:()=>JR,RowPartitionType:()=>KR,SELU_SCALE:()=>iD,SELU_SCALEALPHA:()=>oD,applyActivation:()=>AA,assertAndGetBroadcastShape:()=>nT,assertAxesAreInnerMostDims:()=>t_,assertParamsConsistent:()=>HR,assignToTypedArray:()=>vD,axesAreInnerMostDims:()=>$I,calculateShapes:()=>YT,checkEinsumDimSizes:()=>ID,checkPadOnDimRoundingMode:()=>rI,combineLocations:()=>JI,combineRaggedTensorToTensorShapes:()=>XR,complexWithEvenIndex:()=>gD,complexWithOddIndex:()=>yD,computeConv2DInfo:()=>qE,computeConv3DInfo:()=>KE,computeDefaultPad:()=>XE,computeDilation2DInfo:()=>VE,computeOptimalWindowSize:()=>QR,computeOutAndReduceShapes:()=>QI,computeOutShape:()=>qR,computePool2DInfo:()=>GE,computePool3DInfo:()=>HE,convertConv2DDataFormat:()=>nI,decodeEinsumEquation:()=>TD,eitherStridesOrDilationsAreOne:()=>eI,expandShapeToKeepDim:()=>e_,exponent:()=>wD,exponents:()=>xD,fromStringArrayToUint8:()=>YD,fromUint8ToStringArray:()=>XD,getAxesPermutation:()=>n_,getBroadcastDims:()=>eT,getComplexWithIndex:()=>bD,getEinsumComputePath:()=>_D,getEinsumPermutation:()=>ED,getFusedBiasGradient:()=>OA,getFusedDyActivation:()=>_A,getImageCenter:()=>eD,getInnerMostAxes:()=>a_,getPermuted:()=>nD,getRaggedRank:()=>ZR,getReductionAxes:()=>tT,getReshaped:()=>tD,getReshapedPermuted:()=>rD,getRowPartitionTypesHelper:()=>YR,getSliceBeginCoords:()=>aD,getSliceSize:()=>sD,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>DD,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>MD,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>PD,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>LD,getSparseReshapeInputOutputMismatchErrorMessage:()=>BD,getSparseReshapeInputOutputMultipleErrorMessage:()=>zD,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>FD,getSparseReshapeNegativeOutputDimErrorMessage:()=>jD,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>GD,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>UD,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>WD,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>VD,getUndoAxesPermutation:()=>r_,isIdentityPermutation:()=>OD,log:()=>mk,mergeRealAndImagArrays:()=>fD,prepareAndValidate:()=>qT,prepareSplitSize:()=>RD,segment_util:()=>m,shouldFuse:()=>RA,slice_util:()=>p,splitRealAndImagArrays:()=>mD,stridesOrDilationsArePositive:()=>tI,tupleValuesAreOne:()=>QE,upcastType:()=>xN,validateDefaultValueShape:()=>$R,validateInput:()=>XT,validateUpdateShape:()=>KT,warn:()=>fk});var y={};n.r(y),n.d(y,{nonMaxSuppressionV3Impl:()=>$A,nonMaxSuppressionV4Impl:()=>JA,nonMaxSuppressionV5Impl:()=>QA,whereImpl:()=>yA});var b={};n.r(b),n.d(b,{Abs:()=>Zb,Acos:()=>$b,Acosh:()=>Jb,AdadeltaOptimizer:()=>KC,AdagradOptimizer:()=>YC,AdamOptimizer:()=>JC,AdamaxOptimizer:()=>aT,Add:()=>Qb,AddN:()=>ev,All:()=>tv,Any:()=>nv,ArgMax:()=>rv,ArgMin:()=>av,Asin:()=>sv,Asinh:()=>ov,Atan:()=>iv,Atan2:()=>lv,Atanh:()=>cv,AvgPool:()=>uv,AvgPool3D:()=>pv,AvgPool3DGrad:()=>hv,AvgPoolGrad:()=>dv,BatchMatMul:()=>fv,BatchToSpaceND:()=>mv,Bincount:()=>gv,BitwiseAnd:()=>yv,BroadcastArgs:()=>vv,BroadcastTo:()=>bv,Cast:()=>xv,Ceil:()=>wv,ClipByValue:()=>kv,Complex:()=>Nv,ComplexAbs:()=>Sv,Concat:()=>Cv,Conv2D:()=>Tv,Conv2DBackpropFilter:()=>Ev,Conv2DBackpropInput:()=>Iv,Conv3D:()=>_v,Conv3DBackpropFilterV2:()=>Ov,Conv3DBackpropInputV2:()=>Av,Cos:()=>Rv,Cosh:()=>Dv,CropAndResize:()=>Fv,Cumprod:()=>Mv,Cumsum:()=>Pv,DataStorage:()=>Hy,DenseBincount:()=>jv,DepthToSpace:()=>Lv,DepthwiseConv2dNative:()=>zv,DepthwiseConv2dNativeBackpropFilter:()=>Bv,DepthwiseConv2dNativeBackpropInput:()=>Uv,Diag:()=>Wv,Dilation2D:()=>Vv,Dilation2DBackpropFilter:()=>Hv,Dilation2DBackpropInput:()=>Gv,Draw:()=>qv,ENV:()=>Kb,Einsum:()=>Xv,Elu:()=>Yv,EluGrad:()=>Zv,Environment:()=>Vb,Equal:()=>Jv,Erf:()=>$v,Exp:()=>Qv,ExpandDims:()=>ex,Expm1:()=>tx,FFT:()=>nx,Fill:()=>rx,FlipLeftRight:()=>ax,Floor:()=>sx,FloorDiv:()=>ox,FromPixels:()=>lk,FusedBatchNorm:()=>ix,FusedConv2D:()=>pk,FusedDepthwiseConv2D:()=>hk,GatherNd:()=>lx,GatherV2:()=>cx,Greater:()=>ux,GreaterEqual:()=>dx,IFFT:()=>hx,Identity:()=>px,Imag:()=>fx,IsFinite:()=>mx,IsInf:()=>gx,IsNan:()=>yx,KernelBackend:()=>qy,LRN:()=>Ox,LRNGrad:()=>Ax,LeakyRelu:()=>bx,Less:()=>vx,LessEqual:()=>xx,LinSpace:()=>wx,Log:()=>kx,Log1p:()=>Nx,LogSoftmax:()=>Ix,LogicalAnd:()=>Sx,LogicalNot:()=>Cx,LogicalOr:()=>Tx,LogicalXor:()=>Ex,LowerBound:()=>_x,MatrixBandPart:()=>Rx,Max:()=>Dx,MaxPool:()=>Px,MaxPool3D:()=>jx,MaxPool3DGrad:()=>Lx,MaxPoolGrad:()=>Fx,MaxPoolWithArgmax:()=>zx,Maximum:()=>Mx,Mean:()=>Bx,Min:()=>Ux,Minimum:()=>Wx,MirrorPad:()=>Vx,Mod:()=>Gx,MomentumOptimizer:()=>oT,Multinomial:()=>Hx,Multiply:()=>qx,Neg:()=>Kx,NonMaxSuppressionV3:()=>Yx,NonMaxSuppressionV4:()=>Zx,NonMaxSuppressionV5:()=>$x,NotEqual:()=>Xx,OP_SCOPE_SUFFIX:()=>HN,OneHot:()=>Qx,OnesLike:()=>Jx,Optimizer:()=>qC,OptimizerConstructors:()=>OE,Pack:()=>ew,PadV2:()=>tw,Pool:()=>nw,Pow:()=>rw,Prelu:()=>aw,Prod:()=>sw,RMSPropOptimizer:()=>iT,RaggedGather:()=>ow,RaggedRange:()=>iw,RaggedTensorToTensor:()=>cw,Range:()=>lw,Rank:()=>fN,Real:()=>uw,RealDiv:()=>Kv,Reciprocal:()=>dw,Reduction:()=>yR,Relu:()=>pw,Relu6:()=>bw,Reshape:()=>hw,ResizeBilinear:()=>gw,ResizeBilinearGrad:()=>yw,ResizeNearestNeighbor:()=>fw,ResizeNearestNeighborGrad:()=>mw,Reverse:()=>vw,RotateWithOffset:()=>uk,Round:()=>xw,Rsqrt:()=>ww,SGDOptimizer:()=>sT,ScatterNd:()=>kw,SearchSorted:()=>Sw,Select:()=>Cw,Selu:()=>Tw,Sigmoid:()=>Aw,Sign:()=>Ow,Sin:()=>Iw,Sinh:()=>_w,Slice:()=>Ew,Softmax:()=>jw,Softplus:()=>Rw,SpaceToBatchND:()=>Pw,SparseFillEmptyRows:()=>Lw,SparseReshape:()=>zw,SparseSegmentMean:()=>Bw,SparseSegmentSum:()=>Uw,SparseToDense:()=>Ww,SplitV:()=>Fw,Sqrt:()=>Dw,Square:()=>Gw,SquaredDifference:()=>Vw,StaticRegexReplace:()=>Hw,Step:()=>ck,StridedSlice:()=>qw,StringNGrams:()=>Kw,StringSplit:()=>Xw,StringToHashBucketFast:()=>Yw,Sub:()=>Zw,Sum:()=>Mw,Tan:()=>$w,Tanh:()=>Jw,Tensor:()=>dN,TensorBuffer:()=>iN,TensorScatterUpdate:()=>Nw,Tile:()=>Qw,TopK:()=>ek,Transform:()=>tk,Transpose:()=>nk,Unique:()=>rk,Unpack:()=>ak,UnsortedSegmentSum:()=>sk,UpperBound:()=>ok,Variable:()=>hN,ZerosLike:()=>ik,_FusedMatMul:()=>dk,abs:()=>QC,acos:()=>AE,acosh:()=>RE,add:()=>CC,addN:()=>DE,all:()=>ME,any:()=>PE,argMax:()=>FE,argMin:()=>jE,asin:()=>LE,asinh:()=>zE,atan:()=>BE,atan2:()=>UE,atanh:()=>WE,avgPool:()=>sI,avgPool3d:()=>oI,backend:()=>yS,backend_util:()=>g,basicLSTMCell:()=>dI,batchNorm:()=>hI,batchNorm2d:()=>fI,batchNorm3d:()=>mI,batchNorm4d:()=>gI,batchToSpaceND:()=>pI,bincount:()=>yI,bitwiseAnd:()=>bI,booleanMaskAsync:()=>vA,broadcastArgs:()=>vI,broadcastTo:()=>xI,broadcast_util:()=>o,browser:()=>l,buffer:()=>wC,cast:()=>kC,ceil:()=>wI,clipByValue:()=>kI,clone:()=>NC,complex:()=>KN,concat:()=>iI,concat1d:()=>NI,concat2d:()=>SI,concat3d:()=>CI,concat4d:()=>TI,conv1d:()=>II,conv2d:()=>EI,conv2dTranspose:()=>OI,conv3d:()=>AI,conv3dTranspose:()=>DI,copyRegisteredKernels:()=>Ck,cos:()=>MI,cosh:()=>PI,cosineWindow:()=>TA,cumprod:()=>FI,cumsum:()=>jI,customGrad:()=>jC,denseBincount:()=>LI,deprecationWarn:()=>tS,depthToSpace:()=>zI,depthwiseConv2d:()=>BI,device_util:()=>a,diag:()=>UI,dilation2d:()=>WI,disableDeprecationWarnings:()=>eS,dispose:()=>iS,disposeVariables:()=>nS,div:()=>EC,divNoNan:()=>HI,dot:()=>qI,dropout:()=>SA,einsum:()=>KI,elu:()=>XI,enableDebugMode:()=>QN,enableProdMode:()=>JN,enclosingPowerOfTwo:()=>CA,engine:()=>rS,ensureShape:()=>YI,env:()=>Hb,equal:()=>VI,erf:()=>ZI,euclideanNorm:()=>u_,exp:()=>d_,expandDims:()=>p_,expm1:()=>h_,eye:()=>m_,fft:()=>KO,fill:()=>XC,findBackend:()=>fS,findBackendFactory:()=>mS,floor:()=>g_,floorDiv:()=>TC,fused:()=>f,gather:()=>y_,gatherND:()=>NA,gather_util:()=>u,getBackend:()=>pS,getGradient:()=>vk,getKernel:()=>bk,getKernelsForBackend:()=>xk,grad:()=>RC,grads:()=>DC,greater:()=>b_,greaterEqual:()=>v_,ifft:()=>XO,imag:()=>AT,image:()=>jR,inTopKAsync:()=>EA,io:()=>i,irfft:()=>YO,isFinite:()=>x_,isInf:()=>w_,isNaN:()=>k_,keep:()=>cS,kernel_impls:()=>y,leakyRelu:()=>N_,less:()=>S_,lessEqual:()=>C_,linalg:()=>LR,linspace:()=>T_,localResponseNormalization:()=>E_,log:()=>I_,log1p:()=>__,logSigmoid:()=>A_,logSoftmax:()=>R_,logSumExp:()=>D_,logicalAnd:()=>M_,logicalNot:()=>P_,logicalOr:()=>F_,logicalXor:()=>j_,losses:()=>zR,lowerBound:()=>B_,matMul:()=>_T,math:()=>c,max:()=>s_,maxPool:()=>U_,maxPool3d:()=>W_,maxPoolWithArgmax:()=>V_,maximum:()=>rT,mean:()=>G_,memory:()=>aS,meshgrid:()=>K_,min:()=>o_,minimum:()=>X_,mirrorPad:()=>Y_,mod:()=>Z_,moments:()=>$_,movingAverage:()=>xA,mul:()=>IC,multiRNNCell:()=>J_,multinomial:()=>Q_,neg:()=>RT,nextFrame:()=>GR,norm:()=>l_,notEqual:()=>eO,oneHot:()=>OT,ones:()=>q_,onesLike:()=>tO,op:()=>qN,outerProduct:()=>nO,pad:()=>rO,pad1d:()=>aO,pad2d:()=>sO,pad3d:()=>oO,pad4d:()=>iO,pool:()=>lO,pow:()=>ZC,prelu:()=>uO,print:()=>SC,prod:()=>dO,profile:()=>sS,raggedGather:()=>pO,raggedRange:()=>hO,raggedTensorToTensor:()=>fO,rand:()=>mO,randomGamma:()=>xO,randomNormal:()=>wO,randomStandardNormal:()=>kO,randomUniform:()=>NO,randomUniformInt:()=>SO,range:()=>CO,ready:()=>dS,real:()=>DT,reciprocal:()=>TO,registerBackend:()=>gS,registerGradient:()=>kk,registerKernel:()=>wk,relu:()=>EO,relu6:()=>IO,removeBackend:()=>hS,reshape:()=>aI,reverse:()=>_O,reverse1d:()=>OO,reverse2d:()=>AO,reverse3d:()=>RO,reverse4d:()=>DO,rfft:()=>$O,round:()=>MO,rsqrt:()=>PO,scalar:()=>zC,scatterND:()=>wA,scatter_util:()=>d,searchSorted:()=>z_,selu:()=>FO,separableConv2d:()=>jO,serialization:()=>s,setBackend:()=>uS,setPlatform:()=>bS,setdiff1dAsync:()=>LO,sigmoid:()=>cI,sign:()=>zO,signal:()=>FR,sin:()=>BO,sinh:()=>UO,slice:()=>lI,slice1d:()=>WO,slice2d:()=>VO,slice3d:()=>GO,slice4d:()=>HO,slice_util:()=>p,softmax:()=>qO,softplus:()=>O_,spaceToBatchND:()=>cO,sparse:()=>BR,sparseToDense:()=>kA,spectral:()=>PR,split:()=>ZO,sqrt:()=>_C,square:()=>OC,squaredDifference:()=>JO,squeeze:()=>QO,stack:()=>eA,step:()=>tA,stridedSlice:()=>nA,string:()=>UR,sub:()=>$C,sum:()=>i_,sumOutType:()=>wN,tan:()=>rA,tanh:()=>uI,tensor:()=>YN,tensor1d:()=>aA,tensor2d:()=>sA,tensor3d:()=>FT,tensor4d:()=>oA,tensor5d:()=>iA,tensor6d:()=>cA,tensorScatterUpdate:()=>lA,tensor_util:()=>r,test_util:()=>h,tidy:()=>oS,tile:()=>f_,time:()=>lS,topk:()=>uA,train:()=>WR,transpose:()=>MT,truncatedNormal:()=>dA,unique:()=>pA,unregisterGradient:()=>Sk,unregisterKernel:()=>Nk,unsortedSegmentSum:()=>hA,unstack:()=>fA,upcastType:()=>xN,upperBound:()=>mA,util:()=>t,valueAndGrad:()=>MC,valueAndGrads:()=>PC,variable:()=>gA,variableGrads:()=>FC,version_core:()=>_E,where:()=>GI,whereAsync:()=>bA,zeros:()=>H_,zerosLike:()=>AC});var v={};n.r(v),n.d(v,{json:()=>cM});var x={};n.r(x),n.d(x,{json:()=>lM});var w={};n.r(w),n.d(w,{json:()=>uM});var k={};n.r(k),n.d(k,{json:()=>dM});var N={};n.r(N),n.d(N,{json:()=>pM});var S={};n.r(S),n.d(S,{json:()=>hM});var C={};n.r(C),n.d(C,{json:()=>fM});var T={};n.r(T),n.d(T,{json:()=>mM});var E={};n.r(E),n.d(E,{json:()=>gM});var I={};n.r(I),n.d(I,{json:()=>yM});var _={};n.r(_),n.d(_,{json:()=>bM});var O={};n.r(O),n.d(O,{json:()=>vM});var A={};n.r(A),n.d(A,{json:()=>xM});var R={};n.r(R),n.d(R,{json:()=>wM});var D={};n.r(D),n.d(D,{json:()=>kM});var M={};n.r(M),n.d(M,{json:()=>NM});var P={};n.r(P),n.d(P,{json:()=>SM});var F={};n.r(F),n.d(F,{json:()=>CM});var j={};n.r(j),n.d(j,{json:()=>TM});var L={};n.r(L),n.d(L,{OP_SCOPE_SUFFIX:()=>HN,abs:()=>QC,acos:()=>AE,acosh:()=>RE,add:()=>CC,addN:()=>DE,all:()=>ME,any:()=>PE,argMax:()=>FE,argMin:()=>jE,asin:()=>LE,asinh:()=>zE,atan:()=>BE,atan2:()=>UE,atanh:()=>WE,avgPool:()=>sI,avgPool3d:()=>oI,basicLSTMCell:()=>dI,batchNorm:()=>hI,batchNorm2d:()=>fI,batchNorm3d:()=>mI,batchNorm4d:()=>gI,batchToSpaceND:()=>pI,bincount:()=>yI,bitwiseAnd:()=>bI,booleanMaskAsync:()=>vA,broadcastArgs:()=>vI,broadcastTo:()=>xI,buffer:()=>wC,cast:()=>kC,ceil:()=>wI,clipByValue:()=>kI,clone:()=>NC,complex:()=>KN,concat:()=>iI,concat1d:()=>NI,concat2d:()=>SI,concat3d:()=>CI,concat4d:()=>TI,conv1d:()=>II,conv2d:()=>EI,conv2dTranspose:()=>OI,conv3d:()=>AI,conv3dTranspose:()=>DI,cos:()=>MI,cosh:()=>PI,cosineWindow:()=>TA,cumprod:()=>FI,cumsum:()=>jI,denseBincount:()=>LI,depthToSpace:()=>zI,depthwiseConv2d:()=>BI,diag:()=>UI,dilation2d:()=>WI,div:()=>EC,divNoNan:()=>HI,dot:()=>qI,dropout:()=>SA,einsum:()=>KI,elu:()=>XI,enclosingPowerOfTwo:()=>CA,ensureShape:()=>YI,equal:()=>VI,erf:()=>ZI,euclideanNorm:()=>u_,exp:()=>d_,expandDims:()=>p_,expm1:()=>h_,eye:()=>m_,fft:()=>KO,fill:()=>XC,floor:()=>g_,floorDiv:()=>TC,fused:()=>f,gather:()=>y_,gatherND:()=>NA,greater:()=>b_,greaterEqual:()=>v_,ifft:()=>XO,imag:()=>AT,image:()=>jR,inTopKAsync:()=>EA,irfft:()=>YO,isFinite:()=>x_,isInf:()=>w_,isNaN:()=>k_,leakyRelu:()=>N_,less:()=>S_,lessEqual:()=>C_,linalg:()=>LR,linspace:()=>T_,localResponseNormalization:()=>E_,log:()=>I_,log1p:()=>__,logSigmoid:()=>A_,logSoftmax:()=>R_,logSumExp:()=>D_,logicalAnd:()=>M_,logicalNot:()=>P_,logicalOr:()=>F_,logicalXor:()=>j_,losses:()=>zR,lowerBound:()=>B_,matMul:()=>_T,max:()=>s_,maxPool:()=>U_,maxPool3d:()=>W_,maxPoolWithArgmax:()=>V_,maximum:()=>rT,mean:()=>G_,meshgrid:()=>K_,min:()=>o_,minimum:()=>X_,mirrorPad:()=>Y_,mod:()=>Z_,moments:()=>$_,movingAverage:()=>xA,mul:()=>IC,multiRNNCell:()=>J_,multinomial:()=>Q_,neg:()=>RT,norm:()=>l_,notEqual:()=>eO,oneHot:()=>OT,ones:()=>q_,onesLike:()=>tO,op:()=>qN,outerProduct:()=>nO,pad:()=>rO,pad1d:()=>aO,pad2d:()=>sO,pad3d:()=>oO,pad4d:()=>iO,pool:()=>lO,pow:()=>ZC,prelu:()=>uO,print:()=>SC,prod:()=>dO,raggedGather:()=>pO,raggedRange:()=>hO,raggedTensorToTensor:()=>fO,rand:()=>mO,randomGamma:()=>xO,randomNormal:()=>wO,randomStandardNormal:()=>kO,randomUniform:()=>NO,randomUniformInt:()=>SO,range:()=>CO,real:()=>DT,reciprocal:()=>TO,relu:()=>EO,relu6:()=>IO,reshape:()=>aI,reverse:()=>_O,reverse1d:()=>OO,reverse2d:()=>AO,reverse3d:()=>RO,reverse4d:()=>DO,rfft:()=>$O,round:()=>MO,rsqrt:()=>PO,scalar:()=>zC,scatterND:()=>wA,searchSorted:()=>z_,selu:()=>FO,separableConv2d:()=>jO,setdiff1dAsync:()=>LO,sigmoid:()=>cI,sign:()=>zO,signal:()=>FR,sin:()=>BO,sinh:()=>UO,slice:()=>lI,slice1d:()=>WO,slice2d:()=>VO,slice3d:()=>GO,slice4d:()=>HO,softmax:()=>qO,softplus:()=>O_,spaceToBatchND:()=>cO,sparse:()=>BR,sparseToDense:()=>kA,spectral:()=>PR,split:()=>ZO,sqrt:()=>_C,square:()=>OC,squaredDifference:()=>JO,squeeze:()=>QO,stack:()=>eA,step:()=>tA,stridedSlice:()=>nA,string:()=>UR,sub:()=>$C,sum:()=>i_,tan:()=>rA,tanh:()=>uI,tensor:()=>YN,tensor1d:()=>aA,tensor2d:()=>sA,tensor3d:()=>FT,tensor4d:()=>oA,tensor5d:()=>iA,tensor6d:()=>cA,tensorScatterUpdate:()=>lA,tile:()=>f_,topk:()=>uA,transpose:()=>MT,truncatedNormal:()=>dA,unique:()=>pA,unsortedSegmentSum:()=>hA,unstack:()=>fA,upperBound:()=>mA,variable:()=>gA,where:()=>GI,whereAsync:()=>bA,zeros:()=>H_,zerosLike:()=>AC});var z={};n.r(z),n.d(z,{addImpl:()=>YV,bincountImpl:()=>UG,bincountReduceImpl:()=>WG,bitwiseAndImpl:()=>GG,castImpl:()=>GV,ceilImpl:()=>XG,concatImpl:()=>eH,equalImpl:()=>LH,expImpl:()=>YH,expm1Impl:()=>eq,floorImpl:()=>yq,gatherNdImpl:()=>Cq,gatherV2Impl:()=>Eq,greaterEqualImpl:()=>Rq,greaterImpl:()=>_q,lessEqualImpl:()=>Hq,lessImpl:()=>Wq,linSpaceImpl:()=>Xq,logImpl:()=>Zq,maxImpl:()=>dK,maximumImpl:()=>fK,minimumImpl:()=>SK,multiplyImpl:()=>OH,negImpl:()=>MK,notEqualImpl:()=>WK,prodImpl:()=>tX,raggedGatherImpl:()=>oX,raggedRangeImpl:()=>lX,raggedTensorToTensorImpl:()=>mX,rangeImpl:()=>yX,rsqrtImpl:()=>_X,scatterImpl:()=>RX,sigmoidImpl:()=>PV,simpleAbsImpl:()=>aG,sliceImpl:()=>jG,sparseFillEmptyRowsImpl:()=>JX,sparseReshapeImpl:()=>eY,sparseSegmentReductionImpl:()=>nY,sqrtImpl:()=>iY,staticRegexReplaceImpl:()=>fY,stridedSliceImpl:()=>vY,stringNGramsImpl:()=>kY,stringSplitImpl:()=>CY,stringToHashBucketFastImpl:()=>EY,subImpl:()=>oq,tileImpl:()=>DY,topKImpl:()=>jY,transposeImpl:()=>dG,uniqueImpl:()=>GY});var B=n(5043),U=n(7950),W=n(3447),V=n(5540),G=n(7321),H=n(8168),q=n(8587),K=n(3404),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,G.createBrowserHistory)(t.props),t}return(0,V.A)(t,e),t.prototype.render=function(){return B.createElement(W.Router,{history:this.history,children:this.props.children})},t}(B.Component);B.Component;var Y=function(e,t){return"function"===typeof e?e(t):e},Z=function(e,t){return"string"===typeof e?(0,G.createLocation)(e,null,null,t):e},$=function(e){return e},J=B.forwardRef;"undefined"===typeof J&&(J=$);var Q=J((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=(0,q.A)(e,["innerRef","navigate","onClick"]),o=s.target,i=(0,H.A)({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return i.ref=$!==J&&t||n,B.createElement("a",i)}));var ee=J((function(e,t){var n=e.component,r=void 0===n?Q:n,a=e.replace,s=e.to,o=e.innerRef,i=(0,q.A)(e,["component","replace","to","innerRef"]);return B.createElement(W.__RouterContext.Consumer,null,(function(e){e||(0,K.A)(!1);var n=e.history,c=Z(Y(s,e.location),e.location),l=c?n.createHref(c):"",u=(0,H.A)({},i,{href:l,navigate:function(){var t=Y(s,e.location),r=(0,G.createPath)(e.location)===(0,G.createPath)(Z(t));(a||r?n.replace:n.push)(t)}});return $!==J?u.ref=t||o:u.innerRef=o,B.createElement(r,u)}))})),te=function(e){return e},ne=B.forwardRef;"undefined"===typeof ne&&(ne=te);var re=ne((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,o=e.activeStyle,i=e.className,c=e.exact,l=e.isActive,u=e.location,d=e.sensitive,p=e.strict,h=e.style,f=e.to,m=e.innerRef,g=(0,q.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return B.createElement(W.__RouterContext.Consumer,null,(function(e){e||(0,K.A)(!1);var n=u||e.location,a=Z(Y(f,n),n),y=a.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),v=b?(0,W.matchPath)(n.pathname,{path:b,exact:c,sensitive:d,strict:p}):null,x=!!(l?l(v,n):v),w="function"===typeof i?i(x):i,k="function"===typeof h?h(x):h;x&&(w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(w,s),k=(0,H.A)({},k,o));var N=(0,H.A)({"aria-current":x&&r||null,className:w,style:k,to:a},g);return te!==ne?N.ref=t||m:N.innerRef=m,B.createElement(ee,N)}))})),ae=n(579);class se extends B.Component{constructor(e){super(e),this.state={open:!!this.props.open&&this.props.open,color:this.props.color?this.props.color:"black"}}componentDidUpdate(e){this.props.open!==this.state.open&&this.setState({open:e.open})}render(){const e={container:{height:"32px",width:"32px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px",marginTop:"9px"},line:{height:"10px",width:"40px",background:this.state.color,transition:"all 0.2s ease"},lineTop:{transform:this.state.open?"rotate(45deg)":"none",transformOrigin:"-20% 100%",marginBottom:"5px"},lineMiddle:{opacity:this.state.open?0:1,transform:this.state.open?"translateX(-16px)":"none"},lineBottom:{transform:this.state.open?"translateX(-6px) rotate(-45deg)":"none",transformOrigin:"50% 80%",marginTop:"5px"}};return(0,ae.jsxs)("div",{style:e.container,onClick:this.props.onClick?this.props.onClick:()=>{this.handleClick()},children:[(0,ae.jsx)("div",{style:{...e.line,...e.lineTop}}),(0,ae.jsx)("div",{style:{...e.line,...e.lineMiddle}}),(0,ae.jsx)("div",{style:{...e.line,...e.lineBottom}})]})}}const oe=se;function ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:ce}=Object.prototype,{getPrototypeOf:le}=Object,ue=(de=Object.create(null),e=>{const t=ce.call(e);return de[t]||(de[t]=t.slice(8,-1).toLowerCase())});var de;const pe=e=>(e=e.toLowerCase(),t=>ue(t)===e),he=e=>t=>typeof t===e,{isArray:fe}=Array,me=he("undefined");const ge=pe("ArrayBuffer");const ye=he("string"),be=he("function"),ve=he("number"),xe=e=>null!==e&&"object"===typeof e,we=e=>{if("object"!==ue(e))return!1;const t=le(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ke=pe("Date"),Ne=pe("File"),Se=pe("Blob"),Ce=pe("FileList"),Te=pe("URLSearchParams"),[Ee,Ie,_e,Oe]=["ReadableStream","Request","Response","Headers"].map(pe);function Ae(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),fe(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Re(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const De="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Me=e=>!me(e)&&e!==De;const Pe=(Fe="undefined"!==typeof Uint8Array&&le(Uint8Array),e=>Fe&&e instanceof Fe);var Fe;const je=pe("HTMLFormElement"),Le=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ze=pe("RegExp"),Be=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ae(n,((n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)})),Object.defineProperties(e,r)},Ue="abcdefghijklmnopqrstuvwxyz",We="0123456789",Ve={DIGIT:We,ALPHA:Ue,ALPHA_DIGIT:Ue+Ue.toUpperCase()+We};const Ge=pe("AsyncFunction"),He={isArray:fe,isArrayBuffer:ge,isBuffer:function(e){return null!==e&&!me(e)&&null!==e.constructor&&!me(e.constructor)&&be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||be(e.append)&&("formdata"===(t=ue(e))||"object"===t&&be(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ge(e.buffer),t},isString:ye,isNumber:ve,isBoolean:e=>!0===e||!1===e,isObject:xe,isPlainObject:we,isReadableStream:Ee,isRequest:Ie,isResponse:_e,isHeaders:Oe,isUndefined:me,isDate:ke,isFile:Ne,isBlob:Se,isRegExp:ze,isFunction:be,isStream:e=>xe(e)&&be(e.pipe),isURLSearchParams:Te,isTypedArray:Pe,isFileList:Ce,forEach:Ae,merge:function e(){const{caseless:t}=Me(this)&&this||{},n={},r=(r,a)=>{const s=t&&Re(n,a)||a;we(n[s])&&we(r)?n[s]=e(n[s],r):we(r)?n[s]=e({},r):fe(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ae(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ae(t,((t,r)=>{n&&be(t)?e[r]=ie(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&le(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ue,kindOfTest:pe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(fe(e))return e;let t=e.length;if(!ve(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:je,hasOwnProperty:Le,hasOwnProp:Le,reduceDescriptors:Be,freezeMethods:e=>{Be(e,((t,n)=>{if(be(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];be(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return fe(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Re,global:De,isContextDefined:Me,ALPHABET:Ve,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&be(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(xe(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=fe(e)?[]:{};return Ae(e,((e,t)=>{const s=n(e,r+1);!me(s)&&(a[t]=s)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Ge,isThenable:e=>e&&(xe(e)||be(e))&&be(e.then)&&be(e.catch)};function qe(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}He.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ke=qe.prototype,Xe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Xe[e]={value:e}})),Object.defineProperties(qe,Xe),Object.defineProperty(Ke,"isAxiosError",{value:!0}),qe.from=(e,t,n,r,a,s)=>{const o=Object.create(Ke);return He.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),qe.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Ye=qe;function Ze(e){return He.isPlainObject(e)||He.isArray(e)}function $e(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function Je(e,t,n){return e?e.concat(t).map((function(e,t){return e=$e(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Qe=He.toFlatObject(He,{},null,(function(e){return/^is[A-Z]/.test(e)}));const et=function(e,t,n){if(!He.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=He.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!He.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,s=n.dots,o=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&He.isSpecCompliantForm(t);if(!He.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(He.isDate(e))return e.toISOString();if(!i&&He.isBlob(e))throw new Ye("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(e)||He.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(He.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(He.isArray(e)&&function(e){return He.isArray(e)&&!e.some(Ze)}(e)||(He.isFileList(e)||He.endsWith(n,"[]"))&&(i=He.toArray(e)))return n=$e(n),i.forEach((function(e,r){!He.isUndefined(e)&&null!==e&&t.append(!0===o?Je([n],r,s):null===o?n:n+"[]",c(e))})),!1;return!!Ze(e)||(t.append(Je(a,n,s),c(e)),!1)}const u=[],d=Object.assign(Qe,{defaultVisitor:l,convertValue:c,isVisitable:Ze});if(!He.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!He.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),He.forEach(n,(function(n,s){!0===(!(He.isUndefined(n)||null===n)&&a.call(t,n,He.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function nt(e,t){this._pairs=[],e&&et(e,this,t)}const rt=nt.prototype;rt.append=function(e,t){this._pairs.push([e,t])},rt.toString=function(e){const t=e?function(t){return e.call(this,t,tt)}:tt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const at=nt;function st(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ot(e,t,n){if(!t)return e;const r=n&&n.encode||st,a=n&&n.serialize;let s;if(s=a?a(t,n):He.isURLSearchParams(t)?t.toString():new at(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const it=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){He.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ct={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:at,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ut="undefined"!==typeof window&&"undefined"!==typeof document,dt=(pt="undefined"!==typeof navigator&&navigator.product,ut&&["ReactNative","NativeScript","NS"].indexOf(pt)<0);var pt;const ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ft=ut&&window.location.href||"http://localhost",mt={...e,...lt};const gt=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&He.isArray(r)?r.length:s,i)return He.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&He.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&He.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(He.isFormData(e)&&He.isFunction(e.entries)){const n={};return He.forEachEntry(e,((e,r)=>{t(function(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const yt={transitional:ct,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=He.isObject(e);a&&He.isHTMLForm(e)&&(e=new FormData(e));if(He.isFormData(e))return r?JSON.stringify(gt(e)):e;if(He.isArrayBuffer(e)||He.isBuffer(e)||He.isStream(e)||He.isFile(e)||He.isBlob(e)||He.isReadableStream(e))return e;if(He.isArrayBufferView(e))return e.buffer;if(He.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return et(e,new mt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return mt.isNode&&He.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=He.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return et(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(He.isString(e))try{return(t||JSON.parse)(e),He.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||yt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(He.isResponse(e)||He.isReadableStream(e))return e;if(e&&He.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],(e=>{yt.headers[e]={}}));const bt=yt,vt=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xt=Symbol("internals");function wt(e){return e&&String(e).trim().toLowerCase()}function kt(e){return!1===e||null==e?e:He.isArray(e)?e.map(kt):String(e)}function Nt(e,t,n,r,a){return He.isFunction(r)?r.call(this,t,n):(a&&(t=n),He.isString(t)?He.isString(r)?-1!==t.indexOf(r):He.isRegExp(r)?r.test(t):void 0:void 0)}class St{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=wt(t);if(!a)throw new Error("header name must be a non-empty string");const s=He.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=kt(e))}const s=(e,t)=>He.forEach(e,((e,n)=>a(e,n,t)));if(He.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(He.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&vt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(He.isHeaders(e))for(const[o,i]of e.entries())a(i,o,n);else null!=e&&a(t,e,n);return this}get(e,t){if(e=wt(e)){const n=He.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(He.isFunction(t))return t.call(this,e,n);if(He.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wt(e)){const n=He.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=wt(e)){const a=He.findKey(n,e);!a||t&&!Nt(0,n[a],a,t)||(delete n[a],r=!0)}}return He.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Nt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return He.forEach(this,((r,a)=>{const s=He.findKey(n,a);if(s)return t[s]=kt(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();o!==a&&delete t[a],t[o]=kt(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return He.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&He.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[xt]=this[xt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wt(e);t[r]||(!function(e,t){const n=He.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return He.isArray(e)?e.forEach(r):r(e),this}}St.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),He.reduceDescriptors(St.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),He.freezeMethods(St);const Ct=St;function Tt(e,t){const n=this||bt,r=t||n,a=Ct.from(r.headers);let s=r.data;return He.forEach(e,(function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Et(e){return!(!e||!e.__CANCEL__)}function It(e,t,n){Ye.call(this,null==e?"canceled":e,Ye.ERR_CANCELED,t,n),this.name="CanceledError"}He.inherits(It,Ye,{__CANCEL__:!0});const _t=It;function Ot(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const At=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const c=Date.now(),l=r[o];a||(a=c),n[s]=i,r[s]=c;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-a<t)return;const p=l&&c-l;return p?Math.round(1e3*d/p):void 0}};const Rt=function(e,t){let n=0;const r=1e3/t;let a=null;return function(){const t=!0===this,s=Date.now();if(t||s-n>r)return a&&(clearTimeout(a),a=null),n=s,e.apply(null,arguments);a||(a=setTimeout((()=>(a=null,n=Date.now(),e.apply(null,arguments))),r-(s-n)))}},Dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=At(50,250);return Rt((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,i=s-r,c=a(i);r=s;const l={loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:n,lengthComputable:null!=o};l[t?"download":"upload"]=!0,e(l)}),n)},Mt=mt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=He.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},Pt=mt.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const o=[e+"="+encodeURIComponent(t)];He.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),He.isString(r)&&o.push("path="+r),He.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ft(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jt=e=>e instanceof Ct?{...e}:e;function Lt(e,t){t=t||{};const n={};function r(e,t,n){return He.isPlainObject(e)&&He.isPlainObject(t)?He.merge.call({caseless:n},e,t):He.isPlainObject(t)?He.merge({},t):He.isArray(t)?t.slice():t}function a(e,t,n){return He.isUndefined(t)?He.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!He.isUndefined(t))return r(void 0,t)}function o(e,t){return He.isUndefined(t)?He.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t)=>a(jt(e),jt(t),!0)};return He.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=c[r]||a,o=s(e[r],t[r],r);He.isUndefined(o)&&s!==i||(n[r]=o)})),n}const zt=e=>{const t=Lt({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=t;if(t.headers=i=Ct.from(i),t.url=ot(Ft(t.baseURL,t.url),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),He.isFormData(r))if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(mt.hasStandardBrowserEnv&&(a&&He.isFunction(a)&&(a=a(t)),a||!1!==a&&Mt(t.url))){const e=s&&o&&Pt.read(o);e&&i.set(s,e)}return t},Bt="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=zt(e);let a=r.data;const s=Ct.from(r.headers).normalize();let o,{responseType:i}=r;function c(){r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let l=new XMLHttpRequest;function u(){if(!l)return;const r=Ct.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());Ot((function(e){t(e),c()}),(function(e){n(e),c()}),{data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}l.open(r.method.toUpperCase(),r.url,!0),l.timeout=r.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Ye("Request aborted",Ye.ECONNABORTED,r,l)),l=null)},l.onerror=function(){n(new Ye("Network Error",Ye.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||ct;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new Ye(e,t.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,r,l)),l=null},void 0===a&&s.setContentType(null),"setRequestHeader"in l&&He.forEach(s.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),He.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),i&&"json"!==i&&(l.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&l.addEventListener("progress",Dt(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Dt(r.onUploadProgress)),(r.cancelToken||r.signal)&&(o=t=>{l&&(n(!t||t.type?new _t(null,e,l):t),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===mt.protocols.indexOf(d)?n(new Ye("Unsupported protocol "+d+":",Ye.ERR_BAD_REQUEST,e)):l.send(a||null)}))},Ut=(e,t)=>{let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ye?t:new _t(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{a(new Ye("timeout ".concat(t," of ms exceeded"),Ye.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",a):e.unsubscribe(a))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",a)));const{signal:i}=r;return i.unsubscribe=o,[i,()=>{s&&clearTimeout(s),s=null}]},Wt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Vt=(e,t,n,r,a)=>{const s=async function*(e,t,n){for await(const r of e)yield*Wt(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,a);let o=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:a}=await s.next();if(t)return e.close(),void r();let i=a.byteLength;n&&n(o+=i),e.enqueue(new Uint8Array(a))},cancel:e=>(r(e),s.return())},{highWaterMark:2})},Gt=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},Ht="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qt=Ht&&"function"===typeof ReadableStream,Kt=Ht&&("function"===typeof TextEncoder?(Xt=new TextEncoder,e=>Xt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Xt;const Yt=qt&&(()=>{let e=!1;const t=new Request(mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Zt=qt&&!!(()=>{try{return He.isReadableStream(new Response("").body)}catch(e){}})(),$t={stream:Zt&&(e=>e.body)};var Jt;Ht&&(Jt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!$t[e]&&($t[e]=He.isFunction(Jt[e])?t=>t[e]():(t,n)=>{throw new Ye("Response type '".concat(e,"' is not supported"),Ye.ERR_NOT_SUPPORT,n)})})));const Qt=async(e,t)=>{const n=He.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:He.isBlob(e)?e.size:He.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:He.isArrayBufferView(e)?e.byteLength:(He.isURLSearchParams(e)&&(e+=""),He.isString(e)?(await Kt(e)).byteLength:void 0))(t):n},en=Ht&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:o,onDownloadProgress:i,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:p}=zt(e);l=l?(l+"").toLowerCase():"text";let h,f,[m,g]=a||s||o?Ut([a,s],o):[];const y=()=>{!h&&setTimeout((()=>{m&&m.unsubscribe()})),h=!0};let b;try{if(c&&Yt&&"get"!==n&&"head"!==n&&0!==(b=await Qt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});He.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=Vt(n.body,65536,Gt(b,Dt(c)),null,Kt))}He.isString(d)||(d=d?"cors":"omit"),f=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let a=await fetch(f);const s=Zt&&("stream"===l||"response"===l);if(Zt&&(i||s)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=He.toFiniteNumber(a.headers.get("content-length"));a=new Response(Vt(a.body,65536,i&&Gt(t,Dt(i,!0)),s&&y,Kt),e)}l=l||"text";let o=await $t[He.findKey($t,l)||"text"](a,e);return!s&&y(),g&&g(),await new Promise(((t,n)=>{Ot(t,n,{data:o,headers:Ct.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})}))}catch(v){if(y(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,f),{cause:v.cause||v});throw Ye.from(v,v&&v.code,e,f)}}),tn={http:null,xhr:Bt,fetch:en};He.forEach(tn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const nn=e=>"- ".concat(e),rn=e=>He.isFunction(e)||null===e||!1===e,an=e=>{e=He.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!rn(n)&&(r=tn[(t=String(n)).toLowerCase()],void 0===r))throw new Ye("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(nn).join("\n"):" "+nn(e[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function sn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _t(null,e)}function on(e){sn(e),e.headers=Ct.from(e.headers),e.data=Tt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return an(e.adapter||bt.adapter)(e).then((function(t){return sn(e),t.data=Tt.call(e,e.transformResponse,t),t.headers=Ct.from(t.headers),t}),(function(t){return Et(t)||(sn(e),t&&t.response&&(t.response.data=Tt.call(e,e.transformResponse,t.response),t.response.headers=Ct.from(t.response.headers))),Promise.reject(t)}))}const cn="1.7.2",ln={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ln[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const un={};ln.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Ye(r(a," has been removed"+(t?" in "+t:"")),Ye.ERR_DEPRECATED);return t&&!un[a]&&(un[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}};const dn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Ye("option "+s+" must be "+n,Ye.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ye("Unknown option "+s,Ye.ERR_BAD_OPTION)}},validators:ln},pn=dn.validators;class hn{constructor(e){this.defaults=e,this.interceptors={request:new it,response:new it}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Lt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&dn.assertOptions(n,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),null!=r&&(He.isFunction(r)?t.paramsSerializer={serialize:r}:dn.assertOptions(r,{encode:pn.function,serialize:pn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&He.merge(a.common,a[t.method]);a&&He.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Ct.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[on.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=o.length;let p=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{l=on.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return ot(Ft((e=Lt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}He.forEach(["delete","get","head","options"],(function(e){hn.prototype[e]=function(t,n){return this.request(Lt(n||{},{method:e,url:t,data:(n||{}).data}))}})),He.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(Lt(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hn.prototype[e]=t(),hn.prototype[e+"Form"]=t(!0)}));const fn=hn;class mn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new _t(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new mn((function(t){e=t})),cancel:e}}}const gn=mn;const yn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yn).forEach((e=>{let[t,n]=e;yn[n]=t}));const bn=yn;const vn=function e(t){const n=new fn(t),r=ie(fn.prototype.request,n);return He.extend(r,fn.prototype,n,{allOwnKeys:!0}),He.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Lt(t,n))},r}(bt);vn.Axios=fn,vn.CanceledError=_t,vn.CancelToken=gn,vn.isCancel=Et,vn.VERSION=cn,vn.toFormData=et,vn.AxiosError=Ye,vn.Cancel=vn.CanceledError,vn.all=function(e){return Promise.all(e)},vn.spread=function(e){return function(t){return e.apply(null,t)}},vn.isAxiosError=function(e){return He.isObject(e)&&!0===e.isAxiosError},vn.mergeConfig=Lt,vn.AxiosHeaders=Ct,vn.formToJSON=e=>gt(He.isHTMLForm(e)?new FormData(e):e),vn.getAdapter=an,vn.HttpStatusCode=bn,vn.default=vn;const xn=vn;let wn=(0,B.createContext)();const kn=e=>{let{children:t}=e,[n,r]=(0,B.useState)({user:null,success:null});return(0,B.useEffect)((()=>{!async function(){console.log("Context Hook Function RUn!");try{const{data:e}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/getuser"),{withCredentials:!0});e.success?(console.log("user detail is :",e),r((t=>({...t,user:e.user,success:!0})))):console.log(e)}catch(e){r((e=>({...e,user:!1,success:!1})))}}()}),[]),(0,ae.jsx)(wn.Provider,{value:[n,r],children:t})};let Nn=()=>(0,B.useContext)(wn);function Sn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Sn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Cn=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Sn(e))&&(r&&(r+=" "),r+=t);return r};function Tn(){return Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(this,arguments)}function En(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function In(e){return"number"===typeof e&&!isNaN(e)}function _n(e){return"boolean"===typeof e}function On(e){return"string"===typeof e}function An(e){return"function"===typeof e}function Rn(e){return On(e)||An(e)?e:null}function Dn(e){return 0===e||e}var Mn=!("undefined"===typeof window||!window.document||!window.document.createElement);function Pn(e){return(0,B.isValidElement)(e)||On(e)||An(e)||In(e)}var Fn={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},jn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function Ln(e){var t=e.enter,n=e.exit,r=e.appendPosition,a=void 0!==r&&r,s=e.collapse,o=void 0===s||s,i=e.collapseDuration,c=void 0===i?300:i;return function(e){var r=e.children,s=e.position,i=e.preventExitTransition,l=e.done,u=e.nodeRef,d=e.isIn,p=a?t+"--"+s:t,h=a?n+"--"+s:n,f=(0,B.useRef)(),m=(0,B.useRef)(0);function g(e){if(e.target===u.current){var t=u.current;t.removeEventListener("animationend",g),0===m.current&&(t.className=f.current)}}function y(){var e=u.current;e.removeEventListener("animationend",y),o?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,a=e.style;requestAnimationFrame((function(){a.minHeight="initial",a.height=r+"px",a.transition="all "+n+"ms",requestAnimationFrame((function(){a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,B.useLayoutEffect)((function(){!function(){var e=u.current;f.current=e.className,e.className+=" "+p,e.addEventListener("animationend",g)}()}),[]),(0,B.useEffect)((function(){d||(i?y():function(){m.current=1;var e=u.current;e.className+=" "+h,e.addEventListener("animationend",y)}())}),[d]),B.createElement(B.Fragment,null,r)}}var zn={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.list.has(e)&&this.list.get(e).forEach((function(n){var a=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(a)}))}};function Bn(e,t){void 0===t&&(t=!1);var n=(0,B.useRef)(e);return(0,B.useEffect)((function(){t&&(n.current=e)})),n.current}function Un(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter((function(e){return e!==t.staleId}));case 1:return Dn(t.toastId)?e.filter((function(e){return e!==t.toastId})):[]}}var Wn=["delay","staleId"];function Vn(e){var t=(0,B.useReducer)((function(e){return e+1}),0)[1],n=(0,B.useReducer)(Un,[]),r=n[0],a=n[1],s=(0,B.useRef)(null),o=Bn(0),i=Bn([]),c=Bn({}),l=Bn({toastKey:1,displayedToast:0,props:e,containerId:null,isToastActive:u,getToast:function(e){return c[e]||null}});function u(e){return-1!==r.indexOf(e)}function d(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(o-=i.length,i=[])}function p(e){a({type:1,toastId:e})}function h(){var e=i.shift();m(e.toastContent,e.toastProps,e.staleId)}function f(e,n){var r=n.delay,a=n.staleId,u=En(n,Wn);if(Pn(e)&&!function(e){var t=e.containerId,n=e.toastId,r=e.updateId;return!!(!s.current||l.props.enableMultiContainer&&t!==l.props.containerId||c[n]&&null==r)}(u)){var d=u.toastId,f=u.updateId,g=u.data,y=l.props,b=function(){return p(d)},v=null==u.updateId;v&&o++;var x,w,k={toastId:d,updateId:f,isLoading:u.isLoading,theme:u.theme||y.theme,icon:u.icon||y.icon,isIn:!1,key:u.key||l.toastKey++,type:u.type,closeToast:b,closeButton:u.closeButton,rtl:y.rtl,position:u.position||y.position,transition:u.transition||y.transition,className:Rn(u.className||y.toastClassName),bodyClassName:Rn(u.bodyClassName||y.bodyClassName),style:u.style||y.toastStyle,bodyStyle:u.bodyStyle||y.bodyStyle,onClick:u.onClick||y.onClick,pauseOnHover:_n(u.pauseOnHover)?u.pauseOnHover:y.pauseOnHover,pauseOnFocusLoss:_n(u.pauseOnFocusLoss)?u.pauseOnFocusLoss:y.pauseOnFocusLoss,draggable:_n(u.draggable)?u.draggable:y.draggable,draggablePercent:In(u.draggablePercent)?u.draggablePercent:y.draggablePercent,draggableDirection:u.draggableDirection||y.draggableDirection,closeOnClick:_n(u.closeOnClick)?u.closeOnClick:y.closeOnClick,progressClassName:Rn(u.progressClassName||y.progressClassName),progressStyle:u.progressStyle||y.progressStyle,autoClose:!u.isLoading&&(x=u.autoClose,w=y.autoClose,!1===x||In(x)&&x>0?x:w),hideProgressBar:_n(u.hideProgressBar)?u.hideProgressBar:y.hideProgressBar,progress:u.progress,role:On(u.role)?u.role:y.role,deleteToast:function(){!function(e){delete c[e];var n=i.length;o=Dn(e)?o-1:o-l.displayedToast,o<0&&(o=0);if(n>0){var r=Dn(e)?1:l.props.limit;if(1===n||1===r)l.displayedToast++,h();else{var a=r>n?n:r;l.displayedToast=a;for(var s=0;s<a;s++)h()}}else t()}(d)}};An(u.onOpen)&&(k.onOpen=u.onOpen),An(u.onClose)&&(k.onClose=u.onClose),"y"===k.draggableDirection&&80===k.draggablePercent&&(k.draggablePercent*=1.5);var N=y.closeButton;!1===u.closeButton||Pn(u.closeButton)?N=u.closeButton:!0===u.closeButton&&(N=!Pn(y.closeButton)||y.closeButton),k.closeButton=N;var S=e;(0,B.isValidElement)(e)&&!On(e.type)?S=(0,B.cloneElement)(e,{closeToast:b,toastProps:k,data:g}):An(e)&&(S=e({closeToast:b,toastProps:k,data:g})),y.limit&&y.limit>0&&o>y.limit&&v?i.push({toastContent:S,toastProps:k,staleId:a}):In(r)&&r>0?setTimeout((function(){m(S,k,a)}),r):m(S,k,a)}}function m(e,t,n){var r=t.toastId;n&&delete c[n],c[r]={content:e,props:t},a({type:0,toastId:r,staleId:n})}return(0,B.useEffect)((function(){return l.containerId=e.containerId,zn.cancelEmit(3).on(0,f).on(1,(function(e){return s.current&&p(e)})).on(5,d).emit(2,l),function(){return zn.emit(3,l)}}),[]),(0,B.useEffect)((function(){l.isToastActive=u,l.displayedToast=r.length,zn.emit(4,r.length,e.containerId)}),[r]),(0,B.useEffect)((function(){l.props=e})),{getToastToRender:function(t){for(var n={},r=e.newestOnTop?Object.keys(c).reverse():Object.keys(c),a=0;a<r.length;a++){var s=c[r[a]],o=s.props.position;n[o]||(n[o]=[]),n[o].push(s)}return Object.keys(n).map((function(e){return t(e,n[e])}))},collection:c,containerRef:s,isToastActive:u}}function Gn(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Hn(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function qn(e){var t=(0,B.useState)(!0),n=t[0],r=t[1],a=(0,B.useState)(!1),s=a[0],o=a[1],i=(0,B.useRef)(null),c=Bn({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),l=Bn(e,!0),u=e.autoClose,d=e.pauseOnHover,p=e.closeToast,h=e.onClick,f=e.closeOnClick;function m(t){if(e.draggable){var n=i.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=Gn(t.nativeEvent),c.y=Hn(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(e.draggablePercent/100))}}function g(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,a=t.left,s=t.right;e.pauseOnHover&&c.x>=a&&c.x<=s&&c.y>=n&&c.y<=r?b():y()}}function y(){r(!0)}function b(){r(!1)}function v(t){if(c.canDrag){t.preventDefault();var r=i.current;n&&b(),c.x=Gn(t),c.y=Hn(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance))}}function x(){var t=i.current;if(c.canDrag){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,B.useEffect)((function(){return An(e.onOpen)&&e.onOpen((0,B.isValidElement)(e.children)&&e.children.props),function(){An(l.onClose)&&l.onClose((0,B.isValidElement)(l.children)&&l.children.props)}}),[]),(0,B.useEffect)((function(){return e.draggable&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),document.addEventListener("touchmove",v),document.addEventListener("touchend",x)),function(){e.draggable&&(document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",x))}}),[e.draggable]),(0,B.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",y),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var w={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return u&&d&&(w.onMouseEnter=b,w.onMouseLeave=y),f&&(w.onClick=function(e){h&&h(e),c.canCloseOnClick&&p()}),{playToast:y,pauseToast:b,isRunning:n,preventExitTransition:s,toastRef:i,eventHandlers:w}}function Kn(e){var t=e.closeToast,n=e.theme,r=e.ariaLabel,a=void 0===r?"close":r;return(0,B.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},(0,B.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,B.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Xn(e){var t,n,r=e.delay,a=e.isRunning,s=e.closeToast,o=e.type,i=e.hide,c=e.className,l=e.style,u=e.controlledProgress,d=e.progress,p=e.rtl,h=e.isIn,f=e.theme,m=Tn({},l,{animationDuration:r+"ms",animationPlayState:a?"running":"paused",opacity:i?0:1});u&&(m.transform="scaleX("+d+")");var g=Cn("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+f,"Toastify__progress-bar--"+o,((t={})["Toastify__progress-bar--rtl"]=p,t)),y=An(c)?c({rtl:p,type:o,defaultClassName:g}):Cn(g,c),b=((n={})[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]=u&&d<1?null:function(){h&&s()},n);return(0,B.createElement)("div",Object.assign({role:"progressbar","aria-hidden":i?"true":"false","aria-label":"notification timer",className:y,style:m},b))}Xn.defaultProps={type:jn.DEFAULT,hide:!1};var Yn=["theme","type"],Zn=function(e){var t=e.theme,n=e.type,r=En(e,Yn);return B.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},r))};var $n={info:function(e){return B.createElement(Zn,Object.assign({},e),B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return B.createElement(Zn,Object.assign({},e),B.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return B.createElement(Zn,Object.assign({},e),B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return B.createElement(Zn,Object.assign({},e),B.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return B.createElement("div",{className:"Toastify__spinner"})}},Jn=function(e){var t,n,r=qn(e),a=r.isRunning,s=r.preventExitTransition,o=r.toastRef,i=r.eventHandlers,c=e.closeButton,l=e.children,u=e.autoClose,d=e.onClick,p=e.type,h=e.hideProgressBar,f=e.closeToast,m=e.transition,g=e.position,y=e.className,b=e.style,v=e.bodyClassName,x=e.bodyStyle,w=e.progressClassName,k=e.progressStyle,N=e.updateId,S=e.role,C=e.progress,T=e.rtl,E=e.toastId,I=e.deleteToast,_=e.isIn,O=e.isLoading,A=e.icon,R=e.theme,D=Cn("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+p,((t={})["Toastify__toast--rtl"]=T,t)),M=An(y)?y({rtl:T,position:g,type:p,defaultClassName:D}):Cn(D,y),P=!!C,F=$n[p],j={theme:R,type:p},L=F&&F(j);return!1===A?L=void 0:An(A)?L=A(j):(0,B.isValidElement)(A)?L=(0,B.cloneElement)(A,j):On(A)?L=A:O&&(L=$n.spinner()),(0,B.createElement)(m,{isIn:_,done:I,position:g,preventExitTransition:s,nodeRef:o},(0,B.createElement)("div",Object.assign({id:E,onClick:d,className:M},i,{style:b,ref:o}),(0,B.createElement)("div",Object.assign({},_&&{role:S},{className:An(v)?v({type:p}):Cn("Toastify__toast-body",v),style:x}),L&&(0,B.createElement)("div",{className:Cn("Toastify__toast-icon",(n={},n["Toastify--animate-icon Toastify__zoom-enter"]=!O,n))},L),(0,B.createElement)("div",null,l)),function(e){if(e){var t={closeToast:f,type:p,theme:R};return An(e)?e(t):(0,B.isValidElement)(e)?(0,B.cloneElement)(e,t):void 0}}(c),(u||P)&&(0,B.createElement)(Xn,Object.assign({},N&&!P?{key:"pb-"+N}:{},{rtl:T,theme:R,delay:u,isRunning:a,isIn:_,closeToast:f,hide:h,type:p,style:k,className:w,controlledProgress:P,progress:C}))))},Qn=Ln({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),er=function(e){var t=Vn(e),n=t.getToastToRender,r=t.containerRef,a=t.isToastActive,s=e.className,o=e.style,i=e.rtl,c=e.containerId;function l(e){var t,n=Cn("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=i,t));return An(s)?s({position:e,rtl:i,defaultClassName:n}):Cn(n,Rn(s))}return(0,B.createElement)("div",{ref:r,className:"Toastify",id:c},n((function(e,t){var n=0===t.length?Tn({},o,{pointerEvents:"none"}):Tn({},o);return(0,B.createElement)("div",{className:l(e),style:n,key:"container-"+e},t.map((function(e){var t=e.content,n=e.props;return(0,B.createElement)(Jn,Object.assign({},n,{isIn:a(n.toastId),key:"toast-"+n.key,closeButton:!0===n.closeButton?Kn:n.closeButton}),t)})))})))};er.defaultProps={position:Fn.TOP_RIGHT,transition:Qn,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:Kn,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var tr,nr,rr,ar=new Map,sr=[],or=!1;function ir(){return Math.random().toString(36).substr(2,9)}function cr(e){return e&&(On(e.toastId)||In(e.toastId))?e.toastId:ir()}function lr(e,t){return ar.size>0?zn.emit(0,e,t):(sr.push({content:e,options:t}),or&&Mn&&(or=!1,nr=document.createElement("div"),document.body.appendChild(nr),(0,U.render)((0,B.createElement)(er,Object.assign({},rr)),nr))),t.toastId}function ur(e,t){return Tn({},t,{type:t&&t.type||e,toastId:cr(t)})}var dr=function(e){return function(t,n){return lr(t,ur(e,n))}},pr=function(e,t){return lr(e,ur(jn.DEFAULT,t))};function hr(){var e;const[t,n]=(0,B.useState)(!1);let[r,a]=Nn();function s(){n(!1)}return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("nav",{className:"navbar1",children:(0,ae.jsxs)("div",{className:"navbar-container",children:[(0,ae.jsxs)(ee,{to:"/",className:"navbar--logo",onClick:s,children:[(0,ae.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ae.jsx)("g",{clipPath:"url(#clip0)",children:(0,ae.jsx)("path",{d:"M44.412 17.9484L47.7148 14.7109C47.882 14.5436 47.9901 14.2878 47.9901 14.0319C47.9901 13.7663 47.8918 13.5203 47.705 13.3333L44.3628 9.98764L47.705 6.71085C47.8918 6.52387 47.9999 6.27787 47.9999 6.0122C47.9999 5.74652 47.9016 5.50052 47.7148 5.31354L42.6918 0.285344C42.505 0.0983607 42.2593 0 41.9939 0C41.7285 0 41.4827 0.108197 41.2959 0.29518L38.0225 3.64082L34.6803 0.29518C34.4936 0.108197 34.238 0.00983607 33.9824 0.00983607C33.717 0.00983607 33.4712 0.118033 33.2845 0.305016L30.0504 3.61131L26.7475 0.305016C26.3641 -0.0787869 25.7448 -0.0787869 25.3615 0.305016L20.3383 5.33331C20.1515 5.5203 20.0533 5.7663 20.0533 6.03197C20.0533 6.29764 20.1614 6.54364 20.3383 6.73062L27.6617 14.0615L14.0668 27.6703L6.74341 20.3394C6.55662 20.1524 6.31092 20.0541 6.04544 20.0541C5.78006 20.0541 5.53426 20.1623 5.34747 20.3394L0.304721 25.3284C-0.0786885 25.7122 -0.0786885 26.332 0.304721 26.7158L3.60757 30.0221L0.294885 33.2496C0.108098 33.4366 0 33.6826 0 33.9483C0 34.214 0.0982623 34.46 0.285049 34.6469L3.64692 38.0123L0.304721 41.2891C0.117934 41.476 0.00983606 41.722 0.00983606 41.9877C0.00983606 42.2534 0.108098 42.4994 0.294885 42.6864L5.31806 47.7147C5.50485 47.9016 5.75056 48 6.01603 48C6.28141 48 6.52721 47.8918 6.714 47.7048L9.98744 44.3592L13.3198 47.695C13.5066 47.882 13.7523 47.9803 14.0178 47.9803C14.2832 47.9803 14.5289 47.8721 14.7157 47.6852L17.9695 44.3887L21.2822 47.7048C21.4788 47.9016 21.7245 47.9902 21.9802 47.9902C22.2357 47.9902 22.4815 47.8918 22.6781 47.7048L27.7013 42.6765C28.0847 42.2927 28.0847 41.6729 27.7013 41.2891L20.378 33.9581L33.9729 20.3492L41.2962 27.6802C41.4928 27.877 41.7385 27.9655 41.9942 27.9655C42.2498 27.9655 42.4955 27.8671 42.6922 27.6802L47.7153 22.6519C47.9021 22.4649 48.0004 22.2189 48.0004 21.9532C48.0004 21.6875 47.8923 21.4415 47.7153 21.2546L44.412 17.9484ZM41.9939 2.37148L45.6113 5.99262L42.9671 8.59043L41.1878 6.80941L39.4086 5.02839L41.9939 2.37148ZM33.9726 2.37148L45.6113 14.0124L43.0063 16.5807L31.4168 4.97911L33.9726 2.37148ZM6.01603 45.6285L2.39862 42.0074L5.04285 39.4096L8.61118 42.9815L6.01603 45.6285ZM14.0176 45.6187L10.6852 42.2829L5.74072 37.3333L2.38869 33.9778L5.00351 31.4292L10.7934 37.225L16.5931 43.0306L14.0176 45.6187ZM25.6072 42.0074L21.98 45.6384L18.6673 42.3222L5.70138 29.3431L2.38869 26.027L6.01593 22.396L25.6072 42.0074ZM18.9817 32.5806L15.4232 29.0185L29.0182 15.4096L32.5766 18.9717L18.9817 32.5806ZM41.9841 25.604L33.835 17.4465L29.7162 13.3235L22.3928 5.99262L26.02 2.36164L29.3327 5.67777L42.2985 18.6569L45.6112 21.973L41.9841 25.604Z",fill:"white"})}),(0,ae.jsx)("defs",{children:(0,ae.jsx)("clipPath",{id:"clip0",children:(0,ae.jsx)("rect",{width:"48",height:"48",fill:"white"})})})]}),(0,ae.jsx)("h2",{className:" mt-3 mb-0 ",children:"Fitnation"})]}),(0,ae.jsx)("div",{className:"menu-icon",children:(0,ae.jsx)(oe,{open:t,onClick:function(){n(!t)},color:"white"})}),(0,ae.jsxs)("ul",{className:t?"nav-menu active":"nav-menu",children:[(0,ae.jsxs)("li",{className:"nav-item ",children:[" ",(0,ae.jsxs)(ee,{to:"/",className:"nav-links ",onClick:s,children:[" ","Home"," "]})]}),(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/Features",className:"nav-links",onClick:s,children:[" ","Features"," "]})]}),(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/Plans",className:"nav-links",onClick:s,children:[" ","Plans"," "]})]}),(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/Trainers",className:"nav-links",onClick:s,children:[" ","Trainers"," "]})]}),(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/userregistration",className:"nav-links",onClick:s,children:[" ","Registration"," "]})]}),null!==r&&void 0!==r&&r.user?"":(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/login",className:"nav-links",onClick:s,children:[" ","Login"," "]})]}),null!==r&&void 0!==r&&r.user?(0,ae.jsxs)("li",{className:"nav-item",children:[" ",(0,ae.jsxs)(ee,{to:"/user/dashboard",className:"nav-links",onClick:s,children:[" ","User Dashboard"," "]})]}):"","admin"==(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.role)?(0,ae.jsx)("li",{className:"nav-item",children:(0,ae.jsxs)(ee,{to:"/admindashboard",className:"nav-links",onClick:s,children:[" ","Admin Dashboard"," "]})}):"",null!==r&&void 0!==r&&r.user?(0,ae.jsx)("li",{className:"nav-item",children:(0,ae.jsxs)("button",{style:{position:"relative",top:"30%"},className:"btn btn-danger",onClick:()=>async function(){try{const{data:e}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/user/logout"),{withCredentials:!0});e.success&&(pr.success("Logout Successfully"),a({success:null,user:null}),setTimeout((()=>{window.location.reload("/")}),1e3))}catch(e){pr.error("NetWork Problem")}}(),children:[" ","Logout"," "]})}):""]})]})})})}pr.loading=function(e,t){return lr(e,ur(jn.DEFAULT,Tn({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},pr.promise=function(e,t,n){var r=t.pending,a=t.error,s=t.success,o=On(r)?pr.loading(r,n):pr.loading(r.render,Tn({},n,r)),i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,r){var a=On(t)?{render:t}:t;return pr.update(o,Tn({type:e},i,n,a,{data:r})),r};return e.then((function(e){return c("success",s,e)})).catch((function(e){return c("error",a,e)})),e},pr.success=dr(jn.SUCCESS),pr.info=dr(jn.INFO),pr.error=dr(jn.ERROR),pr.warning=dr(jn.WARNING),pr.warn=pr.warning,pr.dark=function(e,t){return lr(e,ur(jn.DEFAULT,Tn({theme:"dark"},t)))},pr.dismiss=function(e){return zn.emit(1,e)},pr.clearWaitingQueue=function(e){return void 0===e&&(e={}),zn.emit(5,e)},pr.isActive=function(e){var t=!1;return ar.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},pr.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=ar.get(n||tr);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,a=n.content,s=Tn({},r,t,{toastId:t.toastId||e,updateId:ir()});s.toastId!==e&&(s.staleId=e);var o=s.render||a;delete s.render,lr(o,s)}}),0)},pr.done=function(e){pr.update(e,{progress:1})},pr.onChange=function(e){return An(e)&&zn.on(4,e),function(){An(e)&&zn.off(4,e)}},pr.configure=function(e){void 0===e&&(e={}),or=!0,rr=e},pr.POSITION=Fn,pr.TYPE=jn,zn.on(2,(function(e){tr=e.containerId||e,ar.set(tr,e),sr.forEach((function(e){zn.emit(0,e.content,e.options)})),sr=[]})).on(3,(function(e){ar.delete(e.containerId||e),0===ar.size&&zn.off(0).off(1).off(5),Mn&&nr&&document.body.removeChild(nr)}));class fr extends B.Component{componentDidUpdate(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}render(){return null}}const mr=(0,W.withRouter)(fr);function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var br,vr,xr,wr,kr,Nr,Sr,Cr,Tr,Er,Ir,_r={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Or={duration:.5,overwrite:!1,delay:0},Ar=1e8,Rr=1e-8,Dr=2*Math.PI,Mr=Dr/4,Pr=0,Fr=Math.sqrt,jr=Math.cos,Lr=Math.sin,zr=function(e){return"string"===typeof e},Br=function(e){return"function"===typeof e},Ur=function(e){return"number"===typeof e},Wr=function(e){return"undefined"===typeof e},Vr=function(e){return"object"===typeof e},Gr=function(e){return!1!==e},Hr=function(){return"undefined"!==typeof window},qr=function(e){return Br(e)||zr(e)},Kr="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Xr=Array.isArray,Yr=/(?:-?\.?\d|\.)+/gi,Zr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$r=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Jr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Qr=/[+-]=-?[.\d]+/,ea=/[^,'"\[\]\s]+/gi,ta=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,na={},ra={},aa=function(e){return(ra=Da(e,na))&&Mo},sa=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},oa=function(e,t){return!t&&console.warn(e)},ia=function(e,t){return e&&(na[e]=t)&&ra&&(ra[e]=t)||na},ca=function(){return 0},la={suppressEvents:!0,isStart:!0,kill:!1},ua={suppressEvents:!0,kill:!1},da={suppressEvents:!0},pa={},ha=[],fa={},ma={},ga={},ya=30,ba=[],va="",xa=function(e){var t,n,r=e[0];if(Vr(r)||Br(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ba.length;n--&&!ba[n].targetTest(r););t=ba[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ks(e[n],t)))||e.splice(n,1);return e},wa=function(e){return e._gsap||xa(us(e))[0]._gsap},ka=function(e,t,n){return(n=e[t])&&Br(n)?e[t]():Wr(n)&&e.getAttribute&&e.getAttribute(t)||n},Na=function(e,t){return(e=e.split(",")).forEach(t)||e},Sa=function(e){return Math.round(1e5*e)/1e5||0},Ca=function(e){return Math.round(1e7*e)/1e7||0},Ta=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Ea=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Ia=function(){var e,t,n=ha.length,r=ha.slice(0);for(fa={},ha.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_a=function(e,t,n,r){ha.length&&!vr&&Ia(),e.render(t,n,r||vr&&t<0&&(e._initted||e._startAt)),ha.length&&!vr&&Ia()},Oa=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ea).length<2?t:zr(e)?e.trim():e},Aa=function(e){return e},Ra=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Da=function(e,t){for(var n in t)e[n]=t[n];return e},Ma=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Vr(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Pa=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Fa=function(e){var t,n=e.parent||wr,r=e.keyframes?(t=Xr(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Ra;if(Gr(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ja=function(e,t,n,r,a){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(a)for(s=t[a];o&&o[a]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},La=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a=t._prev,s=t._next;a?a._next=s:e[n]===t&&(e[n]=s),s?s._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},za=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ba=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Ua=function(e,t,n,r){return e._startAt&&(vr?e._startAt.revert(ua):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Wa=function e(t){return!t||t._ts&&e(t.parent)},Va=function(e){return e._repeat?Ga(e._tTime,e=e.duration()+e._rDelay)*e:0},Ga=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Ha=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},qa=function(e){return e._end=Ca(e._start+(e._tDur/Math.abs(e._ts||e._rts||Rr)||0))},Ka=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ca(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),qa(e),n._dirty||Ba(n,e)),e},Xa=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Ha(e.rawTime(),t),(!t._dur||os(0,t.totalDuration(),n)-t._tTime>Rr)&&t.render(n,!0)),Ba(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Ya=function(e,t,n,r){return t.parent&&za(t),t._start=Ca((Ur(n)?n:n||e!==wr?rs(e,n,t):e._time)+t._delay),t._end=Ca(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ja(e,t,"_first","_last",e._sort?"_start":0),Qa(t)||(e._recent=t),r||Xa(e,t),e._ts<0&&Ka(e,e._tTime),e},Za=function(e,t){return(na.ScrollTrigger||sa("scrollTrigger",t))&&na.ScrollTrigger.create(t,e)},$a=function(e,t,n,r,a){return to(e,t,a),e._initted?!n&&e._pt&&!vr&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Tr!==Ms.frame?(ha.push(e),e._lazy=[a,r],1):void 0:1},Ja=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Qa=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},es=function(e,t,n,r){var a=e._repeat,s=Ca(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:Ca(s*(a+1)+e._rDelay*a):s,o>0&&!r&&Ka(e,e._tTime=e._tDur*o),e.parent&&qa(e),n||Ba(e.parent,e),e},ts=function(e){return e instanceof Ys?Ba(e):es(e,e._dur)},ns={_start:0,endTime:ca,totalDuration:ca},rs=function e(t,n,r){var a,s,o,i=t.labels,c=t._recent||ns,l=t.duration()>=Ar?c.endTime(!1):t._dur;return zr(n)&&(isNaN(n)||n in i)?(s=n.charAt(0),o="%"===n.substr(-1),a=n.indexOf("="),"<"===s||">"===s?(a>=0&&(n=n.replace(/=/,"")),("<"===s?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(a<0?c:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=l),i[n]):(s=parseFloat(n.charAt(a-1)+n.substr(a+1)),o&&r&&(s=s/100*(Xr(r)?r[0]:r).totalDuration()),a>1?e(t,n.substr(0,a-1),r)+s:l+s)):null==n?l:+n},as=function(e,t,n){var r,a,s=Ur(t[1]),o=(s?2:1)+(e<2?0:1),i=t[o];if(s&&(i.duration=t[1]),i.parent=n,e){for(r=i,a=n;a&&!("immediateRender"in r);)r=a.vars.defaults||{},a=Gr(a.vars.inherit)&&a.parent;i.immediateRender=Gr(r.immediateRender),e<2?i.runBackwards=1:i.startAt=t[o-1]}return new oo(t[0],i,t[o+1])},ss=function(e,t){return e||0===e?t(e):t},os=function(e,t,n){return n<e?e:n>t?t:n},is=function(e,t){return zr(e)&&(t=ta.exec(e))?t[1]:""},cs=[].slice,ls=function(e,t){return e&&Vr(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Vr(e[0]))&&!e.nodeType&&e!==kr},us=function(e,t,n){return xr&&!t&&xr.selector?xr.selector(e):!zr(e)||n||!Nr&&Ps()?Xr(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return zr(e)&&!t||ls(e,1)?(r=n).push.apply(r,us(e)):n.push(e)}))||n}(e,n):ls(e)?cs.call(e,0):e?[e]:[]:cs.call((t||Sr).querySelectorAll(e),0)},ds=function(e){return e=us(e)[0]||oa("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return us(t,n.querySelectorAll?n:n===e?oa("Invalid scope")||Sr.createElement("div"):e)}},ps=function(e){return e.sort((function(){return.5-Math.random()}))},hs=function(e){if(Br(e))return e;var t=Vr(e)?e:{each:e},n=Ws(t.ease),r=t.from||0,a=parseFloat(t.base)||0,s={},o=r>0&&r<1,i=isNaN(r)||o,c=t.axis,l=r,u=r;return zr(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!o&&i&&(l=r[0],u=r[1]),function(e,o,d){var p,h,f,m,g,y,b,v,x,w=(d||t).length,k=s[w];if(!k){if(!(x="auto"===t.grid?0:(t.grid||[1,Ar])[1])){for(b=-Ar;b<(b=d[x++].getBoundingClientRect().left)&&x<w;);x<w&&x--}for(k=s[w]=[],p=i?Math.min(x,w)*l-.5:r%x,h=x===Ar?0:i?w*u/x-.5:r/x|0,b=0,v=Ar,y=0;y<w;y++)f=y%x-p,m=h-(y/x|0),k[y]=g=c?Math.abs("y"===c?m:f):Fr(f*f+m*m),g>b&&(b=g),g<v&&(v=g);"random"===r&&ps(k),k.max=b-v,k.min=v,k.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(x>w?w-1:c?"y"===c?w/x:x:Math.max(x,w/x))||0)*("edges"===r?-1:1),k.b=w<0?a-w:a,k.u=is(t.amount||t.each)||0,n=n&&w<0?Bs(n):n}return w=(k[e]-k.min)/k.max||0,Ca(k.b+(n?n(w):w)*k.v)+k.u}},fs=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Ca(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Ur(n)?0:is(n))}},ms=function(e,t){var n,r,a=Xr(e);return!a&&Vr(e)&&(n=a=e.radius||Ar,e.values?(e=us(e.values),(r=!Ur(e[0]))&&(n*=n)):e=fs(e.increment)),ss(t,a?Br(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var a,s,o=parseFloat(r?t.x:t),i=parseFloat(r?t.y:0),c=Ar,l=0,u=e.length;u--;)(a=r?(a=e[u].x-o)*a+(s=e[u].y-i)*s:Math.abs(e[u]-o))<c&&(c=a,l=u);return l=!n||c<=n?e[l]:t,r||l===t||Ur(t)?l:l+is(t)}:fs(e))},gs=function(e,t,n,r){return ss(Xr(e)?!t:!0===n?!!(n=0):!r,(function(){return Xr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},ys=function(e,t,n){return ss(n,(function(n){return e[~~t(n)]}))},bs=function(e){for(var t,n,r,a,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),a="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(a?ea:Yr),o+=e.substr(s,t-s)+gs(a?n:+n[0],a?0:+n[1],+n[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},vs=function(e,t,n,r,a){var s=t-e,o=r-n;return ss(a,(function(t){return n+((t-e)/s*o||0)}))},xs=function(e,t,n){var r,a,s,o=e.labels,i=Ar;for(r in o)(a=o[r]-t)<0===!!n&&a&&i>(a=Math.abs(a))&&(s=r,i=a);return s},ws=function(e,t,n){var r,a,s,o=e.vars,i=o[t],c=xr,l=e._ctx;if(i)return r=o[t+"Params"],a=o.callbackScope||e,n&&ha.length&&Ia(),l&&(xr=l),s=r?i.apply(a,r):i.call(a),xr=c,s},ks=function(e){return za(e),e.scrollTrigger&&e.scrollTrigger.kill(!!vr),e.progress()<1&&ws(e,"onInterrupt"),e},Ns=[],Ss=function(e){if(e)if(e=!e.name&&e.default||e,Hr()||e.headless){var t=e.name,n=Br(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:ca,render:go,add:Qs,kill:bo,modifier:yo,rawVars:0},s={targetTest:0,get:0,getSetter:po,aliases:{},register:0};if(Ps(),e!==r){if(ma[t])return;Ra(r,Ra(Pa(e,a),s)),Da(r.prototype,Da(a,Pa(e,s))),ma[r.prop=t]=r,e.targetTest&&(ba.push(r),pa[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ia(t,r),e.register&&e.register(Mo,r,wo)}else Ns.push(e)},Cs=255,Ts={aqua:[0,Cs,Cs],lime:[0,Cs,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Cs],navy:[0,0,128],white:[Cs,Cs,Cs],olive:[128,128,0],yellow:[Cs,Cs,0],orange:[Cs,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Cs,0,0],pink:[Cs,192,203],cyan:[0,Cs,Cs],transparent:[Cs,Cs,Cs,0]},Es=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*Cs+.5|0},Is=function(e,t,n){var r,a,s,o,i,c,l,u,d,p,h=e?Ur(e)?[e>>16,e>>8&Cs,e&Cs]:0:Ts.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Ts[e])h=Ts[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),a=e.charAt(2),s=e.charAt(3),e="#"+r+r+a+a+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(h=parseInt(e.substr(1,6),16))>>16,h>>8&Cs,h&Cs,parseInt(e.substr(7),16)/255];h=[(e=parseInt(e.substr(1),16))>>16,e>>8&Cs,e&Cs]}else if("hsl"===e.substr(0,3))if(h=p=e.match(Yr),t){if(~e.indexOf("="))return h=e.match(Zr),n&&h.length<4&&(h[3]=1),h}else o=+h[0]%360/360,i=+h[1]/100,r=2*(c=+h[2]/100)-(a=c<=.5?c*(i+1):c+i-c*i),h.length>3&&(h[3]*=1),h[0]=Es(o+1/3,r,a),h[1]=Es(o,r,a),h[2]=Es(o-1/3,r,a);else h=e.match(Yr)||Ts.transparent;h=h.map(Number)}return t&&!p&&(r=h[0]/Cs,a=h[1]/Cs,s=h[2]/Cs,c=((l=Math.max(r,a,s))+(u=Math.min(r,a,s)))/2,l===u?o=i=0:(d=l-u,i=c>.5?d/(2-l-u):d/(l+u),o=l===r?(a-s)/d+(a<s?6:0):l===a?(s-r)/d+2:(r-a)/d+4,o*=60),h[0]=~~(o+.5),h[1]=~~(100*i+.5),h[2]=~~(100*c+.5)),n&&h.length<4&&(h[3]=1),h},_s=function(e){var t=[],n=[],r=-1;return e.split(As).forEach((function(e){var a=e.match($r)||[];t.push.apply(t,a),n.push(r+=a.length+1)})),t.c=n,t},Os=function(e,t,n){var r,a,s,o,i="",c=(e+i).match(As),l=t?"hsla(":"rgba(",u=0;if(!c)return e;if(c=c.map((function(e){return(e=Is(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(s=_s(e),(r=n.c).join(i)!==s.c.join(i)))for(o=(a=e.replace(As,"1").split($r)).length-1;u<o;u++)i+=a[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(s.length?s:c.length?c:n).shift());if(!a)for(o=(a=e.split(As)).length-1;u<o;u++)i+=a[u]+c[u];return i+a[o]},As=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Ts)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Rs=/hsl[a]?\(/,Ds=function(e){var t,n=e.join(" ");if(As.lastIndex=0,As.test(n))return t=Rs.test(n),e[1]=Os(e[1],t),e[0]=Os(e[0],t,_s(e[1])),!0},Ms=function(){var e,t,n,r,a,s,o=Date.now,i=500,c=33,l=o(),u=l,d=1e3/240,p=d,h=[],f=function n(f){var m,g,y,b,v=o()-u,x=!0===f;if((v>i||v<0)&&(l+=v-c),((m=(y=(u+=v)-l)-p)>0||x)&&(b=++r.frame,a=y-1e3*r.time,r.time=y/=1e3,p+=m+(m>=d?4:d-m),g=1),x||(e=t(n)),g)for(s=0;s<h.length;s++)h[s](y,a,b,f)};return r={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(e){return a/(1e3/(e||60))},wake:function(){Cr&&(!Nr&&Hr()&&(kr=Nr=window,Sr=kr.document||{},na.gsap=Mo,(kr.gsapVersions||(kr.gsapVersions=[])).push(Mo.version),aa(ra||kr.GreenSockGlobals||!kr.gsap&&kr||{}),Ns.forEach(Ss)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,p-1e3*r.time+1|0)},Ir=1,f(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),Ir=0,t=ca},lagSmoothing:function(e,t){i=e||1/0,c=Math.min(t||33,i)},fps:function(e){d=1e3/(e||240),p=1e3*r.time+d},add:function(e,t,n){var a=t?function(t,n,s,o){e(t,n,s,o),r.remove(a)}:e;return r.remove(e),h[n?"unshift":"push"](a),Ps(),a},remove:function(e,t){~(t=h.indexOf(e))&&h.splice(t,1)&&s>=t&&s--},_listeners:h},r}(),Ps=function(){return!Ir&&Ms.wake()},Fs={},js=/^[\d.\-M][\d.\-,\s]/,Ls=/["']/g,zs=function(e){for(var t,n,r,a={},s=e.substr(1,e.length-3).split(":"),o=s[0],i=1,c=s.length;i<c;i++)n=s[i],t=i!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),a[o]=isNaN(r)?r.replace(Ls,"").trim():+r,o=n.substr(t+1).trim();return a},Bs=function(e){return function(t){return 1-e(1-t)}},Us=function e(t,n){for(var r,a=t._first;a;)a instanceof Ys?e(a,n):!a.vars.yoyoEase||a._yoyo&&a._repeat||a._yoyo===n||(a.timeline?e(a.timeline,n):(r=a._ease,a._ease=a._yEase,a._yEase=r,a._yoyo=n)),a=a._next},Ws=function(e,t){return e&&(Br(e)?e:Fs[e]||function(e){var t=(e+"").split("("),n=Fs[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[zs(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(Oa)):Fs._CE&&js.test(e)?Fs._CE("",e):n}(e))||t},Vs=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var a,s={easeIn:t,easeOut:n,easeInOut:r};return Na(e,(function(e){for(var t in Fs[e]=na[e]=s,Fs[a=e.toLowerCase()]=n,s)Fs[a+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Fs[e+"."+t]=s[t]})),s},Gs=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Hs=function e(t,n,r){var a=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/Dr*(Math.asin(1/a)||0),i=function(e){return 1===e?1:a*Math.pow(2,-10*e)*Lr((e-o)*s)+1},c="out"===t?i:"in"===t?function(e){return 1-i(1-e)}:Gs(i);return s=Dr/s,c.config=function(n,r){return e(t,n,r)},c},qs=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},a="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Gs(r);return a.config=function(n){return e(t,n)},a};Na("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Vs(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Fs.Linear.easeNone=Fs.none=Fs.Linear.easeIn,Vs("Elastic",Hs("in"),Hs("out"),Hs()),function(e,t){var n=1/t,r=2*n,a=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<a?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};Vs("Bounce",(function(e){return 1-s(1-e)}),s)}(7.5625,2.75),Vs("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Vs("Circ",(function(e){return-(Fr(1-e*e)-1)})),Vs("Sine",(function(e){return 1===e?1:1-jr(e*Mr)})),Vs("Back",qs("in"),qs("out"),qs()),Fs.SteppedEase=Fs.steps=na.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),a=t?1:0;return function(e){return((r*os(0,.99999999,e)|0)+a)*n}}},Or.ease=Fs["quad.out"],Na("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return va+=e+","+e+"Params,"}));var Ks=function(e,t){this.id=Pr++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ka,this.set=t?t.getSetter:po},Xs=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,es(this,+e.duration,1,1),this.data=e.data,xr&&(this._ctx=xr,xr.data.push(this)),Ir||Ms.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,es(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Ps(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Ka(this,e),!n._dp||n.parent||Xa(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Ya(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Rr||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_a(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Va(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Va(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ga(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Ha(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(os(-Math.abs(this._delay),this._tDur,n),!1!==t),qa(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ps(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Rr&&(this._tTime-=Rr)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Ya(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(Gr(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ha(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=da);var t=vr;return vr=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),vr=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,ts(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,ts(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(rs(this,e),Gr(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,Gr(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-Rr))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=Br(e)?e:Aa,a=function(){var e=t.then;t.then=null,Br(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?a():t._prom=a}))},t.kill=function(){ks(this)},e}();Ra(Xs.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ys=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=Gr(t.sortChildren),wr&&Ya(t.parent||wr,gr(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Za(gr(r),t.scrollTrigger),r}yr(t,e);var n=t.prototype;return n.to=function(e,t,n){return as(0,arguments,this),this},n.from=function(e,t,n){return as(1,arguments,this),this},n.fromTo=function(e,t,n,r){return as(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Fa(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new oo(e,t,rs(this,n),1),this},n.call=function(e,t,n){return Ya(this,oo.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,a,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new oo(e,n,rs(this,a)),this},n.staggerFrom=function(e,t,n,r,a,s,o){return n.runBackwards=1,Fa(n).immediateRender=Gr(n.immediateRender),this.staggerTo(e,t,n,r,a,s,o)},n.staggerFromTo=function(e,t,n,r,a,s,o,i){return r.startAt=n,Fa(r).immediateRender=Gr(r.immediateRender),this.staggerTo(e,t,r,a,s,o,i)},n.render=function(e,t,n){var r,a,s,o,i,c,l,u,d,p,h,f,m=this._time,g=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=e<=0?0:Ca(e),v=this._zTime<0!==e<0&&(this._initted||!y);if(this!==wr&&b>g&&e>=0&&(b=g),b!==this._tTime||n||v){if(m!==this._time&&y&&(b+=this._time-m,e+=this._time-m),r=b,d=this._start,c=!(u=this._ts),v&&(y||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(h=this._yoyo,i=y+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*i+e,t,n);if(r=Ca(b%i),b===g?(o=this._repeat,r=y):((o=~~(b/i))&&o===b/i&&(r=y,o--),r>y&&(r=y)),p=Ga(this._tTime,i),!m&&this._tTime&&p!==o&&this._tTime-p*i-this._dur<=0&&(p=o),h&&1&o&&(r=y-r,f=1),o!==p&&!this._lock){var x=h&&1&p,w=x===(h&&1&o);if(o<p&&(x=!x),m=x?0:b%y?y:b,this._lock=1,this.render(m||(f?0:Ca(o*i)),t,!y)._lock=0,this._tTime=b,!t&&this.parent&&ws(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,g=this._tDur,w&&(this._lock=2,m=x?y:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Us(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Ca(m),Ca(r)),l&&(b-=r-(r=l._start))),this._tTime=b,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&!o&&(ws(this,"onStart"),this._tTime!==b))return this;if(r>=m&&e>=0)for(a=this._first;a;){if(s=a._next,(a._act||r>=a._start)&&a._ts&&l!==a){if(a.parent!==this)return this.render(e,t,n);if(a.render(a._ts>0?(r-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(r-a._start)*a._ts,t,n),r!==this._time||!this._ts&&!c){l=0,s&&(b+=this._zTime=-1e-8);break}}a=s}else{a=this._last;for(var k=e<0?e:r;a;){if(s=a._prev,(a._act||k<=a._end)&&a._ts&&l!==a){if(a.parent!==this)return this.render(e,t,n);if(a.render(a._ts>0?(k-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(k-a._start)*a._ts,t,n||vr&&(a._initted||a._startAt)),r!==this._time||!this._ts&&!c){l=0,s&&(b+=this._zTime=k?-1e-8:Rr);break}}a=s}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=d,qa(this),this.render(e,t,n);this._onUpdate&&!t&&ws(this,"onUpdate",!0),(b===g&&this._tTime>=this.totalDuration()||!b&&m)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!y)&&(b===g&&this._ts>0||!b&&this._ts<0)&&za(this,1),t||e<0&&!m||!b&&!m&&g||(ws(this,b===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Ur(t)||(t=rs(this,t,e)),!(e instanceof Xs)){if(Xr(e))return e.forEach((function(e){return n.add(e,t)})),this;if(zr(e))return this.addLabel(e,t);if(!Br(e))return this;e=oo.delayedCall(0,e)}return this!==e?Ya(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-Ar);for(var a=[],s=this._first;s;)s._start>=r&&(s instanceof oo?t&&a.push(s):(n&&a.push(s),e&&a.push.apply(a,s.getChildren(!0,t,n)))),s=s._next;return a},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return zr(e)?this.removeLabel(e):Br(e)?this.killTweensOf(e):(La(this,e),e===this._recent&&(this._recent=this._last),Ba(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ca(Ms.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=rs(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=oo.delayedCall(0,t||ca,n);return r.data="isPause",this._hasPause=1,Ya(this,r,rs(this,e))},n.removePause=function(e){var t=this._first;for(e=rs(this,e);t;)t._start===e&&"isPause"===t.data&&za(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),a=r.length;a--;)Zs!==r[a]&&r[a].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],a=us(e),s=this._first,o=Ur(t);s;)s instanceof oo?Ea(s._targets,a)&&(o?(!Zs||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(a,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,a=rs(r,e),s=t,o=s.startAt,i=s.onStart,c=s.onStartParams,l=s.immediateRender,u=oo.to(r,Ra({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:t.duration||Math.abs((a-(o&&"time"in o?o.time:r._time))/r.timeScale())||Rr,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((a-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&es(u,e,0,1).render(u._time,!0,!0),n=1}i&&i.apply(u,c||[])}},t));return l?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Ra({startAt:{time:rs(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),xs(this,rs(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),xs(this,rs(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Rr)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,a=this._first,s=this.labels;a;)a._start>=n&&(a._start+=e,a._end+=e),a=a._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Ba(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ba(this)},n.totalDuration=function(e){var t,n,r,a=0,s=this,o=s._last,i=Ar;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>i&&s._sort&&o._ts&&!s._lock?(s._lock=1,Ya(s,o,n-o._delay,1)._lock=0):i=n,n<0&&o._ts&&(a-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),i=0),o._end>a&&o._ts&&(a=o._end),o=t;es(s,s===wr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(wr._ts&&(_a(wr,Ha(e,wr)),Tr=Ms.frame),Ms.frame>=ya){ya+=_r.autoSleep||120;var t=wr._first;if((!t||!t._ts)&&_r.autoSleep&&Ms._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Ms.sleep()}}},t}(Xs);Ra(Ys.prototype,{_lock:0,_hasPause:0,_forcing:0});var Zs,$s,Js=function(e,t,n,r,a,s,o){var i,c,l,u,d,p,h,f,m=new wo(this._pt,e,t,0,1,mo,null,a),g=0,y=0;for(m.b=n,m.e=r,n+="",(h=~(r+="").indexOf("random("))&&(r=bs(r)),s&&(s(f=[n,r],e,t),n=f[0],r=f[1]),c=n.match(Jr)||[];i=Jr.exec(r);)u=i[0],d=r.substring(g,i.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),u!==c[y++]&&(p=parseFloat(c[y-1])||0,m._pt={_next:m._pt,p:d||1===y?d:",",s:p,c:"="===u.charAt(1)?Ta(p,u)-p:parseFloat(u)-p,m:l&&l<4?Math.round:0},g=Jr.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(Qr.test(r)||h)&&(m.e=0),this._pt=m,m},Qs=function(e,t,n,r,a,s,o,i,c,l){Br(r)&&(r=r(a||0,e,s));var u,d=e[t],p="get"!==n?n:Br(d)?c?e[t.indexOf("set")||!Br(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,h=Br(d)?c?lo:co:io;if(zr(r)&&(~r.indexOf("random(")&&(r=bs(r)),"="===r.charAt(1)&&((u=Ta(p,r)+(is(p)||0))||0===u)&&(r=u)),!l||p!==r||$s)return isNaN(p*r)||""===r?(!d&&!(t in e)&&sa(t,r),Js.call(this,e,t,p,r,h,i||_r.stringFilter,c)):(u=new wo(this._pt,e,t,+p||0,r-(p||0),"boolean"===typeof d?fo:ho,0,h),c&&(u.fp=c),o&&u.modifier(o,this,e),this._pt=u)},eo=function(e,t,n,r,a,s){var o,i,c,l;if(ma[e]&&!1!==(o=new ma[e]).init(a,o.rawVars?t[e]:function(e,t,n,r,a){if(Br(e)&&(e=ro(e,a,t,n,r)),!Vr(e)||e.style&&e.nodeType||Xr(e)||Kr(e))return zr(e)?ro(e,a,t,n,r):e;var s,o={};for(s in e)o[s]=ro(e[s],a,t,n,r);return o}(t[e],r,a,s,n),n,r,s)&&(n._pt=i=new wo(n._pt,a,e,0,1,o.render,o,0,o.priority),n!==Er))for(c=n._ptLookup[n._targets.indexOf(a)],l=o._props.length;l--;)c[o._props[l]]=i;return o},to=function e(t,n,r){var a,s,o,i,c,l,u,d,p,h,f,m,g,y=t.vars,b=y.ease,v=y.startAt,x=y.immediateRender,w=y.lazy,k=y.onUpdate,N=y.runBackwards,S=y.yoyoEase,C=y.keyframes,T=y.autoRevert,E=t._dur,I=t._startAt,_=t._targets,O=t.parent,A=O&&"nested"===O.data?O.vars.targets:_,R="auto"===t._overwrite&&!br,D=t.timeline;if(D&&(!C||!b)&&(b="none"),t._ease=Ws(b,Or.ease),t._yEase=S?Bs(Ws(!0===S?b:S,Or.ease)):0,S&&t._yoyo&&!t._repeat&&(S=t._yEase,t._yEase=t._ease,t._ease=S),t._from=!D&&!!y.runBackwards,!D||C&&!y.stagger){if(m=(d=_[0]?wa(_[0]).harness:0)&&y[d.prop],a=Pa(y,pa),I&&(I._zTime<0&&I.progress(1),n<0&&N&&x&&!T?I.render(-1,!0):I.revert(N&&E?ua:la),I._lazy=0),v){if(za(t._startAt=oo.set(_,Ra({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!I&&Gr(w),startAt:null,delay:0,onUpdate:k&&function(){return ws(t,"onUpdate")},stagger:0},v))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(vr||!x&&!T)&&t._startAt.revert(ua),x&&E&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(N&&E&&!I)if(n&&(x=!1),o=Ra({overwrite:!1,data:"isFromStart",lazy:x&&!I&&Gr(w),immediateRender:x,stagger:0,parent:O},a),m&&(o[d.prop]=m),za(t._startAt=oo.set(_,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(vr?t._startAt.revert(ua):t._startAt.render(-1,!0)),t._zTime=n,x){if(!n)return}else e(t._startAt,Rr,Rr);for(t._pt=t._ptCache=0,w=E&&Gr(w)||w&&!E,s=0;s<_.length;s++){if(u=(c=_[s])._gsap||xa(_)[s]._gsap,t._ptLookup[s]=h={},fa[u.id]&&ha.length&&Ia(),f=A===_?s:A.indexOf(c),d&&!1!==(p=new d).init(c,m||a,t,f,A)&&(t._pt=i=new wo(t._pt,c,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(e){h[e]=i})),p.priority&&(l=1)),!d||m)for(o in a)ma[o]&&(p=eo(o,a,t,f,c,A))?p.priority&&(l=1):h[o]=i=Qs.call(t,c,o,"get",a[o],f,A,0,y.stringFilter);t._op&&t._op[s]&&t.kill(c,t._op[s]),R&&t._pt&&(Zs=t,wr.killTweensOf(c,h,t.globalTime(n)),g=!t.parent,Zs=0),t._pt&&w&&(fa[u.id]=1)}l&&xo(t),t._onInit&&t._onInit(t)}t._onUpdate=k,t._initted=(!t._op||t._pt)&&!g,C&&n<=0&&D.render(Ar,!0,!0)},no=function(e,t,n,r){var a,s,o=t.ease||r||"power1.inOut";if(Xr(t))s=n[e]||(n[e]=[]),t.forEach((function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(a in t)s=n[a]||(n[a]=[]),"ease"===a||s.push({t:parseFloat(e),v:t[a],e:o})},ro=function(e,t,n,r,a){return Br(e)?e.call(t,n,r,a):zr(e)&&~e.indexOf("random(")?bs(e):e},ao=va+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",so={};Na(ao+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return so[e]=1}));var oo=function(e){function t(t,n,r,a){var s;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,i,c,l,u,d,p,h,f=(s=e.call(this,a?n:Fa(n))||this).vars,m=f.duration,g=f.delay,y=f.immediateRender,b=f.stagger,v=f.overwrite,x=f.keyframes,w=f.defaults,k=f.scrollTrigger,N=f.yoyoEase,S=n.parent||wr,C=(Xr(t)||Kr(t)?Ur(t[0]):"length"in n)?[t]:us(t);if(s._targets=C.length?xa(C):oa("GSAP target "+t+" not found. https://gsap.com",!_r.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=v,x||b||qr(m)||qr(g)){if(n=s.vars,(o=s.timeline=new Ys({data:"nested",defaults:w||{},targets:S&&"nested"===S.data?S.vars.targets:C})).kill(),o.parent=o._dp=gr(s),o._start=0,b||qr(m)||qr(g)){if(l=C.length,p=b&&hs(b),Vr(b))for(u in b)~ao.indexOf(u)&&(h||(h={}),h[u]=b[u]);for(i=0;i<l;i++)(c=Pa(n,so)).stagger=0,N&&(c.yoyoEase=N),h&&Da(c,h),d=C[i],c.duration=+ro(m,gr(s),i,d,C),c.delay=(+ro(g,gr(s),i,d,C)||0)-s._delay,!b&&1===l&&c.delay&&(s._delay=g=c.delay,s._start+=g,c.delay=0),o.to(d,c,p?p(i,d,C):0),o._ease=Fs.none;o.duration()?m=g=0:s.timeline=0}else if(x){Fa(Ra(o.vars.defaults,{ease:"none"})),o._ease=Ws(x.ease||n.ease||"none");var T,E,I,_=0;if(Xr(x))x.forEach((function(e){return o.to(C,e,">")})),o.duration();else{for(u in c={},x)"ease"===u||"easeEach"===u||no(u,x[u],c,x.easeEach);for(u in c)for(T=c[u].sort((function(e,t){return e.t-t.t})),_=0,i=0;i<T.length;i++)(I={ease:(E=T[i]).e,duration:(E.t-(i?T[i-1].t:0))/100*m})[u]=E.v,o.to(C,I,_),_+=I.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||s.duration(m=o.duration())}else s.timeline=0;return!0!==v||br||(Zs=gr(s),wr.killTweensOf(C),Zs=0),Ya(S,gr(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(y||!m&&!x&&s._start===Ca(S._time)&&Gr(y)&&Wa(gr(s))&&"nested"!==S.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),k&&Za(gr(s),k),s}yr(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,a,s,o,i,c,l,u,d,p=this._time,h=this._tDur,f=this._dur,m=e<0,g=e>h-Rr&&!m?h:e<Rr?0:e;if(f){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=g,u=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=Ca(g%o),g===h?(s=this._repeat,r=f):((s=~~(g/o))&&s===Ca(g/o)&&(r=f,s--),r>f&&(r=f)),(c=this._yoyo&&1&s)&&(d=this._yEase,r=f-r),i=Ga(this._tTime,o),r===p&&!n&&this._initted&&s===i)return this._tTime=g,this;s!==i&&(u&&this._yEase&&Us(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==o&&this._initted&&(this._lock=n=1,this.render(Ca(o*s),!0).invalidate()._lock=0))}if(!this._initted){if($a(this,m?e:r,n,t,g))return this._tTime=0,this;if(p!==this._time&&(!n||!this.vars.repeatRefresh||s===i))return this;if(f!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(r/f),this._from&&(this.ratio=l=1-l),r&&!p&&!t&&!s&&(ws(this,"onStart"),this._tTime!==g))return this;for(a=this._pt;a;)a.r(l,a.d),a=a._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Ua(this,e,0,n),ws(this,"onUpdate")),this._repeat&&s!==i&&this.vars.onRepeat&&!t&&this.parent&&ws(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Ua(this,e,0,!0),(e||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&za(this,1),t||m&&!p||!(g||p||c)||(ws(this,g===h?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var a,s,o,i=e.ratio,c=t<0||!t&&(!e._start&&Ja(e)&&(e._initted||!Qa(e))||(e._ts<0||e._dp._ts<0)&&!Qa(e))?0:1,l=e._rDelay,u=0;if(l&&e._repeat&&(u=os(0,e._tDur,t),s=Ga(u,l),e._yoyo&&1&s&&(c=1-c),s!==Ga(e._tTime,l)&&(i=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==i||vr||r||e._zTime===Rr||!t&&e._zTime){if(!e._initted&&$a(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?Rr:0),n||(n=t&&!o),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=u,a=e._pt;a;)a.r(c,a.d),a=a._next;t<0&&Ua(e,t,0,!0),e._onUpdate&&!n&&ws(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&ws(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&za(e,1),n||vr||(ws(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,a){Ir||Ms.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||to(this,s),function(e,t,n,r,a,s,o,i){var c,l,u,d,p=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!p)for(p=e._ptCache[t]=[],u=e._ptLookup,d=e._targets.length;d--;){if((c=u[d][t])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return $s=1,e.vars[t]="+=0",to(e,o),$s=0,i?oa(t+" not eligible for reset"):1;p.push(c)}for(d=p.length;d--;)(c=(l=p[d])._pt||l).s=!r&&0!==r||a?c.s+(r||0)+s*c.c:r,c.c=n-c.s,l.e&&(l.e=Sa(n)+is(l.e)),l.b&&(l.b=c.s+is(l.b))}(this,e,t,n,r,this._ease(s/this._dur),s,a)?this.resetTo(e,t,n,r,1):(Ka(this,0),this.parent||ja(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ks(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Zs&&!0!==Zs.vars.overwrite)._first||ks(this),this.parent&&n!==this.timeline.totalDuration()&&es(this,this._dur*this.timeline._tDur/n,0,1),this}var r,a,s,o,i,c,l,u=this._targets,d=e?us(e):u,p=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,d))return"all"===t&&(this._pt=0),ks(this);for(r=this._op=this._op||[],"all"!==t&&(zr(t)&&(i={},Na(t,(function(e){return i[e]=1})),t=i),t=function(e,t){var n,r,a,s,o=e[0]?wa(e[0]).harness:0,i=o&&o.aliases;if(!i)return t;for(r in n=Da({},t),i)if(r in n)for(a=(s=i[r].split(",")).length;a--;)n[s[a]]=n[r];return n}(u,t)),l=u.length;l--;)if(~d.indexOf(u[l]))for(i in a=p[l],"all"===t?(r[l]=t,o=a,s={}):(s=r[l]=r[l]||{},o=t),o)(c=a&&a[i])&&("kill"in c.d&&!0!==c.d.kill(i)||La(this,c,"_pt"),delete a[i]),"all"!==s&&(s[i]=1);return this._initted&&!this._pt&&h&&ks(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return as(1,arguments)},t.delayedCall=function(e,n,r,a){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:a})},t.fromTo=function(e,t,n){return as(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return wr.killTweensOf(e,t,n)},t}(Xs);Ra(oo.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Na("staggerTo,staggerFrom,staggerFromTo",(function(e){oo[e]=function(){var t=new Ys,n=cs.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var io=function(e,t,n){return e[t]=n},co=function(e,t,n){return e[t](n)},lo=function(e,t,n,r){return e[t](r.fp,n)},uo=function(e,t,n){return e.setAttribute(t,n)},po=function(e,t){return Br(e[t])?co:Wr(e[t])&&e.setAttribute?uo:io},ho=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},fo=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},mo=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},go=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},yo=function(e,t,n,r){for(var a,s=this._pt;s;)a=s._next,s.p===r&&s.modifier(e,t,n),s=a},bo=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?La(this,r,"_pt"):r.dep||(t=1),r=n;return!t},vo=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},xo=function(e){for(var t,n,r,a,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:a=s,s=t}e._pt=r},wo=function(){function e(e,t,n,r,a,s,o,i,c){this.t=t,this.s=r,this.c=a,this.p=n,this.r=s||ho,this.d=o||this,this.set=i||io,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=vo,this.m=e,this.mt=n,this.tween=t},e}();Na(va+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return pa[e]=1})),na.TweenMax=na.TweenLite=oo,na.TimelineLite=na.TimelineMax=Ys,wr=new Ys({sortChildren:!1,defaults:Or,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_r.stringFilter=Ds;var ko=[],No={},So=[],Co=0,To=0,Eo=function(e){return(No[e]||So).map((function(e){return e()}))},Io=function(){var e=Date.now(),t=[];e-Co>2&&(Eo("matchMediaInit"),ko.forEach((function(e){var n,r,a,s,o=e.queries,i=e.conditions;for(r in o)(n=kr.matchMedia(o[r]).matches)&&(a=1),n!==i[r]&&(i[r]=n,s=1);s&&(e.revert(),a&&t.push(e))})),Eo("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),Co=e,Eo("matchMedia"))},_o=function(){function e(e,t){this.selector=t&&ds(t),this.data=[],this._r=[],this.isReverted=!1,this.id=To++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){Br(e)&&(n=t,t=e,e=Br);var r=this,a=function(){var e,a=xr,s=r.selector;return a&&a!==r&&a.data.push(r),n&&(r.selector=ds(n)),xr=r,e=t.apply(r,arguments),Br(e)&&r._r.push(e),xr=a,r.selector=s,r.isReverted=!1,e};return r.last=a,e===Br?a(r,(function(e){return r.add(null,e)})):e?r[e]=a:a},t.ignore=function(e){var t=xr;xr=null,e(this),xr=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof oo&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),a=n.data.length;a--;)"isFlip"===(t=n.data[a]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),a=n.data.length;a--;)(t=n.data[a])instanceof Ys?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof oo)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=ko.length;r--;)ko[r].id===this.id&&ko.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),Oo=function(){function e(e){this.contexts=[],this.scope=e,xr&&xr.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){Vr(e)||(e={matches:e});var r,a,s,o=new _o(0,n||this.scope),i=o.conditions={};for(a in xr&&!o.selector&&(o.selector=xr.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===a?s=1:(r=kr.matchMedia(e[a]))&&(ko.indexOf(o)<0&&ko.push(o),(i[a]=r.matches)&&(s=1),r.addListener?r.addListener(Io):r.addEventListener("change",Io));return s&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Ao={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Ss(e)}))},timeline:function(e){return new Ys(e)},getTweensOf:function(e,t){return wr.getTweensOf(e,t)},getProperty:function(e,t,n,r){zr(e)&&(e=us(e)[0]);var a=wa(e||{}).get,s=n?Aa:Oa;return"native"===n&&(n=""),e?t?s((ma[t]&&ma[t].get||a)(e,t,n,r)):function(t,n,r){return s((ma[t]&&ma[t].get||a)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=us(e)).length>1){var r=e.map((function(e){return Mo.quickSetter(e,t,n)})),a=r.length;return function(e){for(var t=a;t--;)r[t](e)}}e=e[0]||{};var s=ma[t],o=wa(e),i=o.harness&&(o.harness.aliases||{})[t]||t,c=s?function(t){var r=new s;Er._pt=0,r.init(e,n?t+n:t,Er,0,[e]),r.render(1,r),Er._pt&&go(1,Er)}:o.set(e,i);return s?c:function(t){return c(e,i,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,a=Mo.to(e,Da(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),s=function(e,n,r){return a.resetTo(t,e,n,r)};return s.tween=a,s},isTweening:function(e){return wr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ws(e.ease,Or.ease)),Ma(Or,e||{})},config:function(e){return Ma(_r,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,a=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ma[e]&&!na[e]&&oa(t+" effect requires "+e+" plugin.")})),ga[t]=function(e,t,r){return n(us(e),Ra(t||{},a),r)},s&&(Ys.prototype[t]=function(e,n,r){return this.add(ga[t](e,Vr(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Fs[e]=Ws(t)},parseEase:function(e,t){return arguments.length?Ws(e,t):Fs},getById:function(e){return wr.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,a=new Ys(e);for(a.smoothChildTiming=Gr(e.smoothChildTiming),wr.remove(a),a._dp=0,a._time=a._tTime=wr._time,n=wr._first;n;)r=n._next,!t&&!n._dur&&n instanceof oo&&n.vars.onComplete===n._targets[0]||Ya(a,n,n._start-n._delay),n=r;return Ya(wr,a,0),a},context:function(e,t){return e?new _o(e,t):xr},matchMedia:function(e){return new Oo(e)},matchMediaRefresh:function(){return ko.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||Io()},addEventListener:function(e,t){var n=No[e]||(No[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=No[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var a=n-t;return Xr(t)?ys(t,e(0,t.length),n):ss(r,(function(e){return(a+(e-t)%a)%a+t}))},wrapYoyo:function e(t,n,r){var a=n-t,s=2*a;return Xr(t)?ys(t,e(0,t.length-1),n):ss(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>a?s-e:e)}))},distribute:hs,random:gs,snap:ms,normalize:function(e,t,n){return vs(e,t,0,1,n)},getUnit:is,clamp:function(e,t,n){return ss(n,(function(n){return os(e,t,n)}))},splitColor:Is,toArray:us,selector:ds,mapRange:vs,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||is(n))}},interpolate:function e(t,n,r,a){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,i,c,l,u,d=zr(t),p={};if(!0===r&&(a=1)&&(r=null),d)t={p:t},n={p:n};else if(Xr(t)&&!Xr(n)){for(c=[],l=t.length,u=l-2,i=1;i<l;i++)c.push(e(t[i-1],t[i]));l--,s=function(e){e*=l;var t=Math.min(u,~~e);return c[t](e-t)},r=n}else a||(t=Da(Xr(t)?[]:{},t));if(!c){for(o in n)Qs.call(p,t,o,"get",n[o]);s=function(e){return go(e,p)||(d?t.p:t)}}}return ss(r,s)},shuffle:ps},install:aa,effects:ga,ticker:Ms,updateRoot:Ys.updateRoot,plugins:ma,globalTimeline:wr,core:{PropTween:wo,globals:ia,Tween:oo,Timeline:Ys,Animation:Xs,getCache:wa,_removeLinkedListItem:La,reverting:function(){return vr},context:function(e){return e&&xr&&(xr.data.push(e),e._ctx=xr),xr},suppressOverwrites:function(e){return br=e}}};Na("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Ao[e]=oo[e]})),Ms.add(Ys.updateRoot),Er=Ao.to({},{duration:0});var Ro=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Do=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,a;if(zr(n)&&(r={},Na(n,(function(e){return r[e]=1})),n=r),t){for(a in r={},n)r[a]=t(n[a]);n=r}!function(e,t){var n,r,a,s=e._targets;for(n in t)for(r=s.length;r--;)(a=e._ptLookup[r][n])&&(a=a.d)&&(a._pt&&(a=Ro(a,n)),a&&a.modifier&&a.modifier(t[n],e,s[r],n))}(e,n)}}}},Mo=Ao.registerPlugin({name:"attr",init:function(e,t,n,r,a){var s,o,i;for(s in this.tween=n,t)i=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(i||0)+"",t[s],r,a,0,0,s)).op=s,o.b=i,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)vr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Do("roundProps",fs),Do("modifiers"),Do("snap",ms))||Ao;oo.version=Ys.version=Mo.version="3.12.5",Cr=1,Hr()&&Ps();Fs.Power0,Fs.Power1,Fs.Power2;var Po,Fo,jo,Lo,zo,Bo,Uo,Wo,Vo=Fs.Power3,Go=(Fs.Power4,Fs.Linear,Fs.Quad,Fs.Cubic,Fs.Quart,Fs.Quint,Fs.Strong,Fs.Elastic,Fs.Back,Fs.SteppedEase,Fs.Bounce,Fs.Sine,Fs.Expo,Fs.Circ,{}),Ho=180/Math.PI,qo=Math.PI/180,Ko=Math.atan2,Xo=/([A-Z])/g,Yo=/(left|right|width|margin|padding|x)/i,Zo=/[\s,\(]\S/,$o={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Jo=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Qo=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},ei=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},ti=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},ni=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},ri=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},ai=function(e,t,n){return e.style[t]=n},si=function(e,t,n){return e.style.setProperty(t,n)},oi=function(e,t,n){return e._gsap[t]=n},ii=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},ci=function(e,t,n,r,a){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(a,s)},li=function(e,t,n,r,a){var s=e._gsap;s[t]=n,s.renderTransform(a,s)},ui="transform",di=ui+"Origin",pi=function e(t,n){var r=this,a=this.target,s=a.style,o=a._gsap;if(t in Go&&s){if(this.tfm=this.tfm||{},"transform"===t)return $o.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=$o[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Oi(a,e)})):this.tfm[t]=o.x?o[t]:Oi(a,t),t===di&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(ui)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(di,n,"")),t=ui}(s||n)&&this.props.push(t,n,s[t])},hi=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fi=function(){var e,t,n=this.props,r=this.target,a=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?a[n[e]]=n[e+2]:a.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Xo,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Uo())&&e.isStart||a[ui]||(hi(a),s.zOrigin&&a[di]&&(a[di]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},mi=function(e,t){var n={target:e,props:[],revert:fi,save:pi};return e._gsap||Mo.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},gi=function(e,t){var n=Fo.createElementNS?Fo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Fo.createElement(e);return n&&n.style?n:Fo.createElement(e)},yi=function e(t,n,r){var a=getComputedStyle(t);return a[n]||a.getPropertyValue(n.replace(Xo,"-$1").toLowerCase())||a.getPropertyValue(n)||!r&&e(t,vi(n)||n,1)||""},bi="O,Moz,ms,Ms,Webkit".split(","),vi=function(e,t,n){var r=(t||zo).style,a=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(bi[a]+e in r););return a<0?null:(3===a?"ms":a>=0?bi[a]:"")+e},xi=function(){"undefined"!==typeof window&&window.document&&(Po=window,Fo=Po.document,jo=Fo.documentElement,zo=gi("div")||{style:{}},gi("div"),ui=vi(ui),di=ui+"Origin",zo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wo=!!vi("perspective"),Uo=Mo.core.reverting,Lo=1)},wi=function e(t){var n,r=gi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(jo.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(i){}else this._gsapBBox&&(n=this._gsapBBox());return a&&(s?a.insertBefore(this,s):a.appendChild(this)),jo.removeChild(r),this.style.cssText=o,n},ki=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Ni=function(e){var t;try{t=e.getBBox()}catch(n){t=wi.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===wi||(t=wi.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+ki(e,["x","cx","x1"])||0,y:+ki(e,["y","cy","y1"])||0,width:0,height:0}},Si=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Ni(e))},Ci=function(e,t){if(t){var n,r=e.style;t in Go&&t!==di&&(t=ui),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Xo,"-$1").toLowerCase())):r.removeAttribute(t)}},Ti=function(e,t,n,r,a,s){var o=new wo(e._pt,t,n,0,1,s?ri:ni);return e._pt=o,o.b=r,o.e=a,e._props.push(n),o},Ei={deg:1,rad:1,turn:1},Ii={grid:1,flex:1},_i=function e(t,n,r,a){var s,o,i,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",d=zo.style,p=Yo.test(n),h="svg"===t.tagName.toLowerCase(),f=(h?"client":"offset")+(p?"Width":"Height"),m=100,g="px"===a,y="%"===a;if(a===u||!l||Ei[a]||Ei[u])return l;if("px"!==u&&!g&&(l=e(t,n,r,"px")),c=t.getCTM&&Si(t),(y||"%"===u)&&(Go[n]||~n.indexOf("adius")))return s=c?t.getBBox()[p?"width":"height"]:t[f],Sa(y?l/s*m:l/100*s);if(d[p?"width":"height"]=m+(g?u:a),o=~n.indexOf("adius")||"em"===a&&t.appendChild&&!h?t:t.parentNode,c&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Fo&&o.appendChild||(o=Fo.body),(i=o._gsap)&&y&&i.width&&p&&i.time===Ms.time&&!i.uncache)return Sa(l/i.width*m);if(!y||"height"!==n&&"width"!==n)(y||"%"===u)&&!Ii[yi(o,"display")]&&(d.position=yi(t,"position")),o===t&&(d.position="static"),o.appendChild(zo),s=zo[f],o.removeChild(zo),d.position="absolute";else{var b=t.style[n];t.style[n]=m+a,s=t[f],b?t.style[n]=b:Ci(t,n)}return p&&y&&((i=wa(o)).time=Ms.time,i.width=o[f]),Sa(g?s*l/m:s&&l?m/s*l:0)},Oi=function(e,t,n,r){var a;return Lo||xi(),t in $o&&"transform"!==t&&~(t=$o[t]).indexOf(",")&&(t=t.split(",")[0]),Go[t]&&"transform"!==t?(a=Wi(e,r),a="transformOrigin"!==t?a[t]:a.svg?a.origin:Vi(yi(e,di))+" "+a.zOrigin+"px"):(!(a=e.style[t])||"auto"===a||r||~(a+"").indexOf("calc("))&&(a=Pi[t]&&Pi[t](e,t,n)||yi(e,t)||ka(e,t)||("opacity"===t?1:0)),n&&!~(a+"").trim().indexOf(" ")?_i(e,t,a,n)+n:a},Ai=function(e,t,n,r){if(!n||"none"===n){var a=vi(t,e,1),s=a&&yi(e,a,1);s&&s!==n?(t=a,n=s):"borderColor"===t&&(n=yi(e,"borderTopColor"))}var o,i,c,l,u,d,p,h,f,m,g,y=new wo(this._pt,e.style,t,0,1,mo),b=0,v=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(d=e.style[t],e.style[t]=r,r=yi(e,t)||r,d?e.style[t]=d:Ci(e,t)),Ds(o=[n,r]),r=o[1],c=(n=o[0]).match($r)||[],(r.match($r)||[]).length){for(;i=$r.exec(r);)p=i[0],f=r.substring(b,i.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),p!==(d=c[v++]||"")&&(l=parseFloat(d)||0,g=d.substr((l+"").length),"="===p.charAt(1)&&(p=Ta(l,p)+g),h=parseFloat(p),m=p.substr((h+"").length),b=$r.lastIndex-m.length,m||(m=m||_r.units[t]||g,b===r.length&&(r+=m,y.e+=m)),g!==m&&(l=_i(e,t,d,m)||0),y._pt={_next:y._pt,p:f||1===v?f:",",s:l,c:h-l,m:u&&u<4||"zIndex"===t?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?ri:ni;return Qr.test(r)&&(y.e=0),this._pt=y,y},Ri={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Di=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Ri[n]||n,t[1]=Ri[r]||r,t.join(" ")},Mi=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,a,s=t.t,o=s.style,i=t.u,c=s._gsap;if("all"===i||!0===i)o.cssText="",r=1;else for(a=(i=i.split(",")).length;--a>-1;)n=i[a],Go[n]&&(r=1,n="transformOrigin"===n?di:ui),Ci(s,n);r&&(Ci(s,ui),c&&(c.svg&&s.removeAttribute("transform"),Wi(s,1),c.uncache=1,hi(o)))}},Pi={clearProps:function(e,t,n,r,a){if("isFromStart"!==a.data){var s=e._pt=new wo(e._pt,t,n,0,0,Mi);return s.u=r,s.pr=-10,s.tween=a,e._props.push(n),1}}},Fi=[1,0,0,1,0,0],ji={},Li=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},zi=function(e){var t=yi(e,ui);return Li(t)?Fi:t.substr(7).match(Zr).map(Sa)},Bi=function(e,t){var n,r,a,s,o=e._gsap||wa(e),i=e.style,c=zi(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(a=e.transform.baseVal.consolidate().matrix).a,a.b,a.c,a.d,a.e,a.f]).join(",")?Fi:c:(c!==Fi||e.offsetParent||e===jo||o.svg||(a=i.display,i.display="block",(n=e.parentNode)&&e.offsetParent||(s=1,r=e.nextElementSibling,jo.appendChild(e)),c=zi(e),a?i.display=a:Ci(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):jo.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Ui=function(e,t,n,r,a,s){var o,i,c,l=e._gsap,u=a||Bi(e,!0),d=l.xOrigin||0,p=l.yOrigin||0,h=l.xOffset||0,f=l.yOffset||0,m=u[0],g=u[1],y=u[2],b=u[3],v=u[4],x=u[5],w=t.split(" "),k=parseFloat(w[0])||0,N=parseFloat(w[1])||0;n?u!==Fi&&(i=m*b-g*y)&&(c=k*(-g/i)+N*(m/i)-(m*x-g*v)/i,k=k*(b/i)+N*(-y/i)+(y*x-b*v)/i,N=c):(k=(o=Ni(e)).x+(~w[0].indexOf("%")?k/100*o.width:k),N=o.y+(~(w[1]||w[0]).indexOf("%")?N/100*o.height:N)),r||!1!==r&&l.smooth?(v=k-d,x=N-p,l.xOffset=h+(v*m+x*y)-v,l.yOffset=f+(v*g+x*b)-x):l.xOffset=l.yOffset=0,l.xOrigin=k,l.yOrigin=N,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[di]="0px 0px",s&&(Ti(s,l,"xOrigin",d,k),Ti(s,l,"yOrigin",p,N),Ti(s,l,"xOffset",h,l.xOffset),Ti(s,l,"yOffset",f,l.yOffset)),e.setAttribute("data-svg-origin",k+" "+N)},Wi=function(e,t){var n=e._gsap||new Ks(e);if("x"in n&&!t&&!n.uncache)return n;var r,a,s,o,i,c,l,u,d,p,h,f,m,g,y,b,v,x,w,k,N,S,C,T,E,I,_,O,A,R,D,M,P=e.style,F=n.scaleX<0,j="px",L="deg",z=getComputedStyle(e),B=yi(e,di)||"0";return r=a=s=c=l=u=d=p=h=0,o=i=1,n.svg=!(!e.getCTM||!Si(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(P[ui]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[ui]?z[ui]:"")),P.scale=P.rotate=P.translate="none"),g=Bi(e,n.svg),n.svg&&(n.uncache?(E=e.getBBox(),B=n.xOrigin-E.x+"px "+(n.yOrigin-E.y)+"px",T=""):T=!t&&e.getAttribute("data-svg-origin"),Ui(e,T||B,!!T||n.originIsAbsolute,!1!==n.smooth,g)),f=n.xOrigin||0,m=n.yOrigin||0,g!==Fi&&(x=g[0],w=g[1],k=g[2],N=g[3],r=S=g[4],a=C=g[5],6===g.length?(o=Math.sqrt(x*x+w*w),i=Math.sqrt(N*N+k*k),c=x||w?Ko(w,x)*Ho:0,(d=k||N?Ko(k,N)*Ho+c:0)&&(i*=Math.abs(Math.cos(d*qo))),n.svg&&(r-=f-(f*x+m*k),a-=m-(f*w+m*N))):(M=g[6],R=g[7],_=g[8],O=g[9],A=g[10],D=g[11],r=g[12],a=g[13],s=g[14],l=(y=Ko(M,A))*Ho,y&&(T=S*(b=Math.cos(-y))+_*(v=Math.sin(-y)),E=C*b+O*v,I=M*b+A*v,_=S*-v+_*b,O=C*-v+O*b,A=M*-v+A*b,D=R*-v+D*b,S=T,C=E,M=I),u=(y=Ko(-k,A))*Ho,y&&(b=Math.cos(-y),D=N*(v=Math.sin(-y))+D*b,x=T=x*b-_*v,w=E=w*b-O*v,k=I=k*b-A*v),c=(y=Ko(w,x))*Ho,y&&(T=x*(b=Math.cos(y))+w*(v=Math.sin(y)),E=S*b+C*v,w=w*b-x*v,C=C*b-S*v,x=T,S=E),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),o=Sa(Math.sqrt(x*x+w*w+k*k)),i=Sa(Math.sqrt(C*C+M*M)),y=Ko(S,C),d=Math.abs(y)>2e-4?y*Ho:0,h=D?1/(D<0?-D:D):0),n.svg&&(T=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Li(yi(e,ui)),T&&e.setAttribute("transform",T))),Math.abs(d)>90&&Math.abs(d)<270&&(F?(o*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(i*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+j,n.y=a-((n.yPercent=a&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-a)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+j,n.z=s+j,n.scaleX=Sa(o),n.scaleY=Sa(i),n.rotation=Sa(c)+L,n.rotationX=Sa(l)+L,n.rotationY=Sa(u)+L,n.skewX=d+L,n.skewY=p+L,n.transformPerspective=h+j,(n.zOrigin=parseFloat(B.split(" ")[2])||!t&&n.zOrigin||0)&&(P[di]=Vi(B)),n.xOffset=n.yOffset=0,n.force3D=_r.force3D,n.renderTransform=n.svg?Zi:Wo?Yi:Hi,n.uncache=0,n},Vi=function(e){return(e=e.split(" "))[0]+" "+e[1]},Gi=function(e,t,n){var r=is(t);return Sa(parseFloat(t)+parseFloat(_i(e,"x",n+"px",r)))+r},Hi=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Yi(e,t)},qi="0deg",Ki="0px",Xi=") ",Yi=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,s=n.x,o=n.y,i=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,d=n.skewX,p=n.skewY,h=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,y=n.target,b=n.zOrigin,v="",x="auto"===g&&e&&1!==e||!0===g;if(b&&(u!==qi||l!==qi)){var w,k=parseFloat(l)*qo,N=Math.sin(k),S=Math.cos(k);k=parseFloat(u)*qo,w=Math.cos(k),s=Gi(y,s,N*w*-b),o=Gi(y,o,-Math.sin(k)*-b),i=Gi(y,i,S*w*-b+b)}m!==Ki&&(v+="perspective("+m+Xi),(r||a)&&(v+="translate("+r+"%, "+a+"%) "),(x||s!==Ki||o!==Ki||i!==Ki)&&(v+=i!==Ki||x?"translate3d("+s+", "+o+", "+i+") ":"translate("+s+", "+o+Xi),c!==qi&&(v+="rotate("+c+Xi),l!==qi&&(v+="rotateY("+l+Xi),u!==qi&&(v+="rotateX("+u+Xi),d===qi&&p===qi||(v+="skew("+d+", "+p+Xi),1===h&&1===f||(v+="scale("+h+", "+f+Xi),y.style[ui]=v||"translate(0, 0)"},Zi=function(e,t){var n,r,a,s,o,i=t||this,c=i.xPercent,l=i.yPercent,u=i.x,d=i.y,p=i.rotation,h=i.skewX,f=i.skewY,m=i.scaleX,g=i.scaleY,y=i.target,b=i.xOrigin,v=i.yOrigin,x=i.xOffset,w=i.yOffset,k=i.forceCSS,N=parseFloat(u),S=parseFloat(d);p=parseFloat(p),h=parseFloat(h),(f=parseFloat(f))&&(h+=f=parseFloat(f),p+=f),p||h?(p*=qo,h*=qo,n=Math.cos(p)*m,r=Math.sin(p)*m,a=Math.sin(p-h)*-g,s=Math.cos(p-h)*g,h&&(f*=qo,o=Math.tan(h-f),a*=o=Math.sqrt(1+o*o),s*=o,f&&(o=Math.tan(f),n*=o=Math.sqrt(1+o*o),r*=o)),n=Sa(n),r=Sa(r),a=Sa(a),s=Sa(s)):(n=m,s=g,r=a=0),(N&&!~(u+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(N=_i(y,"x",u,"px"),S=_i(y,"y",d,"px")),(b||v||x||w)&&(N=Sa(N+b-(b*n+v*a)+x),S=Sa(S+v-(b*r+v*s)+w)),(c||l)&&(o=y.getBBox(),N=Sa(N+c/100*o.width),S=Sa(S+l/100*o.height)),o="matrix("+n+","+r+","+a+","+s+","+N+","+S+")",y.setAttribute("transform",o),k&&(y.style[ui]=o)},$i=function(e,t,n,r,a){var s,o,i=360,c=zr(a),l=parseFloat(a)*(c&&~a.indexOf("rad")?Ho:1)-r,u=r+l+"deg";return c&&("short"===(s=a.split("_")[1])&&(l%=i)!==l%180&&(l+=l<0?i:-360),"cw"===s&&l<0?l=(l+36e9)%i-~~(l/i)*i:"ccw"===s&&l>0&&(l=(l-36e9)%i-~~(l/i)*i)),e._pt=o=new wo(e._pt,t,n,r,l,Qo),o.e=u,o.u="deg",e._props.push(n),o},Ji=function(e,t){for(var n in t)e[n]=t[n];return e},Qi=function(e,t,n){var r,a,s,o,i,c,l,u=Ji({},n._gsap),d=n.style;for(a in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),d[ui]=t,r=Wi(n,1),Ci(n,ui),n.setAttribute("transform",s)):(s=getComputedStyle(n)[ui],d[ui]=t,r=Wi(n,1),d[ui]=s),Go)(s=u[a])!==(o=r[a])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(a)<0&&(i=is(s)!==(l=is(o))?_i(n,a,s,l):parseFloat(s),c=parseFloat(o),e._pt=new wo(e._pt,r,a,i,c-i,Jo),e._pt.u=l||0,e._props.push(a));Ji(r,u)};Na("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",a="Bottom",s="Left",o=(t<3?[n,r,a,s]:[n+s,n+r,a+r,a+s]).map((function(n){return t<2?e+n:"border"+n+e}));Pi[t>1?"border"+e:e]=function(e,t,n,r,a){var s,i;if(arguments.length<4)return s=o.map((function(t){return Oi(e,t,n)})),5===(i=s.join(" ")).split(s[0]).length?s[0]:i;s=(r+"").split(" "),i={},o.forEach((function(e,t){return i[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,i,a)}}));var ec={name:"css",register:xi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,a){var s,o,i,c,l,u,d,p,h,f,m,g,y,b,v,x,w=this._props,k=e.style,N=n.vars.startAt;for(d in Lo||xi(),this.styles=this.styles||mi(e),x=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(o=t[d],!ma[d]||!eo(d,t,n,r,e,a)))if(l=typeof o,u=Pi[d],"function"===l&&(l=typeof(o=o.call(n,r,e,a))),"string"===l&&~o.indexOf("random(")&&(o=bs(o)),u)u(this,e,d,o,n)&&(v=1);else if("--"===d.substr(0,2))s=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",As.lastIndex=0,As.test(s)||(p=is(s),h=is(o)),h?p!==h&&(s=_i(e,d,s,h)+h):p&&(o+=p),this.add(k,"setProperty",s,o,r,a,0,0,d),w.push(d),x.push(d,0,k[d]);else if("undefined"!==l){if(N&&d in N?(s="function"===typeof N[d]?N[d].call(n,r,e,a):N[d],zr(s)&&~s.indexOf("random(")&&(s=bs(s)),is(s+"")||"auto"===s||(s+=_r.units[d]||is(Oi(e,d))||""),"="===(s+"").charAt(1)&&(s=Oi(e,d))):s=Oi(e,d),c=parseFloat(s),(f="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),i=parseFloat(o),d in $o&&("autoAlpha"===d&&(1===c&&"hidden"===Oi(e,"visibility")&&i&&(c=0),x.push("visibility",0,k.visibility),Ti(this,k,"visibility",c?"inherit":"hidden",i?"inherit":"hidden",!i)),"scale"!==d&&"transform"!==d&&~(d=$o[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in Go)if(this.styles.save(d),g||((y=e._gsap).renderTransform&&!t.parseTransform||Wi(e,t.parseTransform),b=!1!==t.smoothOrigin&&y.smooth,(g=this._pt=new wo(this._pt,k,ui,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new wo(this._pt,y,"scaleY",y.scaleY,(f?Ta(y.scaleY,f+i):i)-y.scaleY||0,Jo),this._pt.u=0,w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){x.push(di,0,k[di]),o=Di(o),y.svg?Ui(e,o,0,b,0,this):((h=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&Ti(this,y,"zOrigin",y.zOrigin,h),Ti(this,k,d,Vi(s),Vi(o)));continue}if("svgOrigin"===d){Ui(e,o,1,b,0,this);continue}if(d in ji){$i(this,y,d,c,f?Ta(c,f+o):o);continue}if("smoothOrigin"===d){Ti(this,y,"smooth",y.smooth,o);continue}if("force3D"===d){y[d]=o;continue}if("transform"===d){Qi(this,o,e);continue}}else d in k||(d=vi(d)||d);if(m||(i||0===i)&&(c||0===c)&&!Zo.test(o)&&d in k)i||(i=0),(p=(s+"").substr((c+"").length))!==(h=is(o)||(d in _r.units?_r.units[d]:p))&&(c=_i(e,d,s,h)),this._pt=new wo(this._pt,m?y:k,d,c,(f?Ta(c,f+i):i)-c,m||"px"!==h&&"zIndex"!==d||!1===t.autoRound?Jo:ti),this._pt.u=h||0,p!==h&&"%"!==h&&(this._pt.b=s,this._pt.r=ei);else if(d in k)Ai.call(this,e,d,s,f?f+o:o);else if(d in e)this.add(e,d,s||e[d],f?f+o:o,r,a);else if("parseTransform"!==d){sa(d,o);continue}m||(d in k?x.push(d,0,k[d]):x.push(d,1,s||e[d])),w.push(d)}v&&xo(this)},render:function(e,t){if(t.tween._time||!Uo())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Oi,aliases:$o,getSetter:function(e,t,n){var r=$o[t];return r&&r.indexOf(",")<0&&(t=r),t in Go&&t!==di&&(e._gsap.x||Oi(e,"x"))?n&&Bo===n?"scale"===t?ii:oi:(Bo=n||{})&&("scale"===t?ci:li):e.style&&!Wr(e.style[t])?ai:~t.indexOf("-")?si:po(e,t)},core:{_removeProperty:Ci,_getMatrix:Bi}};Mo.utils.checkPrefix=vi,Mo.core.getStyleSaver=mi,function(e,t,n,r){var a=Na(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Go[e]=1}));Na(t,(function(e){_r.units[e]="deg",ji[e]=1})),$o[a[13]]=e+","+t,Na("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");$o[t[1]]=a[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Na("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){_r.units[e]="px"})),Mo.registerPlugin(ec);var tc=Mo.registerPlugin(ec)||Mo,nc=tc.core.Tween;function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ac,sc,oc,ic,cc,lc,uc,dc,pc,hc,fc,mc,gc,yc=function(){return ac||"undefined"!==typeof window&&(ac=window.gsap)&&ac.registerPlugin&&ac},bc=1,vc=[],xc=[],wc=[],kc=Date.now,Nc=function(e,t){return t},Sc=function(e,t){return~wc.indexOf(e)&&wc[wc.indexOf(e)+1][t]},Cc=function(e){return!!~hc.indexOf(e)},Tc=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:!1!==r,capture:!!a})},Ec=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Ic="scrollLeft",_c="scrollTop",Oc=function(){return fc&&fc.isPressed||xc.cache++},Ac=function(e,t){var n=function n(r){if(r||0===r){bc&&(oc.history.scrollRestoration="manual");var a=fc&&fc.isPressed;r=n.v=Math.round(r)||(fc&&fc.iOS?1:0),e(r),n.cacheID=xc.cache,a&&Nc("ss",r)}else(t||xc.cache!==n.cacheID||Nc("ref"))&&(n.cacheID=xc.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},Rc={s:Ic,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ac((function(e){return arguments.length?oc.scrollTo(e,Dc.sc()):oc.pageXOffset||ic[Ic]||cc[Ic]||lc[Ic]||0}))},Dc={s:_c,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Rc,sc:Ac((function(e){return arguments.length?oc.scrollTo(Rc.sc(),e):oc.pageYOffset||ic[_c]||cc[_c]||lc[_c]||0}))},Mc=function(e,t){return(t&&t._ctx&&t._ctx.selector||ac.utils.toArray)(e)[0]||("string"===typeof e&&!1!==ac.config().nullTargetWarn?console.warn("Element not found:",e):null)},Pc=function(e,t){var n=t.s,r=t.sc;Cc(e)&&(e=ic.scrollingElement||cc);var a=xc.indexOf(e),s=r===Dc.sc?1:2;!~a&&(a=xc.push(e)-1),xc[a+s]||Tc(e,"scroll",Oc);var o=xc[a+s],i=o||(xc[a+s]=Ac(Sc(e,n),!0)||(Cc(e)?r:Ac((function(t){return arguments.length?e[n]=t:e[n]}))));return i.target=e,o||(i.smooth="smooth"===ac.getProperty(e,"scrollBehavior")),i},Fc=function(e,t,n){var r=e,a=e,s=kc(),o=s,i=t||50,c=Math.max(500,3*i),l=function(e,t){var c=kc();t||c-s>i?(a=r,r=e,o=s,s=c):n?r+=e:r=a+(e-a)/(c-o)*(s-o)};return{update:l,reset:function(){a=r=n?0:r,o=s=0},getVelocity:function(e){var t=o,i=a,u=kc();return(e||0===e)&&e!==r&&l(e),s===o||u-o>c?0:(r+(n?i:-i))/((n?u:s)-t)*1e3}}},jc=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Lc=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},zc=function(){(pc=ac.core.globals().ScrollTrigger)&&pc.core&&function(){var e=pc.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,xc),r.push.apply(r,wc),xc=n,wc=r,Nc=function(e,n){return t[e](n)}}()},Bc=function(e){return ac=e||yc(),!sc&&ac&&"undefined"!==typeof document&&document.body&&(oc=window,ic=document,cc=ic.documentElement,lc=ic.body,hc=[oc,ic,cc,lc],ac.utils.clamp,gc=ac.core.context||function(){},dc="onpointerenter"in lc?"pointer":"mouse",uc=Uc.isTouch=oc.matchMedia&&oc.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in oc||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,mc=Uc.eventTypes=("ontouchstart"in cc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in cc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return bc=0}),500),zc(),sc=1),sc};Rc.op=Dc,xc.cache=0;var Uc=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){sc||Bc(ac)||console.warn("Please gsap.registerPlugin(Observer)"),pc||zc();var t=e.tolerance,n=e.dragMinimum,r=e.type,a=e.target,s=e.lineHeight,o=e.debounce,i=e.preventDefault,c=e.onStop,l=e.onStopDelay,u=e.ignore,d=e.wheelSpeed,p=e.event,h=e.onDragStart,f=e.onDragEnd,m=e.onDrag,g=e.onPress,y=e.onRelease,b=e.onRight,v=e.onLeft,x=e.onUp,w=e.onDown,k=e.onChangeX,N=e.onChangeY,S=e.onChange,C=e.onToggleX,T=e.onToggleY,E=e.onHover,I=e.onHoverEnd,_=e.onMove,O=e.ignoreCheck,A=e.isNormalizer,R=e.onGestureStart,D=e.onGestureEnd,M=e.onWheel,P=e.onEnable,F=e.onDisable,j=e.onClick,L=e.scrollSpeed,z=e.capture,B=e.allowClicks,U=e.lockAxis,W=e.onLockAxis;this.target=a=Mc(a)||cc,this.vars=e,u&&(u=ac.utils.toArray(u)),t=t||1e-9,n=n||0,d=d||1,L=L||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(oc.getComputedStyle(lc).lineHeight)||22);var V,G,H,q,K,X,Y,Z=this,$=0,J=0,Q=e.passive||!i,ee=Pc(a,Rc),te=Pc(a,Dc),ne=ee(),re=te(),ae=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===mc[0],se=Cc(a),oe=a.ownerDocument||ic,ie=[0,0,0],ce=[0,0,0],le=0,ue=function(){return le=kc()},de=function(e,t){return(Z.event=e)&&u&&~u.indexOf(e.target)||t&&ae&&"touch"!==e.pointerType||O&&O(e,t)},pe=function(){var e=Z.deltaX=Lc(ie),n=Z.deltaY=Lc(ce),r=Math.abs(e)>=t,a=Math.abs(n)>=t;S&&(r||a)&&S(Z,e,n,ie,ce),r&&(b&&Z.deltaX>0&&b(Z),v&&Z.deltaX<0&&v(Z),k&&k(Z),C&&Z.deltaX<0!==$<0&&C(Z),$=Z.deltaX,ie[0]=ie[1]=ie[2]=0),a&&(w&&Z.deltaY>0&&w(Z),x&&Z.deltaY<0&&x(Z),N&&N(Z),T&&Z.deltaY<0!==J<0&&T(Z),J=Z.deltaY,ce[0]=ce[1]=ce[2]=0),(q||H)&&(_&&_(Z),H&&(m(Z),H=!1),q=!1),X&&!(X=!1)&&W&&W(Z),K&&(M(Z),K=!1),V=0},he=function(e,t,n){ie[n]+=e,ce[n]+=t,Z._vx.update(e),Z._vy.update(t),o?V||(V=requestAnimationFrame(pe)):pe()},fe=function(e,t){U&&!Y&&(Z.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",X=!0),"y"!==Y&&(ie[2]+=e,Z._vx.update(e,!0)),"x"!==Y&&(ce[2]+=t,Z._vy.update(t,!0)),o?V||(V=requestAnimationFrame(pe)):pe()},me=function(e){if(!de(e,1)){var t=(e=jc(e,i)).clientX,r=e.clientY,a=t-Z.x,s=r-Z.y,o=Z.isDragging;Z.x=t,Z.y=r,(o||Math.abs(Z.startX-t)>=n||Math.abs(Z.startY-r)>=n)&&(m&&(H=!0),o||(Z.isDragging=!0),fe(a,s),o||h&&h(Z))}},ge=Z.onPress=function(e){de(e,1)||e&&e.button||(Z.axis=Y=null,G.pause(),Z.isPressed=!0,e=jc(e),$=J=0,Z.startX=Z.x=e.clientX,Z.startY=Z.y=e.clientY,Z._vx.reset(),Z._vy.reset(),Tc(A?a:oe,mc[1],me,Q,!0),Z.deltaX=Z.deltaY=0,g&&g(Z))},ye=Z.onRelease=function(e){if(!de(e,1)){Ec(A?a:oe,mc[1],me,!0);var t=!isNaN(Z.y-Z.startY),n=Z.isDragging,r=n&&(Math.abs(Z.x-Z.startX)>3||Math.abs(Z.y-Z.startY)>3),s=jc(e);!r&&t&&(Z._vx.reset(),Z._vy.reset(),i&&B&&ac.delayedCall(.08,(function(){if(kc()-le>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,oc,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),Z.isDragging=Z.isGesturing=Z.isPressed=!1,c&&n&&!A&&G.restart(!0),f&&n&&f(Z),y&&y(Z,r)}},be=function(e){return e.touches&&e.touches.length>1&&(Z.isGesturing=!0)&&R(e,Z.isDragging)},ve=function(){return(Z.isGesturing=!1)||D(Z)},xe=function(e){if(!de(e)){var t=ee(),n=te();he((t-ne)*L,(n-re)*L,1),ne=t,re=n,c&&G.restart(!0)}},we=function(e){if(!de(e)){e=jc(e,i),M&&(K=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?oc.innerHeight:1)*d;he(e.deltaX*t,e.deltaY*t,0),c&&!A&&G.restart(!0)}},ke=function(e){if(!de(e)){var t=e.clientX,n=e.clientY,r=t-Z.x,a=n-Z.y;Z.x=t,Z.y=n,q=!0,c&&G.restart(!0),(r||a)&&fe(r,a)}},Ne=function(e){Z.event=e,E(Z)},Se=function(e){Z.event=e,I(Z)},Ce=function(e){return de(e)||jc(e,i)&&j(Z)};G=Z._dc=ac.delayedCall(l||.25,(function(){Z._vx.reset(),Z._vy.reset(),G.pause(),c&&c(Z)})).pause(),Z.deltaX=Z.deltaY=0,Z._vx=Fc(0,50,!0),Z._vy=Fc(0,50,!0),Z.scrollX=ee,Z.scrollY=te,Z.isDragging=Z.isGesturing=Z.isPressed=!1,gc(this),Z.enable=function(e){return Z.isEnabled||(Tc(se?oe:a,"scroll",Oc),r.indexOf("scroll")>=0&&Tc(se?oe:a,"scroll",xe,Q,z),r.indexOf("wheel")>=0&&Tc(a,"wheel",we,Q,z),(r.indexOf("touch")>=0&&uc||r.indexOf("pointer")>=0)&&(Tc(a,mc[0],ge,Q,z),Tc(oe,mc[2],ye),Tc(oe,mc[3],ye),B&&Tc(a,"click",ue,!0,!0),j&&Tc(a,"click",Ce),R&&Tc(oe,"gesturestart",be),D&&Tc(oe,"gestureend",ve),E&&Tc(a,dc+"enter",Ne),I&&Tc(a,dc+"leave",Se),_&&Tc(a,dc+"move",ke)),Z.isEnabled=!0,e&&e.type&&ge(e),P&&P(Z)),Z},Z.disable=function(){Z.isEnabled&&(vc.filter((function(e){return e!==Z&&Cc(e.target)})).length||Ec(se?oe:a,"scroll",Oc),Z.isPressed&&(Z._vx.reset(),Z._vy.reset(),Ec(A?a:oe,mc[1],me,!0)),Ec(se?oe:a,"scroll",xe,z),Ec(a,"wheel",we,z),Ec(a,mc[0],ge,z),Ec(oe,mc[2],ye),Ec(oe,mc[3],ye),Ec(a,"click",ue,!0),Ec(a,"click",Ce),Ec(oe,"gesturestart",be),Ec(oe,"gestureend",ve),Ec(a,dc+"enter",Ne),Ec(a,dc+"leave",Se),Ec(a,dc+"move",ke),Z.isEnabled=Z.isPressed=Z.isDragging=!1,F&&F(Z))},Z.kill=Z.revert=function(){Z.disable();var e=vc.indexOf(Z);e>=0&&vc.splice(e,1),fc===Z&&(fc=0)},vc.push(Z),A&&Cc(a)&&(fc=Z),Z.enable(p)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&rc(t.prototype,n),r&&rc(t,r),e}();Uc.version="3.12.5",Uc.create=function(e){return new Uc(e)},Uc.register=Bc,Uc.getAll=function(){return vc.slice()},Uc.getById=function(e){return vc.filter((function(t){return t.vars.id===e}))[0]},yc()&&ac.registerPlugin(Uc);var Wc,Vc,Gc,Hc,qc,Kc,Xc,Yc,Zc,$c,Jc,Qc,el,tl,nl,rl,al,sl,ol,il,cl,ll,ul,dl,pl,hl,fl,ml,gl,yl,bl,vl,xl,wl,kl,Nl,Sl,Cl,Tl=1,El=Date.now,Il=El(),_l=0,Ol=0,Al=function(e,t,n){var r=Hl(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},Rl=function(e,t){return!t||Hl(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Dl=function e(){return Ol&&requestAnimationFrame(e)},Ml=function(){return tl=1},Pl=function(){return tl=0},Fl=function(e){return e},jl=function(e){return Math.round(1e5*e)/1e5||0},Ll=function(){return"undefined"!==typeof window},zl=function(){return Wc||Ll()&&(Wc=window.gsap)&&Wc.registerPlugin&&Wc},Bl=function(e){return!!~Xc.indexOf(e)},Ul=function(e){return("Height"===e?bl:Gc["inner"+e])||qc["client"+e]||Kc["client"+e]},Wl=function(e){return Sc(e,"getBoundingClientRect")||(Bl(e)?function(){return td.width=Gc.innerWidth,td.height=bl,td}:function(){return fu(e)})},Vl=function(e,t){var n=t.s,r=t.d2,a=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=Sc(e,n))?s()-Wl(e)()[a]:Bl(e)?(qc[n]||Kc[n])-Ul(r):e[n]-e["offset"+r])},Gl=function(e,t){for(var n=0;n<ol.length;n+=3)(!t||~t.indexOf(ol[n+1]))&&e(ol[n],ol[n+1],ol[n+2])},Hl=function(e){return"string"===typeof e},ql=function(e){return"function"===typeof e},Kl=function(e){return"number"===typeof e},Xl=function(e){return"object"===typeof e},Yl=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Zl=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add((function(){return t(e)})):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},$l=Math.abs,Jl="left",Ql="right",eu="bottom",tu="width",nu="height",ru="Right",au="Left",su="Top",ou="Bottom",iu="padding",cu="margin",lu="Width",uu="Height",du="px",pu=function(e){return Gc.getComputedStyle(e)},hu=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},fu=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==pu(e)[nl]&&Wc.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},mu=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},gu=function(e){var t,n=[],r=e.labels,a=e.duration();for(t in r)n.push(r[t]/a);return n},yu=function(e){var t=Wc.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,a){var s;if(void 0===a&&(a=.001),!r)return t(e);if(r>0){for(e-=a,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=a;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,a){void 0===a&&(a=.001);var s=t(n);return!r||Math.abs(s-n)<a||s-n<0===r<0?s:t(r<0?n-e:n+e)}},bu=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},vu=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:!r,capture:!!a})},xu=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},wu=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},ku={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Nu={toggleActions:"play",anticipatePin:0},Su={top:0,left:0,center:.5,bottom:1,right:1},Cu=function(e,t){if(Hl(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Su?Su[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Tu=function(e,t,n,r,a,s,o,i){var c=a.startColor,l=a.endColor,u=a.fontSize,d=a.indent,p=a.fontWeight,h=Hc.createElement("div"),f=Bl(n)||"fixed"===Sc(n,"pinType"),m=-1!==e.indexOf("scroller"),g=f?Kc:n,y=-1!==e.indexOf("start"),b=y?c:l,v="border-color:"+b+";font-size:"+u+";color:"+b+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((m||i)&&f?"fixed;":"absolute;"),(m||i||!f)&&(v+=(r===Dc?Ql:eu)+":"+(s+parseFloat(d))+"px;"),o&&(v+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),h._isStart=y,h.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),h.style.cssText=v,h.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(h,g.children[0]):g.appendChild(h),h._offset=h["offset"+r.op.d2],Eu(h,0,r,y),h},Eu=function(e,t,n,r){var a={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,a[n.a+"Percent"]=r?-100:0,a[n.a]=r?"1px":0,a["border"+s+lu]=1,a["border"+o+lu]=0,a[n.p]=t+"px",Wc.set(e,a)},Iu=[],_u={},Ou=function(){return El()-_l>34&&(kl||(kl=requestAnimationFrame(Xu)))},Au=function(){(!ul||!ul.isPressed||ul.startX>Kc.clientWidth)&&(xc.cache++,ul?kl||(kl=requestAnimationFrame(Xu)):Xu(),_l||ju("scrollStart"),_l=El())},Ru=function(){hl=Gc.innerWidth,pl=Gc.innerHeight},Du=function(){xc.cache++,!el&&!ll&&!Hc.fullscreenElement&&!Hc.webkitFullscreenElement&&(!dl||hl!==Gc.innerWidth||Math.abs(Gc.innerHeight-pl)>.25*Gc.innerHeight)&&Yc.restart(!0)},Mu={},Pu=[],Fu=function e(){return xu(cd,"scrollEnd",e)||Hu(!0)},ju=function(e){return Mu[e]&&Mu[e].map((function(e){return e()}))||Pu},Lu=[],zu=function(e){for(var t=0;t<Lu.length;t+=5)(!e||Lu[t+4]&&Lu[t+4].query===e)&&(Lu[t].style.cssText=Lu[t+1],Lu[t].getBBox&&Lu[t].setAttribute("transform",Lu[t+2]||""),Lu[t+3].uncache=1)},Bu=function(e,t){var n;for(rl=0;rl<Iu.length;rl++)!(n=Iu[rl])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));vl=!0,t&&zu(t),t||ju("revert")},Uu=function(e,t){xc.cache++,(t||!Nl)&&xc.forEach((function(e){return ql(e)&&e.cacheID++&&(e.rec=0)})),Hl(e)&&(Gc.history.scrollRestoration=gl=e)},Wu=0,Vu=function(){Kc.appendChild(yl),bl=!ul&&yl.offsetHeight||Gc.innerHeight,Kc.removeChild(yl)},Gu=function(e){return Zc(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},Hu=function(e,t){if(!_l||e||vl){Vu(),Nl=cd.isRefreshing=!0,xc.forEach((function(e){return ql(e)&&++e.cacheID&&(e.rec=e())}));var n=ju("refreshInit");il&&cd.sort(),t||Bu(),xc.forEach((function(e){ql(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),Iu.slice(0).forEach((function(e){return e.refresh()})),vl=!1,Iu.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),xl=1,Gu(!0),Iu.forEach((function(e){var t=Vl(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),Gu(!1),xl=0,n.forEach((function(e){return e&&e.render&&e.render(-1)})),xc.forEach((function(e){ql(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),Uu(gl,1),Yc.pause(),Wu++,Nl=2,Xu(2),Iu.forEach((function(e){return ql(e.vars.onRefresh)&&e.vars.onRefresh(e)})),Nl=cd.isRefreshing=!1,ju("refresh")}else vu(cd,"scrollEnd",Fu)},qu=0,Ku=1,Xu=function(e){if(2===e||!Nl&&!vl){cd.isUpdating=!0,Cl&&Cl.update(0);var t=Iu.length,n=El(),r=n-Il>=50,a=t&&Iu[0].scroll();if(Ku=qu>a?-1:1,Nl||(qu=a),r&&(_l&&!tl&&n-_l>200&&(_l=0,ju("scrollEnd")),Jc=Il,Il=n),Ku<0){for(rl=t;rl-- >0;)Iu[rl]&&Iu[rl].update(0,r);Ku=1}else for(rl=0;rl<t;rl++)Iu[rl]&&Iu[rl].update(0,r);cd.isUpdating=!1}kl=0},Yu=[Jl,"top",eu,Ql,cu+ou,cu+ru,cu+su,cu+au,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Zu=Yu.concat([tu,nu,"boxSizing","max"+lu,"max"+uu,"position",cu,iu,iu+su,iu+ru,iu+ou,iu+au]),$u=function(e,t,n,r){if(!e._gsap.swappedIn){for(var a,s=Yu.length,o=t.style,i=e.style;s--;)o[a=Yu[s]]=n[a];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),i[eu]=i[Ql]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[tu]=mu(e,Rc)+du,o[nu]=mu(e,Dc)+du,o[iu]=i[cu]=i.top=i[Jl]="0",Qu(r),i[tu]=i["max"+lu]=n[tu],i[nu]=i["max"+uu]=n[nu],i[iu]=n[iu],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Ju=/([A-Z])/g,Qu=function(e){if(e){var t,n,r=e.t.style,a=e.length,s=0;for((e.t._gsap||Wc.core.getCache(e.t)).uncache=1;s<a;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(Ju,"-$1").toLowerCase())}},ed=function(e){for(var t=Zu.length,n=e.style,r=[],a=0;a<t;a++)r.push(Zu[a],n[Zu[a]]);return r.t=e,r},td={left:0,top:0},nd=function(e,t,n,r,a,s,o,i,c,l,u,d,p,h){ql(e)&&(e=e(i)),Hl(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?Cu("0"+e.substr(3),n):0));var f,m,g,y=p?p.time():0;if(p&&p.seek(0),isNaN(e)||(e=+e),Kl(e))p&&(e=Wc.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),o&&Eu(o,n,r,!0);else{ql(t)&&(t=t(i));var b,v,x,w,k=(e||"0").split(" ");g=Mc(t,i)||Kc,(b=fu(g)||{})&&(b.left||b.top)||"none"!==pu(g).display||(w=g.style.display,g.style.display="block",b=fu(g),w?g.style.display=w:g.style.removeProperty("display")),v=Cu(k[0],b[r.d]),x=Cu(k[1]||"0",n),e=b[r.p]-c[r.p]-l+v+a-x,o&&Eu(o,x,r,n-x<20||o._isStart&&x>20),n-=n-x}if(h&&(i[h]=e||-.001,e<0&&(e=0)),s){var N=e+n,S=s._isStart;f="scroll"+r.d2,Eu(s,N,r,S&&N>20||!S&&(u?Math.max(Kc[f],qc[f]):s.parentNode[f])<=N+1),u&&(c=fu(o),u&&(s.style[r.op.p]=c[r.op.p]-r.op.m-s._offset+du))}return p&&g&&(f=fu(g),p.seek(d),m=fu(g),p._caScrollDist=f[r.p]-m[r.p],e=e/p._caScrollDist*d),p&&p.seek(y),p?e:Math.round(e)},rd=/(webkit|moz|length|cssText|inset)/i,ad=function(e,t,n,r){if(e.parentNode!==t){var a,s,o=e.style;if(t===Kc){for(a in e._stOrig=o.cssText,s=pu(e))+a||rd.test(a)||!s[a]||"string"!==typeof o[a]||"0"===a||(o[a]=s[a]);o.top=n,o.left=r}else o.cssText=e._stOrig;Wc.core.getCache(e).uncache=1,t.appendChild(e)}},sd=function(e,t,n){var r=t,a=r;return function(t){var s=Math.round(e());return s!==r&&s!==a&&Math.abs(s-r)>3&&Math.abs(s-a)>3&&(t=s,n&&n()),a=r,r=t,t}},od=function(e,t,n){var r={};r[t.p]="+="+n,Wc.set(e,r)},id=function(e,t){var n=Pc(e,t),r="_scroll"+t.p2,a=function t(a,s,o,i,c){var l=t.tween,u=s.onComplete,d={};o=o||n();var p=sd(n,o,(function(){l.kill(),t.tween=0}));return c=i&&c||0,i=i||a-o,l&&l.kill(),s[r]=a,s.inherit=!1,s.modifiers=d,d[r]=function(){return p(o+i*l.ratio+c*l.ratio*l.ratio)},s.onUpdate=function(){xc.cache++,t.tween&&Xu()},s.onComplete=function(){t.tween=0,u&&u.call(l)},l=t.tween=Wc.to(e,s)};return e[r]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},vu(e,"wheel",n.wheelHandler),cd.isTouch&&vu(e,"touchmove",n.wheelHandler),a},cd=function(){function e(t,n){Vc||e.register(Wc)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ml(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Ol){var r,a,s,o,i,c,l,u,d,p,h,f,m,g,y,b,v,x,w,k,N,S,C,T,E,I,_,O,A,R,D,M,P,F,j,L,z,B,U,W,V=t=hu(Hl(t)||Kl(t)||t.nodeType?{trigger:t}:t,Nu),G=V.onUpdate,H=V.toggleClass,q=V.id,K=V.onToggle,X=V.onRefresh,Y=V.scrub,Z=V.trigger,$=V.pin,J=V.pinSpacing,Q=V.invalidateOnRefresh,ee=V.anticipatePin,te=V.onScrubComplete,ne=V.onSnapComplete,re=V.once,ae=V.snap,se=V.pinReparent,oe=V.pinSpacer,ie=V.containerAnimation,ce=V.fastScrollEnd,le=V.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?Rc:Dc,de=!Y&&0!==Y,pe=Mc(t.scroller||Gc),he=Wc.core.getCache(pe),fe=Bl(pe),me="fixed"===("pinType"in t?t.pinType:Sc(pe,"pinType")||fe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ye=de&&t.toggleActions.split(" "),be="markers"in t?t.markers:Nu.markers,ve=fe?0:parseFloat(pu(pe)["border"+ue.p2+lu])||0,xe=this,we=t.onRefreshInit&&function(){return t.onRefreshInit(xe)},ke=function(e,t,n){var r=n.d,a=n.d2,s=n.a;return(s=Sc(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?Ul(a):e["client"+a])||0}}(pe,fe,ue),Ne=function(e,t){return!t||~wc.indexOf(e)?Wl(e):function(){return td}}(pe,fe),Se=0,Ce=0,Te=0,Ee=Pc(pe,ue);if(xe._startClamp=xe._endClamp=!1,xe._dir=ue,ee*=45,xe.scroller=pe,xe.scroll=ie?ie.time.bind(ie):Ee,o=Ee(),xe.vars=t,n=n||t.animation,"refreshPriority"in t&&(il=1,-9999===t.refreshPriority&&(Cl=xe)),he.tweenScroll=he.tweenScroll||{top:id(pe,Dc),left:id(pe,Rc)},xe.tweenTo=r=he.tweenScroll[ue.p],xe.scrubDuration=function(e){(P=Kl(e)&&e)?M?M.duration(e):M=Wc.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:P,paused:!0,onComplete:function(){return te&&te(xe)}}):(M&&M.progress(1).kill(),M=0)},n&&(n.vars.lazy=!1,n._initted&&!xe.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),xe.animation=n.pause(),n.scrollTrigger=xe,xe.scrubDuration(Y),R=0,q||(q=n.vars.id)),ae&&(Xl(ae)&&!ae.push||(ae={snapTo:ae}),"scrollBehavior"in Kc.style&&Wc.set(fe?[Kc,qc]:pe,{scrollBehavior:"auto"}),xc.forEach((function(e){return ql(e)&&e.target===(fe?Hc.scrollingElement||qc:pe)&&(e.smooth=!1)})),s=ql(ae.snapTo)?ae.snapTo:"labels"===ae.snapTo?function(e){return function(t){return Wc.utils.snap(gu(e),t)}}(n):"labelsDirectional"===ae.snapTo?(W=n,function(e,t){return yu(gu(W))(e,t.direction)}):!1!==ae.directional?function(e,t){return yu(ae.snapTo)(e,El()-Ce<500?0:t.direction)}:Wc.utils.snap(ae.snapTo),F=ae.duration||{min:.1,max:2},F=Xl(F)?$c(F.min,F.max):$c(F,F),j=Wc.delayedCall(ae.delay||P/2||.1,(function(){var e=Ee(),t=El()-Ce<500,a=r.tween;if(!(t||Math.abs(xe.getVelocity())<10)||a||tl||Se===e)xe.isActive&&Se!==e&&j.restart(!0);else{var o,i,u=(e-c)/g,d=n&&!de?n.totalProgress():u,p=t?0:(d-D)/(El()-Jc)*1e3||0,h=Wc.utils.clamp(-u,1-u,$l(p/2)*p/.185),f=u+(!1===ae.inertia?0:h),m=ae,y=m.onStart,b=m.onInterrupt,v=m.onComplete;if(o=s(f,xe),Kl(o)||(o=f),i=Math.round(c+o*g),e<=l&&e>=c&&i!==e){if(a&&!a._initted&&a.data<=$l(i-e))return;!1===ae.inertia&&(h=o-u),r(i,{duration:F($l(.185*Math.max($l(f-d),$l(o-d))/p/.05||0)),ease:ae.ease||"power3",data:$l(i-e),onInterrupt:function(){return j.restart(!0)&&b&&b(xe)},onComplete:function(){xe.update(),Se=Ee(),n&&(M?M.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),R=D=n&&!de?n.totalProgress():xe.progress,ne&&ne(xe),v&&v(xe)}},e,h*g,i-e-h*g),y&&y(xe,r.tween)}}})).pause()),q&&(_u[q]=xe),(U=(Z=xe.trigger=Mc(Z||!0!==$&&$))&&Z._gsap&&Z._gsap.stRevert)&&(U=U(xe)),$=!0===$?Z:Mc($),Hl(H)&&(H={targets:Z,className:H}),$&&(!1===J||J===cu||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===pu($.parentNode).display)&&iu),xe.pin=$,(a=Wc.core.getCache($)).spacer?y=a.pinState:(oe&&((oe=Mc(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),a.spacerIsNative=!!oe,oe&&(a.spacerState=ed(oe))),a.spacer=x=oe||Hc.createElement("div"),x.classList.add("pin-spacer"),q&&x.classList.add("pin-spacer-"+q),a.pinState=y=ed($)),!1!==t.force3D&&Wc.set($,{force3D:!0}),xe.spacer=x=a.spacer,A=pu($),T=A[J+ue.os2],k=Wc.getProperty($),N=Wc.quickSetter($,ue.a,du),$u($,x,A),v=ed($)),be){f=Xl(be)?hu(be,ku):ku,p=Tu("scroller-start",q,pe,ue,f,0),h=Tu("scroller-end",q,pe,ue,f,0,p),w=p["offset"+ue.op.d2];var Ie=Mc(Sc(pe,"content")||pe);u=this.markerStart=Tu("start",q,Ie,ue,f,w,0,ie),d=this.markerEnd=Tu("end",q,Ie,ue,f,w,0,ie),ie&&(B=Wc.quickSetter([u,d],ue.a,du)),me||wc.length&&!0===Sc(pe,"fixedMarkers")||(!function(e){var t=pu(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(fe?Kc:pe),Wc.set([p,h],{force3D:!0}),I=Wc.quickSetter(p,ue.a,du),O=Wc.quickSetter(h,ue.a,du))}if(ie){var _e=ie.vars.onUpdate,Oe=ie.vars.onUpdateParams;ie.eventCallback("onUpdate",(function(){xe.update(0,0,1),_e&&_e.apply(ie,Oe||[])}))}if(xe.previous=function(){return Iu[Iu.indexOf(xe)-1]},xe.next=function(){return Iu[Iu.indexOf(xe)+1]},xe.revert=function(e,t){if(!t)return xe.kill(!0);var r=!1!==e||!xe.enabled,a=el;r!==xe.isReverted&&(r&&(L=Math.max(Ee(),xe.scroll.rec||0),Te=xe.progress,z=n&&n.progress()),u&&[u,d,p,h].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(el=xe,xe.update(r)),!$||se&&xe.isActive||(r?function(e,t,n){Qu(n);var r=e._gsap;if(r.spacerIsNative)Qu(r.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1}($,x,y):$u($,x,pu($),E)),r||xe.update(r),el=a,xe.isReverted=r)},xe.refresh=function(a,s,f,w){if(!el&&xe.enabled||s)if($&&a&&_l)vu(e,"scrollEnd",Fu);else{!Nl&&we&&we(xe),el=xe,r.tween&&!f&&(r.tween.kill(),r.tween=0),M&&M.pause(),Q&&n&&n.revert({kill:!1}).invalidate(),xe.isReverted||xe.revert(!0,!0),xe._subPinOffset=!1;var N,T,I,O,A,R,D,P,F,B,U,W,V,G=ke(),H=Ne(),q=ie?ie.duration():Vl(pe,ue),K=g<=.01,Y=0,ee=w||0,te=Xl(f)?f.end:t.end,ne=t.endTrigger||Z,re=Xl(f)?f.start:t.start||(0!==t.start&&Z?$?"0 0":"0 100%":0),ae=xe.pinnedContainer=t.pinnedContainer&&Mc(t.pinnedContainer,xe),oe=Z&&Math.max(0,Iu.indexOf(xe))||0,ce=oe;for(be&&Xl(f)&&(W=Wc.getProperty(p,ue.p),V=Wc.getProperty(h,ue.p));ce--;)(R=Iu[ce]).end||R.refresh(0,1)||(el=xe),!(D=R.pin)||D!==Z&&D!==$&&D!==ae||R.isReverted||(B||(B=[]),B.unshift(R),R.revert(!0,!0)),R!==Iu[ce]&&(oe--,ce--);for(ql(re)&&(re=re(xe)),re=Al(re,"start",xe),c=nd(re,Z,G,ue,Ee(),u,p,xe,H,ve,me,q,ie,xe._startClamp&&"_startClamp")||($?-.001:0),ql(te)&&(te=te(xe)),Hl(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(Hl(re)?re.split(" ")[0]:"")+te:(Y=Cu(te.substr(2),G),te=Hl(re)?re:(ie?Wc.utils.mapRange(0,ie.duration(),ie.scrollTrigger.start,ie.scrollTrigger.end,c):c)+Y,ne=Z)),te=Al(te,"end",xe),l=Math.max(c,nd(te||(ne?"100% 0":q),ne,G,ue,Ee()+Y,d,h,xe,H,ve,me,q,ie,xe._endClamp&&"_endClamp"))||-.001,Y=0,ce=oe;ce--;)(D=(R=Iu[ce]).pin)&&R.start-R._pinPush<=c&&!ie&&R.end>0&&(N=R.end-(xe._startClamp?Math.max(0,R.start):R.start),(D===Z&&R.start-R._pinPush<c||D===ae)&&isNaN(re)&&(Y+=N*(1-R.progress)),D===$&&(ee+=N));if(c+=Y,l+=Y,xe._startClamp&&(xe._startClamp+=Y),xe._endClamp&&!Nl&&(xe._endClamp=l||-.001,l=Math.min(l,Vl(pe,ue))),g=l-c||(c-=.01)&&.001,K&&(Te=Wc.utils.clamp(0,1,Wc.utils.normalize(c,l,L))),xe._pinPush=ee,u&&Y&&((N={})[ue.a]="+="+Y,ae&&(N[ue.p]="-="+Ee()),Wc.set([u,d],N)),!$||xl&&xe.end>=Vl(pe,ue)){if(Z&&Ee()&&!ie)for(T=Z.parentNode;T&&T!==Kc;)T._pinOffset&&(c-=T._pinOffset,l-=T._pinOffset),T=T.parentNode}else N=pu($),O=ue===Dc,I=Ee(),S=parseFloat(k(ue.a))+ee,!q&&l>1&&(U={style:U=(fe?Hc.scrollingElement||qc:pe).style,value:U["overflow"+ue.a.toUpperCase()]},fe&&"scroll"!==pu(Kc)["overflow"+ue.a.toUpperCase()]&&(U.style["overflow"+ue.a.toUpperCase()]="scroll")),$u($,x,N),v=ed($),T=fu($,!0),P=me&&Pc(pe,O?Rc:Dc)(),J?((E=[J+ue.os2,g+ee+du]).t=x,(ce=J===iu?mu($,ue)+g+ee:0)&&(E.push(ue.d,ce+du),"auto"!==x.style.flexBasis&&(x.style.flexBasis=ce+du)),Qu(E),ae&&Iu.forEach((function(e){e.pin===ae&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),me&&Ee(L)):(ce=mu($,ue))&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=ce+du),me&&((A={top:T.top+(O?I-c:P)+du,left:T.left+(O?P:I-c)+du,boxSizing:"border-box",position:"fixed"})[tu]=A["max"+lu]=Math.ceil(T.width)+du,A[nu]=A["max"+uu]=Math.ceil(T.height)+du,A[cu]=A[cu+su]=A[cu+ru]=A[cu+ou]=A[cu+au]="0",A[iu]=N[iu],A[iu+su]=N[iu+su],A[iu+ru]=N[iu+ru],A[iu+ou]=N[iu+ou],A[iu+au]=N[iu+au],b=function(e,t,n){for(var r,a=[],s=e.length,o=n?8:0;o<s;o+=2)r=e[o],a.push(r,r in t?t[r]:e[o+1]);return a.t=e.t,a}(y,A,se),Nl&&Ee(0)),n?(F=n._initted,cl(1),n.render(n.duration(),!0,!0),C=k(ue.a)-S+g+ee,_=Math.abs(g-C)>1,me&&_&&b.splice(b.length-2,2),n.render(0,!0,!0),F||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),cl(0)):C=g,U&&(U.value?U.style["overflow"+ue.a.toUpperCase()]=U.value:U.style.removeProperty("overflow-"+ue.a));B&&B.forEach((function(e){return e.revert(!1,!0)})),xe.start=c,xe.end=l,o=i=Nl?L:Ee(),ie||Nl||(o<L&&Ee(L),xe.scroll.rec=0),xe.revert(!1,!0),Ce=El(),j&&(Se=-1,j.restart(!0)),el=0,n&&de&&(n._initted||z)&&n.progress()!==z&&n.progress(z||0,!0).render(n.time(),!0,!0),(K||Te!==xe.progress||ie||Q)&&(n&&!de&&n.totalProgress(ie&&c<-.001&&!Te?Wc.utils.normalize(c,l,0):Te,!0),xe.progress=K||(o-c)/g===Te?0:Te),$&&J&&(x._pinOffset=Math.round(xe.progress*C)),M&&M.invalidate(),isNaN(W)||(W-=Wc.getProperty(p,ue.p),V-=Wc.getProperty(h,ue.p),od(p,ue,W),od(u,ue,W-(w||0)),od(h,ue,V),od(d,ue,V-(w||0))),K&&!Nl&&xe.update(),!X||Nl||m||(m=!0,X(xe),m=!1)}},xe.getVelocity=function(){return(Ee()-i)/(El()-Jc)*1e3||0},xe.endAnimation=function(){Yl(xe.callbackAnimation),n&&(M?M.progress(1):n.paused()?de||Yl(n,xe.direction<0,1):Yl(n,n.reversed()))},xe.labelToScroll=function(e){return n&&n.labels&&(c||xe.refresh()||c)+n.labels[e]/n.duration()*g||0},xe.getTrailing=function(e){var t=Iu.indexOf(xe),n=xe.direction>0?Iu.slice(0,t).reverse():Iu.slice(t+1);return(Hl(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return xe.direction>0?e.end<=c:e.start>=l}))},xe.update=function(e,t,a){if(!ie||a||e){var s,u,d,h,f,m,y,w=!0===Nl?L:xe.scroll(),k=e?0:(w-c)/g,E=k<0?0:k>1?1:k||0,A=xe.progress;if(t&&(i=o,o=ie?Ee():w,ae&&(D=R,R=n&&!de?n.totalProgress():E)),ee&&$&&!el&&!Tl&&_l&&(!E&&c<w+(w-i)/(El()-Jc)*ee?E=1e-4:1===E&&l>w+(w-i)/(El()-Jc)*ee&&(E=.9999)),E!==A&&xe.enabled){if(h=(f=(s=xe.isActive=!!E&&E<1)!==(!!A&&A<1))||!!E!==!!A,xe.direction=E>A?1:-1,xe.progress=E,h&&!el&&(u=E&&!A?0:1===E?1:1===A?2:3,de&&(d=!f&&"none"!==ye[u+1]&&ye[u+1]||ye[u],y=n&&("complete"===d||"reset"===d||d in n))),le&&(f||y)&&(y||Y||!n)&&(ql(le)?le(xe):xe.getTrailing(le).forEach((function(e){return e.endAnimation()}))),de||(!M||el||Tl?n&&n.totalProgress(E,!(!el||!Ce&&!e)):(M._dp._time-M._start!==M._time&&M.render(M._dp._time-M._start),M.resetTo?M.resetTo("totalProgress",E,n._tTime/n._tDur):(M.vars.totalProgress=E,M.invalidate().restart()))),$)if(e&&J&&(x.style[J+ue.os2]=T),me){if(h){if(m=!e&&E>A&&l+1>w&&w+1>=Vl(pe,ue),se)if(e||!s&&!m)ad($,x);else{var P=fu($,!0),F=w-c;ad($,Kc,P.top+(ue===Dc?F:0)+du,P.left+(ue===Dc?0:F)+du)}Qu(s||m?b:v),_&&E<1&&s||N(S+(1!==E||m?0:C))}}else N(jl(S+C*E));ae&&!r.tween&&!el&&!Tl&&j.restart(!0),H&&(f||re&&E&&(E<1||!wl))&&Zc(H.targets).forEach((function(e){return e.classList[s||re?"add":"remove"](H.className)})),G&&!de&&!e&&G(xe),h&&!el?(de&&(y&&("complete"===d?n.pause().totalProgress(1):"reset"===d?n.restart(!0).pause():"restart"===d?n.restart(!0):n[d]()),G&&G(xe)),!f&&wl||(K&&f&&Zl(xe,K),ge[u]&&Zl(xe,ge[u]),re&&(1===E?xe.kill(!1,1):ge[u]=0),f||ge[u=1===E?1:3]&&Zl(xe,ge[u])),ce&&!s&&Math.abs(xe.getVelocity())>(Kl(ce)?ce:2500)&&(Yl(xe.callbackAnimation),M?M.progress(1):Yl(n,"reverse"===d?1:!E,1))):de&&G&&!el&&G(xe)}if(O){var z=ie?w/ie.duration()*(ie._caScrollDist||0):w;I(z+(p._isFlipped?1:0)),O(z)}B&&B(-w/ie.duration()*(ie._caScrollDist||0))}},xe.enable=function(t,n){xe.enabled||(xe.enabled=!0,vu(pe,"resize",Du),fe||vu(pe,"scroll",Au),we&&vu(e,"refreshInit",we),!1!==t&&(xe.progress=Te=0,o=i=Se=Ee()),!1!==n&&xe.refresh())},xe.getTween=function(e){return e&&r?r.tween:M},xe.setPositions=function(e,t,n,r){if(ie){var a=ie.scrollTrigger,s=ie.duration(),o=a.end-a.start;e=a.start+o*e/s,t=a.start+o*t/s}xe.refresh(!1,!1,{start:Rl(e,n&&!!xe._startClamp),end:Rl(t,n&&!!xe._endClamp)},r),xe.update()},xe.adjustPinSpacing=function(e){if(E&&e){var t=E.indexOf(ue.d)+1;E[t]=parseFloat(E[t])+e+du,E[1]=parseFloat(E[1])+e+du,Qu(E)}},xe.disable=function(t,n){if(xe.enabled&&(!1!==t&&xe.revert(!0,!0),xe.enabled=xe.isActive=!1,n||M&&M.pause(),L=0,a&&(a.uncache=1),we&&xu(e,"refreshInit",we),j&&(j.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!fe)){for(var s=Iu.length;s--;)if(Iu[s].scroller===pe&&Iu[s]!==xe)return;xu(pe,"resize",Du),fe||xu(pe,"scroll",Au)}},xe.kill=function(e,r){xe.disable(e,r),M&&!r&&M.kill(),q&&delete _u[q];var s=Iu.indexOf(xe);s>=0&&Iu.splice(s,1),s===rl&&Ku>0&&rl--,s=0,Iu.forEach((function(e){return e.scroller===xe.scroller&&(s=1)})),s||Nl||(xe.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,d,p,h].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),Cl===xe&&(Cl=0),$&&(a&&(a.uncache=1),s=0,Iu.forEach((function(e){return e.pin===$&&s++})),s||(a.spacer=0)),t.onKill&&t.onKill(xe)},Iu.push(xe),xe.enable(!1,!1),U&&U(xe),n&&n.add&&!g){var Ae=xe.update;xe.update=function(){xe.update=Ae,c||l||xe.refresh()},Wc.delayedCall(.01,xe.update),g=.01,c=l=0}else xe.refresh();$&&function(){if(Sl!==Wu){var e=Sl=Wu;requestAnimationFrame((function(){return e===Wu&&Hu(!0)}))}}()}else this.update=this.refresh=this.kill=Fl},e.register=function(t){return Vc||(Wc=t||zl(),Ll()&&window.document&&e.enable(),Vc=Ol),Vc},e.defaults=function(e){if(e)for(var t in e)Nu[t]=e[t];return Nu},e.disable=function(e,t){Ol=0,Iu.forEach((function(n){return n[t?"kill":"disable"](e)})),xu(Gc,"wheel",Au),xu(Hc,"scroll",Au),clearInterval(Qc),xu(Hc,"touchcancel",Fl),xu(Kc,"touchstart",Fl),bu(xu,Hc,"pointerdown,touchstart,mousedown",Ml),bu(xu,Hc,"pointerup,touchend,mouseup",Pl),Yc.kill(),Gl(xu);for(var n=0;n<xc.length;n+=3)wu(xu,xc[n],xc[n+1]),wu(xu,xc[n],xc[n+2])},e.enable=function(){if(Gc=window,Hc=document,qc=Hc.documentElement,Kc=Hc.body,Wc&&(Zc=Wc.utils.toArray,$c=Wc.utils.clamp,ml=Wc.core.context||Fl,cl=Wc.core.suppressOverwrites||Fl,gl=Gc.history.scrollRestoration||"auto",qu=Gc.pageYOffset,Wc.core.globals("ScrollTrigger",e),Kc)){Ol=1,(yl=document.createElement("div")).style.height="100vh",yl.style.position="absolute",Vu(),Dl(),Uc.register(Wc),e.isTouch=Uc.isTouch,fl=Uc.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),dl=1===Uc.isTouch,vu(Gc,"wheel",Au),Xc=[Gc,Hc,qc,Kc],Wc.matchMedia?(e.matchMedia=function(e){var t,n=Wc.matchMedia();for(t in e)n.add(t,e[t]);return n},Wc.addEventListener("matchMediaInit",(function(){return Bu()})),Wc.addEventListener("matchMediaRevert",(function(){return zu()})),Wc.addEventListener("matchMedia",(function(){Hu(0,1),ju("matchMedia")})),Wc.matchMedia("(orientation: portrait)",(function(){return Ru(),Ru}))):console.warn("Requires GSAP 3.11.0 or later"),Ru(),vu(Hc,"scroll",Au);var t,n,r=Kc.style,a=r.borderTopStyle,s=Wc.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=fu(Kc),Dc.m=Math.round(t.top+Dc.sc())||0,Rc.m=Math.round(t.left+Rc.sc())||0,a?r.borderTopStyle=a:r.removeProperty("border-top-style"),Qc=setInterval(Ou,250),Wc.delayedCall(.5,(function(){return Tl=0})),vu(Hc,"touchcancel",Fl),vu(Kc,"touchstart",Fl),bu(vu,Hc,"pointerdown,touchstart,mousedown",Ml),bu(vu,Hc,"pointerup,touchend,mouseup",Pl),nl=Wc.utils.checkPrefix("transform"),Zu.push(nl),Vc=El(),Yc=Wc.delayedCall(.2,Hu).pause(),ol=[Hc,"visibilitychange",function(){var e=Gc.innerWidth,t=Gc.innerHeight;Hc.hidden?(al=e,sl=t):al===e&&sl===t||Du()},Hc,"DOMContentLoaded",Hu,Gc,"load",Hu,Gc,"resize",Du],Gl(vu),Iu.forEach((function(e){return e.enable(0,1)})),n=0;n<xc.length;n+=3)wu(xu,xc[n],xc[n+1]),wu(xu,xc[n],xc[n+2])}},e.config=function(t){"limitCallbacks"in t&&(wl=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(Qc)||(Qc=n)&&setInterval(Ou,n),"ignoreMobileResize"in t&&(dl=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Gl(xu)||Gl(vu,t.autoRefreshEvents||"none"),ll=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=Mc(e),r=xc.indexOf(n),a=Bl(n);~r&&xc.splice(r,a?6:2),t&&(a?wc.unshift(Gc,t,Kc,t,qc,t):wc.unshift(n,t))},e.clearMatchMedia=function(e){Iu.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(Hl(e)?Mc(e):e).getBoundingClientRect(),a=r[n?tu:nu]*t||0;return n?r.right-a>0&&r.left+a<Gc.innerWidth:r.bottom-a>0&&r.top+a<Gc.innerHeight},e.positionInViewport=function(e,t,n){Hl(e)&&(e=Mc(e));var r=e.getBoundingClientRect(),a=r[n?tu:nu],s=null==t?a/2:t in Su?Su[t]*a:~t.indexOf("%")?parseFloat(t)*a/100:parseFloat(t)||0;return n?(r.left+s)/Gc.innerWidth:(r.top+s)/Gc.innerHeight},e.killAll=function(e){if(Iu.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=Mu.killAll||[];Mu={},t.forEach((function(e){return e()}))}},e}();cd.version="3.12.5",cd.saveStyles=function(e){return e?Zc(e).forEach((function(e){if(e&&e.style){var t=Lu.indexOf(e);t>=0&&Lu.splice(t,5),Lu.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Wc.core.getCache(e),ml())}})):Lu},cd.revert=function(e,t){return Bu(!e,t)},cd.create=function(e,t){return new cd(e,t)},cd.refresh=function(e){return e?Du():(Vc||cd.register())&&Hu(!0)},cd.update=function(e){return++xc.cache&&Xu(!0===e?2:0)},cd.clearScrollMemory=Uu,cd.maxScroll=function(e,t){return Vl(e,t?Rc:Dc)},cd.getScrollFunc=function(e,t){return Pc(Mc(e),t?Rc:Dc)},cd.getById=function(e){return _u[e]},cd.getAll=function(){return Iu.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},cd.isScrolling=function(){return!!_l},cd.snapDirectional=yu,cd.addEventListener=function(e,t){var n=Mu[e]||(Mu[e]=[]);~n.indexOf(t)||n.push(t)},cd.removeEventListener=function(e,t){var n=Mu[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},cd.batch=function(e,t){var n,r=[],a={},s=t.interval||.016,o=t.batchMax||1e9,i=function(e,t){var n=[],r=[],a=Wc.delayedCall(s,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||a.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&a.progress(1)}};for(n in t)a[n]="on"===n.substr(0,2)&&ql(t[n])&&"onRefreshInit"!==n?i(0,t[n]):t[n];return ql(o)&&(o=o(),vu(cd,"refresh",(function(){return o=t.batchMax()}))),Zc(e).forEach((function(e){var t={};for(n in a)t[n]=a[n];t.trigger=e,r.push(cd.create(t))})),r};var ld,ud=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},dd=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(Uc.isTouch?" pinch-zoom":""):"none",t===qc&&e(Kc,n)},pd={auto:1,scroll:1},hd=function(e){var t,n=e.event,r=e.target,a=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Wc.core.getCache(s),i=El();if(!o._isScrollT||i-o._isScrollT>2e3){for(;s&&s!==Kc&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!pd[(t=pu(s)).overflowY]&&!pd[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!Bl(s)&&(pd[(t=pu(s)).overflowY]||pd[t.overflowX]),o._isScrollT=i}(o._isScroll||"x"===a)&&(n.stopPropagation(),n._gsapAllow=!0)},fd=function(e,t,n,r){return Uc.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&hd,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&vu(Hc,Uc.eventTypes[0],gd,!1,!0)},onDisable:function(){return xu(Hc,Uc.eventTypes[0],gd,!0)}})},md=/(input|label|select|textarea)/i,gd=function(e){var t=md.test(e.target.tagName);(t||ld)&&(e._gsapAllow=!0,ld=t)},yd=function(e){Xl(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,a,s,o,i,c,l=e,u=l.normalizeScrollX,d=l.momentum,p=l.allowNestedScroll,h=l.onRelease,f=Mc(e.target)||qc,m=Wc.core.globals().ScrollSmoother,g=m&&m.get(),y=fl&&(e.content&&Mc(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),b=Pc(f,Dc),v=Pc(f,Rc),x=1,w=(Uc.isTouch&&Gc.visualViewport?Gc.visualViewport.scale*Gc.visualViewport.width:Gc.outerWidth)/Gc.innerWidth,k=0,N=ql(d)?function(){return d(t)}:function(){return d||2.8},S=fd(f,e.type,!0,p),C=function(){return a=!1},T=Fl,E=Fl,I=function(){n=Vl(f,Dc),E=$c(fl?1:0,n),u&&(T=$c(0,Vl(f,Rc))),r=Wu},_=function(){y._gsap.y=jl(parseFloat(y._gsap.y)+b.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},O=function(){I(),s.isActive()&&s.vars.scrollY>n&&(b()>n?s.progress(1)&&b(n):s.resetTo("scrollY",n))};return y&&Wc.set(y,{y:"+=0"}),e.ignoreCheck=function(e){return fl&&"touchmove"===e.type&&function(){if(a){requestAnimationFrame(C);var e=jl(t.deltaY/2),n=E(b.v-e);if(y&&n!==b.v+b.offset){b.offset=n-b.v;var r=jl((parseFloat(y&&y._gsap.y)||0)-b.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",y._gsap.y=r+"px",b.cacheID=xc.cache,Xu()}return!0}b.offset&&_(),a=!0}()||x>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){a=!1;var e=x;x=jl((Gc.visualViewport&&Gc.visualViewport.scale||1)/w),s.pause(),e!==x&&dd(f,x>1.01||!u&&"x"),o=v(),i=b(),I(),r=Wu},e.onRelease=e.onGestureStart=function(e,t){if(b.offset&&_(),t){xc.cache++;var r,a,o=N();u&&(a=(r=v())+.05*o*-e.velocityX/.227,o*=ud(v,r,a,Vl(f,Rc)),s.vars.scrollX=T(a)),a=(r=b())+.05*o*-e.velocityY/.227,o*=ud(b,r,a,Vl(f,Dc)),s.vars.scrollY=E(a),s.invalidate().duration(o).play(.01),(fl&&s.vars.scrollY>=n||r>=n-1)&&Wc.to({},{onUpdate:O,duration:o})}else c.restart(!0);h&&h(e)},e.onWheel=function(){s._ts&&s.pause(),El()-k>1e3&&(r=0,k=El())},e.onChange=function(e,t,n,a,s){if(Wu!==r&&I(),t&&u&&v(T(a[2]===t?o+(e.startX-e.x):v()+t-a[1])),n){b.offset&&_();var c=s[2]===n,l=c?i+e.startY-e.y:b()+n-s[1],d=E(l);c&&l!==d&&(i+=d-l),b(d)}(n||t)&&Xu()},e.onEnable=function(){dd(f,!u&&"x"),cd.addEventListener("refresh",O),vu(Gc,"resize",O),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=v.smooth=!1),S.enable()},e.onDisable=function(){dd(f,!0),xu(Gc,"resize",O),cd.removeEventListener("refresh",O),S.kill()},e.lockAxis=!1!==e.lockAxis,(t=new Uc(e)).iOS=fl,fl&&!b()&&b(1),fl&&Wc.ticker.add(Fl),c=t._dc,s=Wc.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:sd(b,b(),(function(){return s.pause()}))},onUpdate:Xu,onComplete:c.vars.onComplete}),t};cd.sort=function(e){return Iu.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},cd.observe=function(e){return new Uc(e)},cd.normalizeScroll=function(e){if("undefined"===typeof e)return ul;if(!0===e&&ul)return ul.enable();if(!1===e)return ul&&ul.kill(),void(ul=e);var t=e instanceof Uc?e:yd(e);return ul&&ul.target===t.target&&ul.kill(),Bl(t.target)&&(ul=t),t},cd.core={_getVelocityProp:Fc,_inputObserver:fd,_scrollers:xc,_proxies:wc,bridge:{ss:function(){_l||ju("scrollStart"),_l=El()},ref:function(){return el}}},zl()&&Wc.registerPlugin(cd);var bd=n(1043),vd=n.n(bd);function xd(e){let{url:t}=e,n=(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.from(n,{duration:1.2,y:"0",x:"0",scale:.5,opacity:0,ease:"ease-in",scrollTrigger:{trigger:n,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{className:"container",children:(0,ae.jsx)("div",{className:"player--container",children:(0,ae.jsx)("div",{className:"player-wrapper",ref:e=>{n=e},children:(0,ae.jsx)(vd(),{className:"react-player",url:t,width:"100%",height:"100%",controls:!0})})})})})}tc.registerPlugin(cd);const wd=["btn--primary","btn--outline","btn--secondary"],kd=["btn--medium","btn--large","btn_small"],Nd=e=>{let{children:t,type:n,onClick:r,buttonStyle:a,buttonSize:s}=e;const o=wd.includes(a)?a:wd[0],i=kd.includes(s)?s:kd[0];return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{className:"btn-mobile",children:(0,ae.jsx)("button",{className:"btn ".concat(o," ").concat(i),onClick:r,type:n,children:t})})})};function Sd(){let e=(0,B.useRef)(null);const t=tc.timeline();return(0,B.useEffect)((()=>{t.to(e,.6,{opacity:1,y:0,ease:Vo})}),[]),(0,ae.jsx)("div",{className:"hero-container",id:"hero",children:(0,ae.jsxs)("div",{className:"hero--header",ref:t=>{e=t},children:[(0,ae.jsx)("h1",{children:"Fitness guide"}),(0,ae.jsx)("h3",{children:"Shape your body like the way you want it."}),(0,ae.jsxs)("h3",{children:["Starts From"," ",(0,ae.jsxs)("span",{children:[(0,ae.jsx)("sup",{children:"$"}),"18/",(0,ae.jsx)("small",{children:"month"})]})]}),(0,ae.jsx)("div",{className:"hero-btns",children:(0,ae.jsxs)(ee,{to:"/userregistration",children:[(0,ae.jsx)(Nd,{buttonStyle:"btn--primary",className:"btn",buttonSize:"btn--large",children:"Join Now"})," "]})})]})})}const Cd=[{id:1,img:"https://res.cloudinary.com/dgaw5qfuo/image/upload/v1717908572/haiderajaz_qd5ok6.jpg",name:"Haider Ajaz",title:"office manager",quote:"I love Fitnation guidence towards y training which helps me alote regarding my daily routine and fitness"},{id:2,img:"https://res.cloudinary.com/dgaw5qfuo/image/upload/v1717908526/haseeb_ogjx9q.jpg",name:"Anas Alyas",title:"Advocate",quote:"The one I go to is new. All the equipment is good, and at the time I go there is enough for everyone to use without being on top of each other."},{id:3,img:"https://res.cloudinary.com/dgaw5qfuo/image/upload/v1717908534/zubair_wuxxew.jpg",name:"Zubair",title:"product designer",quote:"I love Fitnation guidence towards y training which helps me alote regarding my daily routine and fitness"},{id:4,img:"https://res.cloudinary.com/dgaw5qfuo/image/upload/v1717908530/anas_nhtmgv.jpg",name:"Haseeb",title:"Student",quote:"I think this gym is wonderful. They offer lots of classes and have plenty of cardio/weight lifting and even a separate section for women, which is nice.  "}],Td=[{id:1,title:"How old do I have to be to join the Fitnation gym and health club?",info:"To join a Fitnation club, you must be 16 years old and above. To promote fitness as part of your lifestyle from an early age, we offer a Junior Membership with the supervision of a Personal Trainer or parent/guardian. Our Community Clubs also have family membership options where you can enjoy your time with your kids following our club guidelines and Child Care Policy."},{id:2,title:"How much is the Fitnation membership?",info:"Membership rates vary depending on the type of package that is best suited for you; corporate rates are also available. Please contact your preferred Fitnation club, where our staff will be happy to discuss the various membership options available."},{id:3,title:"How do I pay for my Fitnation membership?",info:"Most members pay through auto debit on Credit Cards; however, Up-front payment options are also available. We also accommodate exclusive rates for our corporate partners."},{id:4,title:"Can I work out while traveling overseas?",info:"We\u2019ve got hundreds of clubs worldwide; your Fitnation membership can come in handy when you\u2019re traveling internationally. Whether you\u2019re traveling for business or pleasure, you can visit a Fitnation club near you. Ask our reception team for an International Passport before leaving the country."},{id:5,title:"Can I put my Fitnation membership on hold?",info:"Yes, you can. We call our hold option - freeze. At Fitnation, we believe that exercise is a lifelong habit; however, we understand that sometimes you will need a break due to personal circumstances. To accommodate that, you can put your membership on hold for a minimum of 1 month by giving us an appropriate notice. For further information, please refer to our reception team. A freeze fee will be charged. "},{id:6,title:"What if I want to cancel my Fitnation membership?",info:"We hope that you achieved your health and fitness goals, enjoyed your time as Fitnation member, and benefitted from all the facilities offered as part of your membership. If you decide to continue your fitness routine away from our club, we are still here for you! "}],Ed=[{id:1,title:"Can I bring a guest to the club?",info:"Working out with a friend is more fun and helps keep you motivated. To bring a guest with you to the club, they will be required to sign the guest register and undergo a PARQ assessment before using the equipment or attending a GX class. Each guest can only visit the club once as your guest before they join as a member, but you can invite all of your friends and family to try our facilities as a guest. During special events held at your club, friends and family will be invited to attend for free. Guests can also enter the club by using a guest pass obtained externally or by paying for each visit."},{id:2,title:"What are the club opening hours?",info:"You have the flexibility of being able to work out any time, day or night. You can usually start exercising from as early 5:30 am to as late as 11 pm weekdays*, 7 am to 9 pm on weekends and Public Holidays are generally 9 am to 8 pm . It\u2019s best to check with your club for exact opening times."},{id:3,title:"Can my children wait for me in the members' lounge while I workout?",info:"Fitnation is an adult training facility with clear terms and conditions around its use."},{id:4,title:"Do I need to pay for the Group Exercise Classes?",info:"Fitnation offers a wide range of Group Exercise Classes. The majority of our classes are included in your membership. However, payment options might be subject to membership package and club locations. At Fitnation, we believe in the power of habit creation and the benefits of training in a group. So that is why we have created several programs like Freestyle Group Training. Plus, we offer over 500 free group exercise classes every week ranging from Zumba, Yoga, RPM, Belly Dancing, and the ever-popular Les Mills classes like Body Pump, Body Combat, and Attack. We have created several programs like TUFF, HardcoreMax, and many more so you can explore new ways of challenging yourself! For specific timings and bookings, please view our Class&nbsp;"},{id:5,title:"Whom can I ask if I have trouble using the equipment?",info:"Our highly qualified fitness team is always available, happy to help you and answer your questions. You can find them on the gym floor or approach the reception for any help. "},{id:6,title:"Do I need to bring my own towel as a member?",info:"A bath towel and a small towel are provided at every visit where you will be asked to leave your membership card in exchange. It is recommended to wipe down the equipment after use, so it\u2019s sweat-free for the next user. Do remember to return towels to the designated collection bins/counter after use. Help protect our planet, be environmentally friendly by limiting use to one set per member/guest per visit. "}],Id=[{id:1,title:"I am a business owner and would like to become a partner",info:"Good Vibes creates on-going exposure and revenue opportunities for our partners. Becoming a Partner with us allows you to reach our loyal and active member base and provide your brand with new clients and engagement with an affluent audience. With over 500 partners and growing, we pride ourselves on linking with key players in the region and establishing successful channels for your brand growth. "},{id:2,title:"I have questions, who can I contact?",info:"You can email us at info.ff@custhelp.com or connect with Janet at Janet.Esperas@Fitnationclub-me.com , we will get back to you asap."},{id:3,title:"Can I share the discount with my family and friends?",info:"The app is individually linked to one person however, where the offer allows and is applicable on total bill, you may extend the discount to your friends and family at the time of experience."},{id:4,title:"How many offers and how often can I redeem my discounts?",info:"You have access to unlimited redemptions at all our partners\u2019 outlets simply by showing Good Vibes loyalty app and following the redemption process of the offer, as long as your membership is active at the time of use."},{id:5,title:"How do I redeem my discount?",info:"You redeem your discount by simply finding the vendor you are visiting and then showing Good Vibes app to them before payment. Once you select the offer, you will click on Redeem and the partner\u2019s team will type the amount of money you have saved and their unique Vendor PIN, when they submit your savings it will reflect in your app immediately! "},{id:6,title:"How do the savings work?",info:"Whenever you redeem an offer in any of Good Vibes participating partners, at point of payment they will add your savings in the app. The amount you saved will reflect on \u201cMy Savings this Month\u201d on your home. You can also keep track of all your savings history under \u201cMy Total Savings\u201d. "}],_d=[{id:"recAGJfiU4CeaV0HL",order:3,title:"Circuit Training",dates:"December 2015 - Present",duties:["Utility Benches, Exercise Mats, Medicine Balls, Wall Balls & Slam Balls","Plyo Boxes, Suspension, Resistance Bands, Stability Balls, Battle Rope & Cones","Agility Ladder, Sand Bags, Jump Ropes, Tires & Sledge Hammers"],company:"CIRCUIT"},{id:"recIL6mJNfWObonls",order:2,title:"Mobility",dates:"May 2015 - December 2015",duties:["PVC\u2019s, Foam Rollers & PVC Rollers","Lacrosse Balls, Stick Rollers & Body Tempering","Car Deadlift, Basket Deadlift & Several Stone Loading Tables"],company:"MOBILITY"},{id:"rec61x18GVY99hQq5",order:1,title:"POWERLIFTING",dates:"May 2014 - September 2015",duties:["Westside Reverse Hyper, Metal Militia Competition Bench, Elite FTS Monolift & ETE Glute/Ham","Multiple ETE Power Racks and 8 Post Cross Training Rig with Monkey Bars, Texas Squat Bar & Texas Deadlift Bar ","Rogue Cambered Squat Bar, ETE Safety Squat Bar, Westside Safety Squat Bar, Transformer Bar","Cambered Bench Bar, Cambered Squat bar, Bamboo Bar, Perform Better Swiss Bar, Over 200lbs in Chains"],company:"POWERLIFTING"},{id:"ytrugfrtdygt",order:1,title:"GENERAL",dates:"May 2014 - September 2015",duties:["Ivanko KG Steel Plates, Chalk & Many Specialty Barbells ","Seated Leg Curl, Standing Leg Curl, Prone Leg Curl & Maxicam plate loaded leg extension/leg curl","Triceps Machine, Pulldown/ Row, Fly Machine, Iron Cross Machine, T-Bar Bent Over Row, EliteFTS T-Bar Chest Supported Row & Standing Calf Raise/ Shoulder Press","Seated Calf Raise, Ader Tibia Dorsi Calf Machine, Plate Loaded Iso Unilateral Dip Machine, Plate Loaded Iso Unilateral Incline Press Machine, Plate Loaded Iso Unilateral Shoulder Press Machine, Jammer","ConesSpeed Ladder, Microwave, Jump Ropes, Rings & Mats"],company:"GENERAL"}],Od=[{image:"https://www.timberlineconstruction.com/wp-content/uploads/construction_firm_mass_health_club_LAFitnessStoughton2-1280x853.jpg"},{image:"https://www.gannett-cdn.com/presto/2019/03/29/PPHX/28bc40a3-9a6a-4879-b97a-9de50c5195a9-LA_FITNESS_HIIT1s_-_Copy.jpg"},{image:"https://i.pinimg.com/originals/79/ca/76/79ca766a08729673fa9f0f4136a152a1.jpg"},{image:"https://www.timberlineconstruction.com/wp-content/uploads/construction_firm_mass_health_club_LAFitnessStoughton4-1280x853.jpg"},{image:"https://images.squarespace-cdn.com/content/v1/56e487181d07c0743d227289/1527699641800-ODOGSHAZGKZDVAHKNWDS/ke17ZwdGBToddI8pDm48kMOwR2FevcxAjoyCptWFrnAUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcQINDlqG18oPajFpNxAHKGd9zTURRK7Jow7xIVOc3Zoaj5vcuoLCYYAAuzPfidJEM/Get-Lean-LAF-1080x675.jpg"},{image:"https://www.theburn.com/wp-content/uploads/2020/03/IMG_8412.jpg"},{image:"https://www.coursesonline.co.uk/wp-content/uploads/image-of-online-fitness.jpg"},{image:"https://www.timberlineconstruction.com/wp-content/uploads/construction_firm_mass_health_club_LAFitnessStoughton3-1280x853.jpg"},{image:"https://www.blackenterprise.com/wp-content/blogs.dir/1/files/2020/03/Screen-Shot-2020-03-13-at-10.00.04-AM.png"},{image:"https://www.gannett-cdn.com/-mm-/7482cba6d54df1bcc1dc3e70fc1c6d141849ebec/c=26-0-2373-1326/local/-/media/2018/07/23/DetroitFreeP/DetroitFreePress/636679544278583163-LAFitness-072118-ES14.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp"},{image:"https://mzogroup.com/wp-content/uploads/2016/10/1304-1024x680.jpg"},{image:"https://www.baltimoresun.com/resizer/jpWfvx2N8dwbBZYpS2urS3U-EwY=/1200x0/top/arc-anglerfish-arc2-prod-tronc.s3.amazonaws.com/public/YGV7XJRIGNCY5JTACAXSLPB6FM.jpg"},{image:"https://ca-times.brightspotcdn.com/dims4/default/a31969a/2147483647/strip/true/crop/4873x3367+0+0/resize/840x580!/quality/90/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F91%2Fc3%2F513dd6cc466ba548afefb1ea43d7%2F491555-fi-century-plaza-towers-full-jja-0006.JPG"},{image:"https://theseahawk.org/wp-content/uploads/2015/09/ea159843597ce96c2b1771fb0093dac9-900x675.jpg"},{image:"https://www.timberlineconstruction.com/wp-content/uploads/construction_firm_mass_health_club_LAFitnessStoughton6-1280x853.jpg"},{image:"https://i.pinimg.com/originals/6b/52/b9/6b52b9ea355439c14b730cedaddcc03c.jpg"},{image:"https://welcome.lafitness.com/wp-content/uploads/2017/05/14-new.jpg"},{image:"https://i.pinimg.com/originals/14/ce/66/14ce66e91a675e16d14351bb72ea270b.jpg"},{image:"https://www.gtlconstruction.com/wp-content/uploads/2019/05/LA-Fitness-locker-room-1024x683.jpg"},{image:"https://cdn2.hubspot.net/hubfs/3985310/Homepage%20Gallery%20Images/EI1A8841.jpg"},{image:"https://www.dimellashaffer.com/wp-content/uploads/2017/08/GassettFitness_02-e1508770144910.jpg"}];function Ad(){const[e,t]=(0,B.useState)(Cd),[n,r]=B.useState(0);return(0,B.useEffect)((()=>{const t=e.length-1;n<0&&r(t),n>t&&r(0)}),[n,e]),(0,B.useEffect)((()=>{let e=setInterval((()=>{r(n+1)}),5e3);return()=>{clearInterval(e)}}),[n]),(0,ae.jsxs)("section",{className:" reviews--container",children:[(0,ae.jsx)("div",{className:"review-title",children:(0,ae.jsx)("h2",{children:" Highlighted Reviews "})}),(0,ae.jsxs)("div",{className:"section-center",children:[e.map(((t,r)=>{let a="nextSlide";return r===n&&(a="activeSlide"),(r===n-1||0===n&&r===e.length-1)&&(a="lastSlide"),(0,ae.jsxs)("article",{className:a,children:[(0,ae.jsx)("img",{src:t.img,alt:t.name,className:"person-img"}),(0,ae.jsx)("h4",{children:t.name}),(0,ae.jsx)("p",{className:"title_p",children:t.title}),(0,ae.jsx)("p",{className:"text",children:t.quote}),(0,ae.jsx)("div",{className:"icon",children:(0,ae.jsx)("i",{className:"fas fa-quote-right"})})]},t.id)})),(0,ae.jsx)("span",{className:"prev",children:(0,ae.jsxs)(Nd,{buttonStyle:"btn--secondary",buttonSize:"btn_small",onClick:()=>r(n-1),children:[(0,ae.jsx)("i",{className:"fas fa-chevron-left"})," "]})}),(0,ae.jsx)("span",{className:"next",children:(0,ae.jsx)(Nd,{buttonStyle:"btn--secondary",buttonSize:"btn_small",onClick:()=>r(n+1),children:(0,ae.jsx)("i",{className:"fas fa-chevron-right"})})})]})]})}function Rd(){let e=(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.to(e,{delay:.4,duration:1,x:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsx)("div",{className:"feautures",children:(0,ae.jsxs)("div",{className:"feautures--container",children:[(0,ae.jsxs)("div",{className:"heading",ref:t=>{e=t},children:[(0,ae.jsx)("h2",{children:"Features"}),(0,ae.jsx)("h1",{children:"What we Offer"}),(0,ae.jsxs)("div",{className:"features--services",children:[(0,ae.jsxs)("p",{className:"feature--item",children:[" ",(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Online Fitness Classes"]}),(0,ae.jsxs)("p",{className:"feature--item",children:[" ",(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Personal Trainer Sessions"]}),(0,ae.jsxs)("p",{className:"feature--item",children:[" ",(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Real-Time Fitness Tracking"]}),(0,ae.jsxs)("p",{className:"feature--item",children:[" ",(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Instructional Videos"]}),(0,ae.jsxs)("p",{className:"feature--item",children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Nutrition and Diet Management"]}),(0,ae.jsxs)("p",{className:"feature--item",children:[" ",(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Wearable Device Integration -Soon"]})]})]}),(0,ae.jsx)("div",{className:"image",children:(0,ae.jsx)("img",{className:"features--image",src:"https://wallpapercave.com/wp/wp3867926.jpg",alt:"gym"})})]})})}tc.registerPlugin(cd),tc.registerPlugin(cd);var Dd=n(5323);function Md(){let e=(0,B.useRef)(null),[t,n]=Nn();return(0,B.useEffect)((()=>{tc.to(e,{duration:1,y:"10",opacity:1,ease:"ease-in",scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsx)("div",{className:"membership",children:(0,ae.jsxs)("div",{className:"membership--container",children:[(0,ae.jsx)("h1",{children:"View Our Plans"}),(0,ae.jsxs)("p",{className:"membership--desc",children:["Get Started Today and recieve 50% off your first month"," "]}),(0,ae.jsxs)("div",{className:"membership--wrap",ref:t=>{e=t},children:[(0,ae.jsxs)("div",{className:"membership--card",children:[(0,ae.jsxs)("div",{className:"membership--title",children:[(0,ae.jsx)("svg",{width:"100",height:"60",viewBox:"0 0 100 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ae.jsx)("path",{d:"M90.1639 10.328C87.6465 10.328 85.6557 11.2785 83.6064 12.8375V10.3262C83.6064 4.90393 79.1943 0.491821 73.7703 0.491821C68.3463 0.491821 63.9342 4.90393 63.9342 10.3262V21.9096H36.0656V10.3262C36.0656 4.90393 31.6535 0.491821 26.2295 0.491821C20.8055 0.491821 16.3934 4.90393 16.3934 10.3262V12.8373C14.7541 11.2783 12.3535 10.3278 9.83594 10.3278C4.41211 10.328 0 14.7352 0 20.1512V39.8489C0 45.2647 4.41211 49.6721 9.83613 49.6721C12.3535 49.6721 14.7541 48.7219 16.3936 47.1627V49.6754C16.3936 55.0977 20.8057 59.5082 26.2297 59.5082C31.6537 59.5082 36.0658 55.0977 36.0658 49.6754V38.3034H63.9346V49.6754C63.9346 55.0977 68.3467 59.5082 73.7707 59.5082C79.1947 59.5082 83.6068 55.0977 83.6068 49.6754V47.1627C85.6561 48.7221 87.6467 49.6721 90.1643 49.6721C95.5883 49.6721 100 45.2647 100 39.8489V20.1512C100 14.7352 95.5879 10.328 90.1639 10.328ZM16.3934 39.8489C16.3934 43.4573 13.4518 46.3934 9.83594 46.3934C6.22031 46.3934 3.27852 43.4573 3.27852 39.8489V20.1512C3.27852 16.5428 6.22012 13.6067 9.83594 13.6067C13.4516 13.6067 16.3934 16.5428 16.3934 20.1512V39.8489ZM32.7869 23.4426V36.5575V49.6754C32.7869 53.2887 29.8453 56.2295 26.2295 56.2295C22.6139 56.2295 19.6721 53.2887 19.6721 49.6754V39.8491V20.1512V10.3262C19.6721 6.71136 22.6137 3.77034 26.2295 3.77034C29.8451 3.77034 32.7869 6.71116 32.7869 10.3262V23.4426ZM63.9344 35.0244H36.0656V25.1883H63.9344V35.0244ZM80.3279 20.1512V39.8489V49.6752C80.3279 53.2885 77.3863 56.2293 73.7705 56.2293C70.1549 56.2293 67.2131 53.2885 67.2131 49.6752V36.5573V23.4424V10.3262C67.2131 6.71136 70.1547 3.77034 73.7705 3.77034C77.3861 3.77034 80.3279 6.71116 80.3279 10.3262V20.1512ZM96.7213 39.8489C96.7213 43.4573 93.7797 46.3934 90.1639 46.3934C86.5482 46.3934 83.6064 43.4573 83.6064 39.8489V20.1512C83.6064 16.5428 86.548 13.6067 90.1639 13.6067C93.7795 13.6067 96.7213 16.5428 96.7213 20.1512V39.8489Z",fill:"#028851"})}),(0,ae.jsx)("h3",{style:{marginTop:"15px"},children:"loose Weight"})]}),(0,ae.jsx)("div",{className:"membership--perk",children:(0,ae.jsx)("h3",{children:(0,ae.jsxs)("span",{children:[(0,ae.jsx)("sup",{children:"$"}),"18/",(0,ae.jsx)("small",{children:"month"})]})})}),(0,ae.jsx)("div",{className:"membership--perk--desc",children:(0,ae.jsxs)("ul",{children:[(0,ae.jsx)("li",{children:"- Diet Plan"}),(0,ae.jsx)("li",{children:"- Personalized Workouts"}),(0,ae.jsx)("li",{children:"- Flexible Scheduling"}),(0,ae.jsx)("li",{children:"- Expert Guidance"}),(0,ae.jsx)("li",{children:"- Progress Tracking"}),(0,ae.jsx)("li",{children:"- Reduced Costs"})]})}),(0,ae.jsx)("div",{className:"button--su",children:null!=(null===t||void 0===t?void 0:t.user)?(0,ae.jsx)(Dd.N_,{to:"/userregistration",children:(0,ae.jsx)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--meduim",type:"submit",children:"Join Now"})}):""})]}),(0,ae.jsxs)("div",{className:"membership--card",children:[(0,ae.jsxs)("div",{className:"membership--title",children:[(0,ae.jsxs)("svg",{width:"60",height:"80",viewBox:"0 0 60 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ae.jsx)("path",{d:"M51.5273 30.7958C52.4164 22.9752 52.8002 15.1632 52.8002 7.73332C52.9334 5.0666 50.9334 2.53332 48.1334 2.00004C35.8669 -0.66668 23.6002 -0.66668 12.0002 2.00004C9.20016 2.53332 7.20016 5.06676 7.33344 7.73332C7.33344 15.1196 7.83797 22.8838 8.60078 30.6585C3.68672 35.9091 0.666878 42.9518 0.666878 50.6666C0.666878 66.8 13.8669 80 30.0002 80C46.1334 80 59.3334 66.8 59.3334 50.6668C59.3334 43.0189 56.3659 36.0316 51.5273 30.7958ZM30.0002 21.3333C25.9841 21.3333 22.1502 22.1518 18.6559 23.6293C18.3353 19.4005 18.1167 15.4649 18.0002 11.7333C22.1334 11.0666 26.2669 10.6666 30.0002 10.6666C33.7334 10.6666 37.6002 11.0666 42.0002 11.8666C41.8852 15.6611 41.6705 19.556 41.3572 23.6344C37.8595 22.1536 34.0211 21.3333 30.0002 21.3333ZM12.4002 4.66676C23.7334 2.00004 35.6002 2.00004 47.4669 4.66676C48.9336 4.93348 50.1336 6.13348 50.0002 7.60004C50.0002 14.4 49.6002 21.3333 49.0669 28.4C47.6313 27.2038 46.1941 26.1166 44.5659 25.2311C44.3792 25.1235 44.1909 25.0183 44.0017 24.9147C44.4005 19.9883 44.5339 15.3274 44.667 10.6666C44.667 9.99988 44.1338 9.4666 43.6003 9.33332C38.5334 8.40004 34.2669 8.00004 30.0002 8.00004C25.7334 8.00004 21.0669 8.40004 16.4002 9.33332C15.7334 9.4666 15.3334 10 15.3334 10.6666C15.3334 15.0666 15.6002 19.7333 16.1334 24.7999C14.2667 25.8666 12.6667 26.9332 11.0667 28.2666C10.4002 21.3333 10.0002 14.4 10.0002 7.46676C9.86688 6.26676 11.0669 4.93332 12.4002 4.66676ZM30.0002 77.3333C15.3334 77.3333 3.33344 65.3333 3.33344 50.6666C3.33344 35.9999 15.3334 24 30.0002 24C34.085 24 37.9623 24.9319 41.4317 26.5918C41.5448 26.728 41.6909 26.8454 41.8667 26.9333C44.5334 28.2666 47.0667 30 49.0667 32.1333C49.1559 32.2225 49.2456 32.2955 49.3398 32.3549C53.875 37.1408 56.6667 43.5933 56.6667 50.6666C56.6669 65.3333 44.6669 77.3333 30.0002 77.3333Z",fill:"#028851"}),(0,ae.jsx)("path",{d:"M11.467 53.2C11.467 52.4 10.8003 51.8667 10.0003 52C9.20026 52.1333 8.80026 52.8 8.93354 53.6C9.46683 57.8667 11.3335 62 14.4003 65.2C14.667 65.4667 14.9335 65.6 15.3335 65.6C15.6003 65.6 16.0003 65.4667 16.1335 65.2C16.8003 64.6667 16.8003 63.8667 16.2668 63.3333C13.6003 60.5333 12.0003 57.0667 11.467 53.2Z",fill:"#028851"}),(0,ae.jsx)("path",{d:"M30.0002 69.2001C27.7335 69.2001 25.4669 68.8001 23.3335 68.0001C22.6668 67.7333 21.8668 68.1333 21.6002 68.8001C21.3337 69.4668 21.7335 70.2668 22.4002 70.5334C24.8002 71.4667 27.3335 72.0001 30.0002 72.0001C30.667 72.0001 31.3335 71.3334 31.3335 70.5334C31.3335 69.7334 30.8002 69.2001 30.0002 69.2001Z",fill:"#028851"}),(0,ae.jsx)("path",{d:"M18.8003 66C18.0003 66 17.4671 66.5333 17.4671 67.3333C17.4671 68.1333 18.0003 68.6666 18.8003 68.6666C19.6003 68.6666 20.1336 67.9998 20.1336 67.3333C20.1336 66.5333 19.6003 66 18.8003 66Z",fill:"#028851"})]}),(0,ae.jsx)("h3",{children:"Gain Weight"})]}),(0,ae.jsx)("div",{className:"membership--perk",children:(0,ae.jsx)("h3",{children:(0,ae.jsxs)("span",{children:[(0,ae.jsx)("sup",{children:"$"}),"25/",(0,ae.jsx)("small",{children:"month"})]})})}),(0,ae.jsx)("div",{className:"membership--perk--desc",children:(0,ae.jsxs)("ul",{children:[(0,ae.jsx)("li",{children:"- Diet Plan"}),(0,ae.jsx)("li",{children:"- Personalized Workouts"}),(0,ae.jsx)("li",{children:"- Flexible Scheduling"}),(0,ae.jsx)("li",{children:"- Expert Guidance"}),(0,ae.jsx)("li",{children:"- Progress Tracking"}),(0,ae.jsx)("li",{children:"- Reduced Costs"})]})}),(0,ae.jsx)("div",{className:"button--su",children:null!=(null===t||void 0===t?void 0:t.user)?(0,ae.jsx)(Dd.N_,{to:"/userregistration",children:(0,ae.jsx)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--meduim",type:"submit",children:"Join Now"})}):""})]}),(0,ae.jsxs)("div",{className:"membership--card",children:[(0,ae.jsxs)("div",{className:"membership--title w-100 ",children:[(0,ae.jsxs)("svg",{width:"90",height:"82",viewBox:"0 0 90 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ae.jsx)("path",{d:"M84.5076 5.89023C77.1844 -1.43298 65.2686 -1.43298 57.9452 5.89023C54.3976 9.43786 52.444 14.1546 52.444 19.1715C52.444 24.1885 54.3976 28.9052 57.9452 32.4526C59.7661 34.2737 61.8955 35.6734 64.215 36.6057C63.3999 37.7404 62.5671 38.5666 61.9394 39.0293C59.23 41.0274 56.8293 43.3757 54.8124 45.9743C54.5779 44.5697 54.1817 43.1749 53.6193 41.8123C51.2552 36.0848 46.4499 31.974 40.4351 30.5341L38.2496 30.011C38.2073 29.8307 38.1651 29.6505 38.1228 29.4678C35.6806 18.8955 26.8094 10.9044 16.0477 9.58282C15.0192 9.45664 14.0813 10.1884 13.9551 11.2178C13.8287 12.247 14.5607 13.184 15.5901 13.3103C24.7908 14.4404 32.3756 21.2731 34.4638 30.3131C35.423 34.4652 36.3913 38.0245 37.342 40.8922C37.6034 41.6805 38.3369 42.1796 39.1242 42.1796C39.3201 42.1796 39.5193 42.1486 39.7153 42.0836C40.6996 41.7573 41.2331 40.6946 40.9068 39.7103C40.3663 38.0802 39.818 36.2078 39.2673 34.1161L39.5608 34.1864C44.39 35.3425 48.2489 38.6443 50.1479 43.2452C52.0052 47.745 51.6178 52.6799 49.0855 56.7835C49.0079 56.9092 48.9289 57.0337 48.8479 57.1572C48.2795 58.0247 48.5218 59.1886 49.3893 59.757C49.7066 59.965 50.0636 60.0643 50.4168 60.0643C51.0288 60.0643 51.6287 59.7656 51.989 59.2156C52.0884 59.0641 52.1854 58.9112 52.2812 58.7565C53.3115 57.087 54.0568 55.308 54.5165 53.4746C56.6945 49.0525 60.0303 45.1036 64.1683 42.0521C65.5173 41.0576 66.8965 39.4773 68.0077 37.6809C69.0606 37.8617 70.1363 37.9541 71.2263 37.9541C72.4942 37.9541 73.7427 37.8288 74.9582 37.5851C73.3946 43.2178 72.0837 48.1472 71.0545 52.2683C68.6512 61.8888 62.2937 74.2092 56.6599 77.2164C55.4886 77.8417 54.4697 77.9966 53.5479 77.6885C26.4325 65.2588 20.9715 52.3915 19.882 47.4329C19.6757 46.4937 18.7984 45.8736 17.864 45.967C13.3195 44.8195 9.39706 42.0111 6.79882 38.0376C4.1067 33.9207 3.15749 28.9859 4.1266 24.1427C4.32996 23.1257 3.67068 22.1365 2.6537 21.9329C1.63708 21.73 0.647324 22.3889 0.443964 23.4058C-0.7193 29.2207 0.421243 35.1468 3.65566 40.093C6.69423 44.7395 11.2474 48.0592 16.5351 49.5007C17.4317 52.6089 19.464 57.0138 24.0179 62.085C30.3095 69.0912 39.7458 75.5022 52.0649 81.1402C52.1126 81.1621 52.1612 81.1818 52.2106 81.1995C52.9576 81.4684 53.7224 81.6025 54.5022 81.6025C55.7759 81.6025 57.0894 81.2442 58.4284 80.5295C62.5735 78.317 66.105 73.0801 68.3376 69.0764C71.088 64.1445 73.4062 58.35 74.6981 53.1785C75.8646 48.5079 77.397 42.7853 79.2539 36.1631C81.1803 35.2514 82.9559 34.0046 84.5076 32.4528C91.8309 25.1294 91.8309 13.2136 84.5076 5.89023ZM71.2265 34.1984C67.2127 34.1984 63.4391 32.6353 60.6009 29.7971C57.7627 26.9589 56.1997 23.1854 56.1997 19.1715C56.1997 15.1577 57.7627 11.384 60.6009 8.54593C63.5304 5.61646 67.3785 4.15163 71.2265 4.15163C75.0746 4.15163 78.9227 5.61646 81.8521 8.54574C87.7111 14.4049 87.7113 23.9382 81.8521 29.7971C79.0139 32.6353 75.2402 34.1984 71.2265 34.1984Z",fill:"#028851"}),(0,ae.jsx)("path",{d:"M67.7472 15.6922C65.8289 17.6106 65.8289 20.7321 67.7472 22.6508C68.7064 23.61 69.9664 24.0895 71.2263 24.0895C72.4863 24.0895 73.7463 23.61 74.7056 22.6508C76.6239 20.7323 76.6239 17.6107 74.7056 15.6924C72.7875 13.7739 69.6659 13.7739 67.7472 15.6922ZM72.0501 19.9951C71.5959 20.4491 70.857 20.4493 70.4029 19.9951C69.9487 19.5409 69.9487 18.802 70.4029 18.3478C70.63 18.1207 70.9283 18.0071 71.2267 18.0071C71.5249 18.0071 71.8233 18.1206 72.0503 18.3478C72.5041 18.802 72.5041 19.5409 72.0501 19.9951Z",fill:"#028851"}),(0,ae.jsx)("path",{d:"M80.8257 9.57228C75.5327 4.27929 66.9204 4.27929 61.6274 9.57228C56.3344 14.8653 56.3344 23.4776 61.6274 28.7705C64.2739 31.417 67.7502 32.7403 71.2267 32.7403C74.7031 32.7403 78.1792 31.417 80.8259 28.7705C86.1187 23.4776 86.1187 14.8653 80.8257 9.57228ZM78.1702 26.115C74.3415 29.9439 68.1118 29.9439 64.2831 26.115C60.4544 22.2863 60.4544 16.0567 64.2831 12.228C66.1975 10.3136 68.712 9.35653 71.2267 9.35653C73.7413 9.35653 76.2558 10.3136 78.1702 12.228C81.9989 16.0565 81.9989 22.2863 78.1702 26.115Z",fill:"#028851"})]}),(0,ae.jsx)("h4",{className:"fw-bold",children:"Proper Body Fitness"})]}),(0,ae.jsx)("div",{className:"membership--perk",children:(0,ae.jsx)("h3",{children:(0,ae.jsxs)("span",{children:[(0,ae.jsx)("sup",{children:"$"}),"48/",(0,ae.jsx)("small",{children:"month"})]})})}),(0,ae.jsx)("div",{className:"membership--perk--desc",children:(0,ae.jsxs)("ul",{children:[(0,ae.jsx)("li",{children:"- All Pro Amenites Included"}),(0,ae.jsx)("li",{children:"- Unlimited Team Training"}),(0,ae.jsx)("li",{children:"- Monthly Progress Meating"}),(0,ae.jsx)("li",{children:"- Personalized Eating Plan from a Certified Nutritionist"})]})}),(0,ae.jsx)("div",{className:"button--su",children:null!=(null===t||void 0===t?void 0:t.user)?(0,ae.jsx)(Dd.N_,{to:"/userregistration",children:(0,ae.jsx)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--meduim",type:"submit",children:"Join Now"})}):""})]})]})]})})}function Pd(){let e=(0,B.useRef)(null),t=(0,B.useRef)(null);(0,B.useRef)(null),(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.to(e,{duration:1,x:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}}),tc.to(t,{duration:1,x:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsx)("div",{className:"team",children:(0,ae.jsxs)("div",{className:"team--wrapper",children:[(0,ae.jsxs)("div",{className:"team--text",children:[(0,ae.jsx)("h2",{children:"Private Coaching"}),(0,ae.jsx)("h1",{children:"Meet Our Trainers "}),(0,ae.jsx)("p",{children:"All our personal trainers have over 20 years of experience combined."})]}),(0,ae.jsxs)("div",{className:"team--text",children:[(0,ae.jsx)("h2",{children:"Free Trial"}),(0,ae.jsx)("h1",{children:"Get 7 Days Trial"}),(0,ae.jsx)("p",{children:"You can work with each trainer for up to 7 days for free in order to see if they are a good fit for your goals."})]}),(0,ae.jsxs)("div",{className:"team--card",ref:t=>{e=t},children:[(0,ae.jsx)("p",{children:"Usman Samir"}),(0,ae.jsx)("img",{src:"https://res.cloudinary.com/dgaw5qfuo/image/upload/v1716320201/WhatsApp_Image_2024-05-22_at_12.33.46_AM_1_z4whtw.jpg",alt:"Trainer Sara",className:"team--image"})]}),(0,ae.jsxs)("div",{className:"team--card",ref:e=>{t=e},children:[(0,ae.jsx)("p",{children:"Carlos"}),(0,ae.jsx)("img",{src:"https://media.licdn.com/dms/image/C4D03AQE-RhkKZq1YOA/profile-displayphoto-shrink_800_800/0/1649928744051?e=2147483647&v=beta&t=smw4G3f4SJC88a7y68087gFaBktAbQt-aNHCeQwiCFg",alt:"Trainer Carlos",className:"team--image"})]})]})})}tc.registerPlugin(cd),tc.registerPlugin(cd);var Fd={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jd=B.createContext&&B.createContext(Fd),Ld=["attr","size","title"];function zd(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){Vd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gd(e){return e&&e.map(((e,t)=>B.createElement(e.tag,Wd({key:t},e.attr),Gd(e.child))))}function Hd(e){return t=>B.createElement(qd,Bd({attr:Wd({},e.attr)},t),Gd(e.child))}function qd(e){var t=t=>{var n,{attr:r,size:a,title:s}=e,o=zd(e,Ld),i=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),B.createElement("svg",Bd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Wd(Wd({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&B.createElement("title",null,s),e.children)};return void 0!==jd?B.createElement(jd.Consumer,null,(e=>t(e))):t(Fd)}function Kd(e){return Hd({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},child:[]}]})(e)}function Xd(e){return Hd({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Yd(e){return Hd({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(e)}const Zd=()=>{const[e,t]=(0,B.useState)([]),[n,r]=(0,B.useState)(1),[a,s]=(0,B.useState)(1);let[o,i]=(0,B.useState)("");(0,B.useEffect)((()=>{c(n)}),[n]);const c=async e=>{try{const{data:n}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/getcomments?page=").concat(e,"&limit=").concat(5));if(n.success){let e=n.comments;t((t=>[...e])),s(n.totalPages),console.log("Comments Get Successfully!",e)}else console.log("Comements not found")}catch(n){console.error("Error fetching comments:",n)}};return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{class:"container mt-5 mb-5",children:(0,ae.jsx)("div",{class:"row height d-flex justify-content-center align-items-center",children:(0,ae.jsx)("div",{class:"col-md-12",children:(0,ae.jsxs)("div",{class:"card mb-0",style:{backgroundColor:"#fff",border:"none"},children:[(0,ae.jsx)("div",{class:"p-3",children:(0,ae.jsx)("h3",{children:"Comments"})}),(0,ae.jsxs)("div",{class:"mt-3 d-flex flex-row align-items-center p-3 form-color",children:[(0,ae.jsx)("input",{type:"text",class:"form-control",value:o,onChange:e=>i(e.target.value),placeholder:"Enter your comment..."}),(0,ae.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-send-fill position-relative",style:{left:"-4%",top:"-12px",cursor:"pointer"},viewBox:"0 0 16 16",onClick:async e=>{e.preventDefault();try{const{data:e}=await xn.post("".concat("https://fitness-mernstack.onrender.com","/postcomment"),{comment:o},{withCredentials:!0});e.success?(pr.success("Comment Submited Successfully!"),c(n)):pr.error("Something went Wrong!")}catch(t){console.error("Error submitting comment:",t)}},children:(0,ae.jsx)("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"})})]}),(0,ae.jsx)("div",{class:"mt-2",children:e.length>0?e.map(((e,t)=>(0,ae.jsxs)("div",{class:"d-flex flex-row p-3",children:[(0,ae.jsx)(Xd,{className:"avatar border-gray bg-white text-black rounded-circle mr-3"}),(0,ae.jsxs)("div",{class:"w-100",children:[(0,ae.jsxs)("div",{class:"d-flex justify-content-between align-items-center",children:[(0,ae.jsxs)("div",{class:"d-flex flex-row align-items-center",children:[(0,ae.jsx)("span",{class:"mr-2",children:"Author: "}),(0,ae.jsx)("span",{children:null===e||void 0===e?void 0:e.author}),(0,ae.jsx)("small",{class:"c-badge",children:"Top Comment"})]}),(0,ae.jsx)("small",{children:null===e||void 0===e?void 0:e.createdAt})]}),(0,ae.jsx)("p",{class:"text-justify comment-text mb-0",children:null===e||void 0===e?void 0:e.text}),(0,ae.jsx)("div",{class:"d-flex flex-row user-feed",children:(0,ae.jsxs)("span",{class:"ml-3",children:[(0,ae.jsx)("i",{class:"fa fa-comments-o mr-2"}),"Reply"]})})]})]}))):""}),(0,ae.jsx)("div",{className:"text-center",children:5==e.length||e.length>5?(0,ae.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",className:"bi bi-plus-circle-fill text-center",style:{cursor:"pointer"},viewBox:"0 0 16 16",onClick:()=>{r((e=>++e)),c(n)},children:(0,ae.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"})}):""})]})})})})})};function $d(){return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Sd,{}),(0,ae.jsx)(Rd,{}),(0,ae.jsx)(Md,{}),(0,ae.jsx)(Pd,{}),(0,ae.jsx)(xd,{url:"https://youtu.be/rBUjOY12gJA?si=wcHzYV6w-Rq9rgjO"}),(0,ae.jsx)(Ad,{}),(0,ae.jsx)(Zd,{})]})}function Jd(){let e=(0,B.useRef)(null);(0,B.useEffect)((()=>{tc.to(e,{delay:.4,duration:1,x:"0",y:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete"}})}),[]);let t=(0,B.useRef)(null);(0,B.useEffect)((()=>{tc.to(t,{delay:.4,duration:1,x:"0",y:"0",opacity:1,stagger:.4,ease:"ease-in",scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]);let n=(0,B.useRef)([]);return(0,B.useEffect)((()=>{nc.to(n.current,{delay:.4,duration:1,y:"0",opacity:1,stagger:0,ease:"ease-in",scrollTrigger:{trigger:".why--container--wrapper",start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"faq--header",children:(0,ae.jsx)("h1",{children:"Trainers"})}),(0,ae.jsx)("div",{className:"fet--contain",children:(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"Why Fitnation Personal Trainers?"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsx)("div",{className:"",children:(0,ae.jsx)("p",{children:"Our trainers will develop a personalized training program that fits your body, lifestyle and budget. They are certified experts in exercise physiology, anatomy, training program development, fitness assessments and applications. They excel at applying this knowledge to help you achieve your goal and go further in life."})})]})}),(0,ae.jsxs)("div",{className:"welcome",children:[(0,ae.jsx)("img",{src:"https://aajatexas.org/wp-content/uploads/2019/05/470333845-56a2b67c5f9b58b7d0cdadd3.jpg",alt:"Fitnation gym",ref:t=>{e=t}}),(0,ae.jsxs)("div",{className:"welcome--headline",ref:e=>{t=e},children:[(0,ae.jsx)("h3",{children:"Welcome to Personal Training by Fitnation"}),(0,ae.jsxs)("p",{children:["Fitnation Personal Trainers are highly qualified and take pride in treating every member as an individual. We understand that different training methods suit different people so no matter what your level of fitness or experience, a Personal Trainer can tailor a program, show you best training practices and how to use gym equipment, inspiring and motivating you along the way."," "]}),(0,ae.jsx)("p",{children:"We have trainers who specialize in all areas of fitness including weight loss, injury rehabilitation, sports training, core and strength training. Working with a Personal Trainer is no doubt the fastest and safest way to get the results you want."}),(0,ae.jsx)("p",{children:(0,ae.jsx)("strong",{children:(0,ae.jsx)("em",{children:"For best results, choose Personal Training by Fitnation."})})})]})]}),(0,ae.jsxs)("div",{className:"why",children:[(0,ae.jsx)("h3",{children:"Why Personal Trainer"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsxs)("div",{className:"why--container",children:[(0,ae.jsxs)("div",{className:"why--container--wrapper",ref:e=>{n.current[0]=e},children:[(0,ae.jsx)("img",{className:"side-images",src:"https://images.unsplash.com/photo-1536922246289-88c42f957773?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=904&q=80",alt:"Fitnation gym"}),(0,ae.jsxs)("div",{className:"welcome--headline",children:[(0,ae.jsx)("h3",{children:"Our goal? Achieving yours"}),(0,ae.jsx)("p",{children:"With Personal Training, you get individual attention from an expert who will draw up a training plan customized to get you results. You will have an expert by your side all the way who is certified and equipped with the best tools and knowledge to help you get accelerated results."}),(0,ae.jsx)("p",{children:"At Fitnation, you learn from some of the best and most passionate trainers around; you get an education that can empower you to lead a healthy and fit lifestyle."})]})]}),(0,ae.jsxs)("div",{className:"why--container--wrapper",ref:e=>{n.current[1]=e},children:[(0,ae.jsx)("img",{className:"side-images",src:"https://t4.ftcdn.net/jpg/03/33/91/97/360_F_333919715_R1mDUWPgwB2CRvSCNnvnmtn64gPY40ZL.jpg",alt:"choose personal trainer by Fitnation"}),(0,ae.jsxs)("div",{className:"welcome--headline",children:[(0,ae.jsx)("h3",{children:"Benefits"}),(0,ae.jsx)("p",{children:"Results made personal! Get the results you want with professional, passionate and highly qualified experts who take your goals and aspirations personally."}),(0,ae.jsx)("p",{children:"Our trainers are all graduates of the Fitness First Asia Personal Training Foundation Programme where their know-how is reviewed, updated and assessed."})]})]})]})]}),(0,ae.jsx)("div",{className:"challenge",children:(0,ae.jsxs)("div",{className:"challenge--container",children:[(0,ae.jsxs)("div",{className:"challenge--headline",children:[(0,ae.jsx)("h3",{children:"Challenges"}),(0,ae.jsx)("p",{children:"Challenge yourself and your friends and make sure you to share your workout with us"})]}),(0,ae.jsxs)("div",{className:"middle",children:[(0,ae.jsxs)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--large",children:["View Challenges"," "]})," "]})]})}),(0,ae.jsxs)("div",{className:"refer",children:[(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"Our Personal Trainers"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsx)("div",{className:"refer--headline",children:(0,ae.jsx)("p",{children:"All our Personal Trainers are internationally accredited with male and female trainers from different nationalities to suit your preference."})})]}),(0,ae.jsx)("span",{className:"memb--but"})]})]})}function Qd(e){let{data:t}=e;const[n,r]=(0,B.useState)(0),a=t.length,s=()=>{r(n===a-1?0:n+1)};if(!Array.isArray(t)||t.length<=0)return null;(0,B.useEffect)((()=>{const e=setInterval(s,3e3);return()=>clearInterval(e)}),[n,a]);let o=(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.to(o,{delay:.4,duration:1,y:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:o,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsxs)("div",{className:"gallery--container",children:[(0,ae.jsxs)("div",{className:"gallery--header",children:[(0,ae.jsx)("h2",{children:"Gallery"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsxs)("div",{className:"anim",ref:e=>{o=e},children:[(0,ae.jsx)("p",{children:"Take a tour around our facility..."}),(0,ae.jsxs)("p",{children:["By looking through our gallery, you can see what you'll find at"," ",(0,ae.jsx)("strong",{children:"Fitzen Gym"}),". There's lots of equipment to check out and plenty of friendly faces too!"]})]}),(0,ae.jsx)("p",{})]}),(0,ae.jsxs)("section",{className:"slider",children:[(0,ae.jsx)("i",{className:"fas fa-chevron-left left-arrow",onClick:()=>{r(0===n?a-1:n-1)}}),(0,ae.jsx)("i",{className:"fas fa-chevron-right right-arrow",onClick:s}),Od.map(((e,t)=>(0,ae.jsx)("div",{className:t===n?"slide active":"slide",children:t===n&&(0,ae.jsx)("img",{src:e.image,alt:"Fitzen Gym",className:"image"})},t)))]})]})}function ep(){const[e,t]=(0,B.useState)(_d),[n,r]=(0,B.useState)(0),{company:a,dates:s,duties:o,title:i}=e[n];let c=(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.to(c,{delay:.4,duration:1,x:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:c,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"faq--header",children:(0,ae.jsx)("h1",{children:"Features"})}),(0,ae.jsx)("div",{className:"fet--contain",children:(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"What we offer"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsxs)("div",{className:"ani",ref:e=>{c=e},children:[(0,ae.jsxs)("p",{className:"top",children:["Effective ",(0,ae.jsx)("em",{children:"\u201cOld School\u201d "}),"equipment, not fancy, popular, or trendy."]}),(0,ae.jsx)("p",{children:"We have everything you need for an amazing body transformation!"}),(0,ae.jsxs)("p",{children:["We specialize in providing the equipment and coaching for"," ",(0,ae.jsx)("span",{children:"Strongman"}),", ",(0,ae.jsx)("span",{children:"Powerlifting"}),","," ",(0,ae.jsx)("span",{children:"Olympic Weightlifting"}),", and",(0,ae.jsx)("span",{children:" Arm Sports"}),"."]})]})]})}),(0,ae.jsx)(Qd,{data:Od}),(0,ae.jsx)("section",{className:"section",children:(0,ae.jsxs)("div",{className:"jobs-center",children:[(0,ae.jsx)("div",{className:"btn-container",children:e.map(((e,t)=>(0,ae.jsx)("button",{onClick:()=>r(t),className:"job-btn ".concat(t===n&&"active-btn"),children:e.company},e.id)))}),(0,ae.jsxs)("div",{className:"job-info",children:[(0,ae.jsx)("h3",{children:i}),o.map(((e,t)=>(0,ae.jsxs)("div",{className:"job-desc",children:[(0,ae.jsx)("i",{className:"fas fa-angle-double-right job-icon"}),(0,ae.jsx)("p",{children:e})]},t)))]})]})})]})}function tp(){let[e,t]=Nn(),n=(0,B.useRef)([]);(0,B.useEffect)((()=>{nc.to(n.current,{delay:.4,duration:1,y:"0",opacity:1,stagger:.4,ease:"ease-in",scrollTrigger:{trigger:".plan--info",start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]);let r=(0,B.useRef)(null);(0,B.useEffect)((()=>{tc.to(r,{delay:.4,duration:1,x:"0",y:"0",opacity:1,ease:"ease-in",scrollTrigger:{trigger:r,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete"}})}),[]);let a=(0,B.useRef)(null);(0,B.useEffect)((()=>{tc.to(a,{delay:.4,duration:1,x:"0",y:"0",opacity:1,stagger:.4,ease:"ease-in",scrollTrigger:{trigger:a,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]);let s=(0,B.useRef)(null);(0,B.useEffect)((()=>{tc.to(s,{delay:.4,duration:1,y:"0",opacity:1,stagger:.4,ease:"ease-in",scrollTrigger:{trigger:s,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]);let o=(0,B.useRef)(null);return(0,B.useEffect)((()=>{tc.from(o,{delay:.4,duration:1,y:"0",x:"0",opacity:0,scale:.5,ease:"ease-in",scrollTrigger:{trigger:o,start:"top 90%",end:"bottom 60%",toggleActions:"restart complete "}})}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"faq--header",children:(0,ae.jsx)("h1",{children:"Plans"})}),(0,ae.jsx)("div",{className:"fet--contain",children:(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"Why Fitnation?"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsx)("div",{className:"",children:(0,ae.jsx)("p",{children:"FitNation is the best choice for your fitness journey because it offers state-of-the-art equipment, diverse classes, and a welcoming community. Our certified trainers provide personalized guidance, ensuring you reach your goals efficiently and safely. With flexible membership options and a supportive environment, FitNation makes it easy for everyone to stay motivated and achieve their best health. Join us today to experience the difference!"})})]})}),(0,ae.jsxs)("div",{className:"plan__container",children:[(0,ae.jsxs)("div",{className:"plan--info",ref:e=>{n.current[0]=e},children:[(0,ae.jsx)("h4",{children:"Consistent Results"}),(0,ae.jsx)("p",{children:"Give your body the attention it's been craving by staying active, consistent, and most importantly, patient. Do the workout to see the results."})]}),(0,ae.jsxs)("div",{className:"plan--info",ref:e=>{n.current[1]=e},children:[(0,ae.jsx)("h4",{children:"Contagious Enthusiasm"}),(0,ae.jsx)("p",{children:"Enjoying your workout is only part of the journey with us! Train with the latest fitness technologies and our up to speed health programs crafted for each member. After all, enthusiasm is a language we all speak, why not make it a daily staple?"})]}),(0,ae.jsxs)("div",{className:"plan--info",ref:e=>{n.current[2]=e},children:[(0,ae.jsx)("h4",{children:"Sheer Convenience"}),(0,ae.jsx)("p",{children:"Fitnation Gym is not your average health club; our membership plans, personal training programs, and the International Passport system gives you the utmost accessibility and satisfaction. Join one to join them all, experience convenience and practicality at its peak."})]})]}),(0,ae.jsx)("div",{className:"join-us",children:(0,ae.jsxs)("div",{className:"joinus--container",children:[(0,ae.jsx)("img",{src:"https://sm.askmen.com/t/askmen_in/photo/default/askmen-coolestgym-th_fmq6.h720.jpg",alt:"membership",ref:e=>{r=e}}),(0,ae.jsxs)("div",{className:"joinus--headline",ref:e=>{a=e},children:[(0,ae.jsx)("h3",{children:"How to Join"}),(0,ae.jsx)("p",{children:"Apply online and activate your Fitnation memberships in minutes to train for the future. Our memberships are your shortcut to your fitness ambitions."}),null==(null===e||void 0===e?void 0:e.user)?(0,ae.jsx)(Dd.N_,{to:"/userregistration",children:(0,ae.jsxs)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--large",children:["Join Us"," "]})}):""]})]})}),(0,ae.jsxs)("div",{className:"plans--ben",ref:e=>{s=e},children:[(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"Membership Benefits"}),(0,ae.jsx)("div",{className:"underline"})]}),(0,ae.jsxs)("div",{className:"plans--ben--cont",children:[(0,ae.jsxs)("div",{className:"plans-b",children:[(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"+500 Group Exercise Classes monthly"]}),(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Access to the latest Fitness Innovations & Exclusive Programs"]})]}),(0,ae.jsxs)("div",{className:"plans-b",children:[(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"15+ Certified Personal Trainers"]}),(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Access to Good Vibes App with 40+ Partner Discounts"]})]}),(0,ae.jsxs)("div",{className:"plans-b",children:[(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"2 Getting You Started Personal Training Sessions"]}),(0,ae.jsxs)("p",{children:[(0,ae.jsx)("i",{className:"fas fa-check-circle"}),"Over 50+ Kids Classes"]})]})]}),(0,ae.jsx)("span",{className:"memb--but",children:null==(null===e||void 0===e?void 0:e.user)?(0,ae.jsx)(Dd.N_,{to:"/userregistration",children:(0,ae.jsxs)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--large",children:["Join Us"," "]})}):""})]}),(0,ae.jsx)(Md,{}),(0,ae.jsxs)("div",{className:"refer",ref:e=>{o=e},children:[(0,ae.jsxs)("div",{className:"title",children:[(0,ae.jsx)("h2",{children:"Refer a Friend"}),(0,ae.jsx)("div",{className:"underline"}),(0,ae.jsx)("div",{className:"refer--headline",children:(0,ae.jsx)("p",{children:"Whether it's competitive camaraderie or a calorie burning catch up, working out together gives you a shared high that creates a reason to come back for more. Your friends keep you accountable for your workout every time, meaning you'll go further in the gym, and in life."})})]}),(0,ae.jsx)("span",{className:"memb--but",children:null==(null===e||void 0===e?void 0:e.user)?(0,ae.jsxs)(Dd.N_,{to:"/userregistration",children:[(0,ae.jsxs)(Nd,{buttonStyle:"btn--primary",buttonSize:"btn--large",children:["Join Us"," "]})," "]}):""})]})]})}function np(e){let{title:t,info:n}=e;const[r,a]=(0,B.useState)(!1);return(0,ae.jsx)("div",{className:"container--question",children:(0,ae.jsxs)("div",{className:"question",children:[(0,ae.jsxs)("header",{children:[(0,ae.jsx)("h4",{children:t}),(0,ae.jsxs)("span",{className:"butt",children:[(0,ae.jsx)(Nd,{buttonStyle:"btn--secondary",className:"btn",buttonSize:"btn_small",onClick:()=>a(!r),children:r?(0,ae.jsx)("i",{className:"fas fa-angle-up"}):(0,ae.jsx)("i",{className:"fas fa-angle-down"})})," "]})]}),r&&(0,ae.jsx)("p",{children:n})]})})}function rp(){return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"faq--header",children:(0,ae.jsx)("h1",{children:"FAQs"})}),(0,ae.jsx)("nav",{className:"faq--navbar",children:(0,ae.jsxs)("ul",{children:[(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"../FAQs#member",children:"Membership"})}),(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"../FAQs#gym",children:"Gym"})}),(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"../FAQs#goodvibes",children:"Good Vibes"})})]})}),(0,ae.jsxs)("main",{className:"cont-aal",children:[(0,ae.jsx)("div",{className:"main--data",id:"member",children:(0,ae.jsxs)("div",{className:"container--faq",children:[(0,ae.jsx)("h3",{children:"Membership"}),(0,ae.jsx)("section",{className:"info",children:Td.map((e=>(0,ae.jsx)(np,{title:e.title,info:e.info,...e},e.id)))})]})}),(0,ae.jsx)("div",{className:"main--data",id:"gym",children:(0,ae.jsxs)("div",{className:"container--faq ",children:[(0,ae.jsx)("h3",{children:"Gym"}),(0,ae.jsx)("section",{className:"info",children:Ed.map((e=>(0,ae.jsx)(np,{title:e.title,info:e.info,...e},e.id)))})]})}),(0,ae.jsx)("div",{className:"main--data",id:"goodvibes",children:(0,ae.jsxs)("div",{className:"container--faq ",children:[(0,ae.jsx)("h3",{children:"Good Vibes"}),(0,ae.jsx)("section",{className:"info",children:Id.map((e=>(0,ae.jsx)(np,{title:e.title,info:e.info,...e},e.id)))})]})})]})]})}function ap(){return(0,ae.jsxs)("div",{className:"footer h-auto bg-black ",children:[(0,ae.jsxs)("div",{className:"footer--wrapper",children:[(0,ae.jsxs)("div",{className:"footer--desc",children:[(0,ae.jsxs)("h2",{children:[(0,ae.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ae.jsx)("g",{clipPath:"url(#clip0)",children:(0,ae.jsx)("path",{d:"M44.412 17.9484L47.7148 14.7109C47.882 14.5436 47.9901 14.2878 47.9901 14.0319C47.9901 13.7663 47.8918 13.5203 47.705 13.3333L44.3628 9.98764L47.705 6.71085C47.8918 6.52387 47.9999 6.27787 47.9999 6.0122C47.9999 5.74652 47.9016 5.50052 47.7148 5.31354L42.6918 0.285344C42.505 0.0983607 42.2593 0 41.9939 0C41.7285 0 41.4827 0.108197 41.2959 0.29518L38.0225 3.64082L34.6803 0.29518C34.4936 0.108197 34.238 0.00983607 33.9824 0.00983607C33.717 0.00983607 33.4712 0.118033 33.2845 0.305016L30.0504 3.61131L26.7475 0.305016C26.3641 -0.0787869 25.7448 -0.0787869 25.3615 0.305016L20.3383 5.33331C20.1515 5.5203 20.0533 5.7663 20.0533 6.03197C20.0533 6.29764 20.1614 6.54364 20.3383 6.73062L27.6617 14.0615L14.0668 27.6703L6.74341 20.3394C6.55662 20.1524 6.31092 20.0541 6.04544 20.0541C5.78006 20.0541 5.53426 20.1623 5.34747 20.3394L0.304721 25.3284C-0.0786885 25.7122 -0.0786885 26.332 0.304721 26.7158L3.60757 30.0221L0.294885 33.2496C0.108098 33.4366 0 33.6826 0 33.9483C0 34.214 0.0982623 34.46 0.285049 34.6469L3.64692 38.0123L0.304721 41.2891C0.117934 41.476 0.00983606 41.722 0.00983606 41.9877C0.00983606 42.2534 0.108098 42.4994 0.294885 42.6864L5.31806 47.7147C5.50485 47.9016 5.75056 48 6.01603 48C6.28141 48 6.52721 47.8918 6.714 47.7048L9.98744 44.3592L13.3198 47.695C13.5066 47.882 13.7523 47.9803 14.0178 47.9803C14.2832 47.9803 14.5289 47.8721 14.7157 47.6852L17.9695 44.3887L21.2822 47.7048C21.4788 47.9016 21.7245 47.9902 21.9802 47.9902C22.2357 47.9902 22.4815 47.8918 22.6781 47.7048L27.7013 42.6765C28.0847 42.2927 28.0847 41.6729 27.7013 41.2891L20.378 33.9581L33.9729 20.3492L41.2962 27.6802C41.4928 27.877 41.7385 27.9655 41.9942 27.9655C42.2498 27.9655 42.4955 27.8671 42.6922 27.6802L47.7153 22.6519C47.9021 22.4649 48.0004 22.2189 48.0004 21.9532C48.0004 21.6875 47.8923 21.4415 47.7153 21.2546L44.412 17.9484ZM41.9939 2.37148L45.6113 5.99262L42.9671 8.59043L41.1878 6.80941L39.4086 5.02839L41.9939 2.37148ZM33.9726 2.37148L45.6113 14.0124L43.0063 16.5807L31.4168 4.97911L33.9726 2.37148ZM6.01603 45.6285L2.39862 42.0074L5.04285 39.4096L8.61118 42.9815L6.01603 45.6285ZM14.0176 45.6187L10.6852 42.2829L5.74072 37.3333L2.38869 33.9778L5.00351 31.4292L10.7934 37.225L16.5931 43.0306L14.0176 45.6187ZM25.6072 42.0074L21.98 45.6384L18.6673 42.3222L5.70138 29.3431L2.38869 26.027L6.01593 22.396L25.6072 42.0074ZM18.9817 32.5806L15.4232 29.0185L29.0182 15.4096L32.5766 18.9717L18.9817 32.5806ZM41.9841 25.604L33.835 17.4465L29.7162 13.3235L22.3928 5.99262L26.02 2.36164L29.3327 5.67777L42.2985 18.6569L45.6112 21.973L41.9841 25.604Z",fill:"white"})}),(0,ae.jsx)("defs",{children:(0,ae.jsx)("clipPath",{id:"clip0",children:(0,ae.jsx)("rect",{width:"48",height:"48",fill:"white"})})})]}),"Fitnation"]}),(0,ae.jsx)("p",{children:"Luxury Fitness guidance "}),(0,ae.jsx)("p",{id:"phone",children:"+92-3072521060"}),(0,ae.jsx)("p",{id:"phone",children:"+92-3121710449"})]}),(0,ae.jsxs)("div",{className:"footer--links",children:[(0,ae.jsx)("div",{className:"footer--title",children:(0,ae.jsx)("h4",{children:"Contact Us"})}),(0,ae.jsx)("a",{href:"/",className:"footer--link",children:"Contact"}),(0,ae.jsx)("a",{href:"/",className:"footer--link",children:"Support"})]})]}),(0,ae.jsxs)("div",{className:"footer--wrapper",children:[(0,ae.jsxs)("div",{className:"footer--links",children:[(0,ae.jsxs)("div",{className:"footer--title",children:[(0,ae.jsx)("h4",{children:"Memberships"})," "]}),(0,ae.jsx)("a",{href:"/Features",className:"footer--link",children:"Features"}),(0,ae.jsx)("a",{href:"/Plans",className:"footer--link",children:"Plans"}),(0,ae.jsx)("a",{href:"/FAQs",className:"footer--link",children:"FAQs"})]}),(0,ae.jsxs)("div",{className:"footer--links",children:[(0,ae.jsx)("div",{className:"footer--title",children:(0,ae.jsx)("h4",{children:"Social Media"})}),(0,ae.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"footer--link",children:"Instagram"})]})]})]})}tc.registerPlugin(cd),tc.registerPlugin(cd),tc.registerPlugin(cd),tc.registerPlugin(cd);const sp={wrapper:{minHeight:"70vh",display:"flex",background:"white",backgroundSize:"cover",marginTop:"85px",backgroundImage:"url('https://images.unsplash.com/photo-1605296867304-46d5465a13f1?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},inner:{minWidth:"850px",margin:"auto",display:"flex"},form:{width:"100%",paddingTop:"63px",paddingLeft:"20px",paddingRight:"20px",margin:"0px auto",backgroundSize:"cover"},formWrapper:{color:"#fff",display:"flex",alignItems:"center",marginBottom:"16px"},formPrice:{marginBottom:"19px"},formSelect:{marginBottom:"10px"},formHolder:{position:"relative"},formControl:{width:"67.08%",height:"25px",width:"80%",display:"block",fontSize:"13px",border:"none",borderBottom:"1px solid #6967a1",background:"none",color:"#fff",padding:"0",outline:"none"},selectFormControl:{width:"30px",border:"none",fontSize:"15px",cursor:"pointer",transform:"translateY(-1px)"},button:{height:"42px",width:"191px",display:"inline-flex",alignItems:"center",justifyContent:"center",border:"none",fontSize:"15px",color:"#fff",marginTop:"24px",transition:"all 0.5s ease",backgroundImage:"linear-gradient(to right, #cb6e7a 0%, #be6779 12%, #ae5e77 23%, #42236b 78%, #321a69 88%, #251368 100%)"},imageHolder:{width:"50%",maxHeight:"550px"},h3:{fontSize:"44px",textAlign:"center",marginBottom:"38px",color:"white",fontFamily:'"Jacquard 12", system-ui'},inputcontainer:{},inputlabel:{width:"20%"},inputtag:{width:"80%"}},op=()=>{const[e,t]=(0,B.useState)({full_name:"",email:"",phone:"",plantype:"",currentweight:"",height:"",dob:"",description:"",password:""}),[n,r]=(0,B.useState)(null),[a,s]=(0,B.useState)(null),[o,i]=(0,B.useState)(0),[c,l]=(0,B.useState)(0),[u,d]=(0,B.useState)(""),[p,h]=(0,B.useState)(!1),f=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r,gainupto:c,looseupto:o,file:a}))),console.log(o," ",c)},m=e=>{const{name:t,value:n}=e.target;console.log(t,n),"looseweight"===t?(i(n),l(0)):"gainweight"===t&&(l(n),i(0))};return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{style:sp.wrapper,children:(0,ae.jsxs)("div",{style:sp.inner,children:[(0,ae.jsxs)("form",{style:sp.form,className:" position-relative",onSubmit:async n=>{n.preventDefault();try{if(e.age<0||e.currentweight<0||e.dob>new Date||e.phone<0||e.height<0||c<0||o<0)return void pr.error("PLease Enter Valid Details!");h(!0),t((e=>({...e,file:a})));const n=await xn.post("".concat("https://fitness-mernstack.onrender.com","/api/create-user"),e,{headers:{"Content-Type":"multipart/form-data"}});n.data.success?(pr.success("Check Your Email to Verify!"),h(!1),console.log(n.data)):(pr.error(n.data.message),h(!1),console.log(n.data))}catch(i){var r,s;pr.error(null===i||void 0===i||null===(r=i.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message),h(!1),console.error("There was an error registering the user!",i)}},children:[(0,ae.jsx)("div",{className:"overlay position-absolute"}),(0,ae.jsxs)("div",{className:" position-relative",style:{zIndex:"1001"},children:[(0,ae.jsx)("h3",{style:sp.h3,children:"Registration Form"}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Name"}),(0,ae.jsx)("input",{className:"inputtag",type:"text",name:"full_name",value:e.full_name,onChange:f,required:!0,style:sp.formControl})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Email"}),(0,ae.jsx)("input",{className:"inputtag",type:"email",name:"email",value:e.email,onChange:f,required:!0,style:sp.formControl})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Phone"}),(0,ae.jsx)("input",{className:"inputtag",type:"text",name:"phone",value:e.phone,onChange:f,required:!0,style:sp.formControl})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Password"}),(0,ae.jsx)("input",{className:"inputtag",type:"password",name:"password",value:e.password,onChange:f,required:!0,style:sp.formControl})]}),(0,ae.jsx)("label",{htmlFor:"",className:" text-white ",children:"Choose Plan"}),(0,ae.jsxs)("div",{className:"d-flex flex-wrap justify-content-around ",children:[(0,ae.jsxs)("div",{className:"form-check ",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"plantype",id:"loseWeight",value:"lose-weight",onClick:()=>d(1),onChange:f,required:!0}),(0,ae.jsx)("label",{className:"form-check-label text-white",htmlFor:"loseWeight",children:"Lose Weight -$18"})]}),(0,ae.jsxs)("div",{className:"form-check ms-1 ",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"plantype",id:"gainWeight",value:"gain-weight",onClick:()=>d(2),onChange:f,required:!0}),(0,ae.jsx)("label",{className:"form-check-label text-white",htmlFor:"gainWeight",children:"Gain Weight -$25"})]}),(0,ae.jsxs)("div",{className:"form-check",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"plantype",id:"both",value:"fitness",onClick:()=>d(3),onChange:f,required:!0}),(0,ae.jsx)("label",{className:"form-check-label text-white",htmlFor:"both",children:"proper Body Fitness -$48"})]})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Weight in kg"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",name:"currentweight",value:e.currentweight,onChange:f,required:!0,style:sp.formControl})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Height in Feet"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",name:"height",value:e.height,onChange:f,required:!0,style:sp.formControl})]}),3===u?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("h4",{className:" text-white ",children:"Please Type in one of the Input of reduce or gain weight!"}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Reduce up to"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",style:sp.formControl,value:o,name:"looseweight",onChange:m,required:!0})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Gain up to"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",style:sp.formControl,value:c,name:"gainweight",onChange:m,required:!0})]})]}):1===u?(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Reduce up to"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",style:sp.formControl,name:"looseweight",value:o,onChange:m,required:!0})]}):2===u?(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Gain up to"}),(0,ae.jsx)("input",{className:"inputtag",type:"number",style:sp.formControl,value:c,name:"gainweight",onChange:m,required:!0})]}):null,(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"DOB:"}),(0,ae.jsx)("input",{type:"date",id:"birthDate",name:"dob",value:e.dob,onChange:f,className:"inputtag text-white ",style:sp.formControl,required:!0}),(0,ae.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-calendar-date",viewBox:"0 0 16 16",style:{position:"relative",left:"-3%",top:"-15px",zIndex:"-1"},children:[(0,ae.jsx)("path",{d:"M6.445 11.688V6.354h-.633A13 13 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23"}),(0,ae.jsx)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"})]})]}),(0,ae.jsxs)("div",{style:sp.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:sp.inputlabel,children:"Description"}),(0,ae.jsx)("textarea",{style:{...sp.formControl,height:"69px"},name:"description",value:e.description,onChange:f,required:!0})]}),(0,ae.jsx)("span",{children:"Acount Detail : "}),(0,ae.jsxs)("p",{className:"text-white mb-0",children:[(0,ae.jsx)("b",{children:"Hbl"})," ",(0,ae.jsx)("br",{}),"Acount Title: Umer Nazir"]}),(0,ae.jsx)("p",{className:" text-white mb-0",children:" Acount Number: 50517992131103"}),(0,ae.jsx)("br",{}),(0,ae.jsx)("label",{className:"inputlabel w-100 text-white",style:sp.inputlabel,children:"Please Upload Picture Of Your Payment Transaction"}),(0,ae.jsx)("input",{style:{...sp.formControl,height:"69px"},name:"description",type:"file",className:" border-0 mb-0",accept:".jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];s(t);const n=new FileReader;n.onload=()=>{2===n.readyState&&r(n.result)}},required:!0}),p?(0,ae.jsx)("button",{style:sp.button,className:" mb-2 ",children:(0,ae.jsx)("div",{class:"spinner-border",role:"status",children:(0,ae.jsx)("span",{class:"sr-only",children:"Loading..."})})}):(0,ae.jsx)("button",{style:sp.button,className:" mb-2 ",children:"Submit"})]})]}),(0,ae.jsx)("div",{style:sp.imageHolder,className:" d-none ",children:(0,ae.jsx)("img",{src:"https://png.pngtree.com/thumb_back/fh260/background/20240119/pngtree-man-exercise-with-dumbbell-gym-bodybuilder-fitness-related-design-image_15612541.jpg",alt:"Registration Form",className:" h-100 w-100 "})})]})})})};var ip=n(5455);function cp(e){return Hd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"56",r:"56"},child:[]},{tag:"path",attr:{d:"M437 128H75a27 27 0 0 0 0 54h101.88c6.91 0 15 3.09 19.58 15 5.35 13.83 2.73 40.54-.57 61.23l-4.32 24.45a.42.42 0 0 1-.12.35l-34.6 196.81A27.43 27.43 0 0 0 179 511.58a27.06 27.06 0 0 0 31.42-22.29l23.91-136.8S242 320 256 320c14.23 0 21.74 32.49 21.74 32.49l23.91 136.92a27.24 27.24 0 1 0 53.62-9.6L320.66 283a.45.45 0 0 0-.11-.35l-4.33-24.45c-3.3-20.69-5.92-47.4-.57-61.23 4.56-11.88 12.91-15 19.28-15H437a27 27 0 0 0 0-54z"},child:[]}]})(e)}function lp(e){return Hd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M305.975 298.814l22.704 2.383V486l-62.712-66.965V312.499l18.214 8.895zm-99.95 0l-22.716 2.383V486l62.711-66.965V312.499l-18.213 8.895zm171.98-115.78l7.347 25.574-22.055 14.87-1.847 26.571-25.81 6.425-10.803 24.314-26.46-2.795-18.475 19.087L256 285.403l-23.902 11.677-18.475-19.15-26.46 2.795-10.803-24.313-25.81-6.363-1.847-26.534-22.118-14.92 7.348-25.573-15.594-21.544 15.644-21.52-7.398-25.523 22.068-14.87L150.5 73.03l25.86-6.362 10.803-24.313 26.46 2.794L232.098 26 256 37.677 279.902 26l18.475 19.149 26.46-2.794 10.803 24.313 25.81 6.425 1.847 26.534 22.055 14.87-7.347 25.574 15.656 21.407zm-49.214-21.556a72.242 72.242 0 1 0-72.242 72.242 72.355 72.355 0 0 0 72.242-72.242zm-72.242-52.283a52.282 52.282 0 1 0 52.282 52.283 52.395 52.395 0 0 0-52.282-52.245z"},child:[]}]})(e)}function up(e){return Hd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function dp(e){return Hd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(e)}const pp=e=>{let{setClick:t,name:n,setCount:r,handleupdation:a}=e;return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"overlay"}),(0,ae.jsx)("div",{className:"limiter overlay-content",children:(0,ae.jsx)("div",{class:"container-login100",children:(0,ae.jsx)("div",{class:"wrap-login100",children:(0,ae.jsxs)("form",{class:"login100-form validate-form",children:[(0,ae.jsx)(dp,{style:{top:"2%",right:"3%"},className:" position-absolute fs-3 ",onClick:()=>t(!1)}),(0,ae.jsxs)("span",{class:"login100-form-title p-b-26 fs-5",style:{fontFamily:"sans-serif"},children:["Update ",n," value"," "]}),(0,ae.jsx)("span",{class:"login100-form-title p-b-48",children:(0,ae.jsx)("i",{class:"zmdi zmdi-font"})}),(0,ae.jsxs)("div",{class:"wrap-input100 validate-input","data-validate":"Valid email is: a@b.c",children:[(0,ae.jsx)("input",{class:"input100 border-0 mb-0",type:"number",name:"count",required:!0,onChange:e=>r(e.target.value)}),(0,ae.jsx)("span",{class:"focus-input100","data-placeholder":"Count"})]}),(0,ae.jsx)("button",{className:" btn btn-success text-center",onClick:e=>a(e),children:"update"})]})})})}),(0,ae.jsx)("div",{id:"dropDownSelect1"})]})};let hp=(0,B.createContext)();const fp=e=>{let{children:t}=e,[n,r]=(0,B.useState)([]);return(0,B.useEffect)((()=>{!async function(){console.log("Context Hook Function RUn!");try{const{data:e}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/api/dietplans"),{withCredentials:!0});e.success&&(r((t=>[...e.dietplans])),console.log("dietplans data get successfully!",e))}catch(e){console.log("Diet Plans error",e)}}()}),[]),(0,ae.jsx)(hp.Provider,{value:[n,r],children:t})};let mp=()=>(0,B.useContext)(hp);var gp=n(8139),yp=n.n(gp);const bp=["xxl","xl","lg","md","sm","xs"],vp=B.createContext({prefixes:{},breakpoints:bp}),{Consumer:xp,Provider:wp}=vp;function kp(e,t){const{prefixes:n}=(0,B.useContext)(vp);return e||n[t]||t}function Np(){const{breakpoints:e}=(0,B.useContext)(vp);return e}const Sp=B.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r,as:a="div",className:s,...o}=e;const i=kp(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,ae.jsx)(a,{ref:t,...o,className:yp()(s,r?"".concat(i).concat(c):i)})}));Sp.displayName="Container",Sp.defaultProps={fluid:!1};const Cp=Sp,Tp=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...s}=e;const o=kp(n,"row"),i=Np(),c="".concat(o,"-cols"),l=[];return i.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r="xs"!==e?"-".concat(e):"";null!=n&&l.push("".concat(c).concat(r,"-").concat(n))})),(0,ae.jsx)(a,{ref:t,...s,className:yp()(r,o,...l)})}));Tp.displayName="Row";const Ep=Tp;const Ip=B.forwardRef(((e,t)=>{const[{className:n,...r},{as:a="div",bsPrefix:s,spans:o}]=function(e){let{as:t,bsPrefix:n,className:r,...a}=e;n=kp(n,"col");const s=Np(),o=[],i=[];return s.forEach((e=>{const t=a[e];let r,s,c;delete a[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const l="xs"!==e?"-".concat(e):"";r&&o.push(!0===r?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(r)),null!=c&&i.push("order".concat(l,"-").concat(c)),null!=s&&i.push("offset".concat(l,"-").concat(s))})),[{...a,className:yp()(r,...o,...i)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,ae.jsx)(a,{...r,ref:t,className:yp()(n,!o.length&&s)})}));Ip.displayName="Col";const _p=Ip;var Op=/-(.)/g;const Ap=e=>e[0].toUpperCase()+function(e){return e.replace(Op,(function(e,t){return t.toUpperCase()}))}(e).slice(1);function Rp(e){let{displayName:t=Ap(e),Component:n,defaultProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=B.forwardRef(((t,r)=>{let{className:a,bsPrefix:s,as:o=n||"div",...i}=t;const c=kp(s,e);return(0,ae.jsx)(o,{ref:r,className:yp()(a,c),...i})}));return a.defaultProps=r,a.displayName=t,a}const Dp=e=>B.forwardRef(((t,n)=>(0,ae.jsx)("div",{...t,ref:n,className:yp()(t.className,e)}))),Mp=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:a,as:s="img",...o}=e;const i=kp(n,"card-img");return(0,ae.jsx)(s,{ref:t,className:yp()(a?"".concat(i,"-").concat(a):i,r),...o})}));Mp.displayName="CardImg";const Pp=Mp,Fp=B.createContext(null);Fp.displayName="CardHeaderContext";const jp=Fp,Lp=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...s}=e;const o=kp(n,"card-header"),i=(0,B.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,ae.jsx)(jp.Provider,{value:i,children:(0,ae.jsx)(a,{ref:t,...s,className:yp()(r,o)})})}));Lp.displayName="CardHeader";const zp=Lp,Bp=Dp("h5"),Up=Dp("h6"),Wp=Rp("card-body"),Vp=Rp("card-title",{Component:Bp}),Gp=Rp("card-subtitle",{Component:Up}),Hp=Rp("card-link",{Component:"a"}),qp=Rp("card-text",{Component:"p"}),Kp=Rp("card-footer"),Xp=Rp("card-img-overlay"),Yp=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:a,text:s,border:o,body:i,children:c,as:l="div",...u}=e;const d=kp(n,"card");return(0,ae.jsx)(l,{ref:t,...u,className:yp()(r,d,a&&"bg-".concat(a),s&&"text-".concat(s),o&&"border-".concat(o)),children:i?(0,ae.jsx)(Wp,{children:c}):c})}));Yp.displayName="Card",Yp.defaultProps={body:!1};const Zp=Object.assign(Yp,{Img:Pp,Title:Vp,Subtitle:Gp,Body:Wp,Link:Hp,Text:qp,Header:zp,Footer:Kp,ImgOverlay:Xp});const $p=function(){var e,t;let{auth:n}=Nn(),[r]=mp(),[a,s]=(0,B.useState)([1,2,3,4]),[o,i]=(0,B.useState)(!1),[c,l]=(0,B.useState)();const[u,d]=(0,B.useState)(0),[p,h]=(0,B.useState)(0),[f,m]=(0,B.useState)(0),[g,y]=(0,B.useState)(0),[b,v]=(0,B.useState)(null),[x,w]=(0,B.useState)([]);let[k,N]=(0,B.useState)(""),[S,C]=(0,B.useState)(0);async function T(e,t){i(!0),N(e),C(t)}return(0,B.useEffect)((()=>{(async()=>{try{const{data:a}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/api/getprogress"),{withCredentials:!0});var e,t,n,r;a.success?(d(null===a||void 0===a||null===(e=a.progress)||void 0===e?void 0:e.stepcovered),h(null===a||void 0===a||null===(t=a.progress)||void 0===t?void 0:t.caloriesburned),m(null===a||void 0===a||null===(n=a.progress)||void 0===n?void 0:n.activeexercise),y(null===a||void 0===a||null===(r=a.progress)||void 0===r?void 0:r.achievement),console.log("progress is:",a.progress)):pr.error("Something went wrong PLeasee reload")}catch(a){console.log("Error fetching progress:",a),pr.error("Server Side Problem !")}})(),async function(e){try{const{data:e}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/getexercise"),{withCredentials:!0});e.success?v(e.exercises):console.log("data is:",e)}catch(t){console.log("Error fetching exercise data:",t)}}(),async function(){try{const e=await xn.get("".concat("https://fitness-mernstack.onrender.com","/api/user-performance"),{withCredentials:!0});e.data.success&&(console.log("lastdays progress is:",e.data),w(e.data.userperformance))}catch(e){console.log(e),pr.error("Network Problem please Reload")}}(),console.log("",r)}),[]),(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(Cp,{fluid:!0,children:[(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{lg:"3",sm:"6",children:(0,ae.jsxs)(Zp,{className:"card-stats",children:[(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{xs:"5",children:(0,ae.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,ae.jsx)(Yd,{})})}),(0,ae.jsx)(_p,{xs:"7",children:(0,ae.jsxs)("div",{className:"numbers",children:[(0,ae.jsx)("p",{className:"card-category p-0 text-center",children:"Steps Covered"}),(0,ae.jsx)(Zp.Title,{as:"h4",children:u})]})})]})}),(0,ae.jsxs)(Zp.Footer,{children:[(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats btn",style:{cursor:"pointer"},onClick:()=>T("stepcovered",u),children:[(0,ae.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})}),(0,ae.jsx)(_p,{lg:"3",sm:"6",children:(0,ae.jsxs)(Zp,{className:"card-stats",children:[(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{xs:"5",children:(0,ae.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,ae.jsx)(Kd,{})})}),(0,ae.jsx)(_p,{xs:"7",children:(0,ae.jsxs)("div",{className:"numbers",children:[(0,ae.jsx)("p",{className:"card-category p-0 text-center",children:"loose-weight"==(null===b||void 0===b?void 0:b.plantype)?"Calories Burned":"gain-weight"==(null===b||void 0===b?void 0:b.plantype)?"Calories Gain":0==(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.gainupto)?"Calories Burned":"Calories Gain"}),(0,ae.jsx)(Zp.Title,{as:"h4",children:p})]})})]})}),(0,ae.jsxs)(Zp.Footer,{children:[(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats btn",style:{cursor:"pointer"},onClick:()=>T("caloriesburned",p),children:[(0,ae.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})}),(0,ae.jsx)(_p,{lg:"3",sm:"6",children:(0,ae.jsxs)(Zp,{className:"card-stats",children:[(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{xs:"5",children:(0,ae.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,ae.jsx)(cp,{})})}),(0,ae.jsx)(_p,{xs:"7",children:(0,ae.jsxs)("div",{className:"numbers",children:[(0,ae.jsx)("p",{className:"card-category text-center p-0",children:"Active Exercisse"}),(0,ae.jsxs)(Zp.Title,{as:"h4",children:[f," hour"]})]})})]})}),(0,ae.jsxs)(Zp.Footer,{children:[(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats btn",style:{cursor:"pointer"},onClick:()=>T("activeexercise",f),children:[(0,ae.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})}),(0,ae.jsx)(_p,{lg:"3",sm:"6",children:(0,ae.jsxs)(Zp,{className:"card-stats",children:[(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{xs:"5",children:(0,ae.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,ae.jsx)(lp,{})})}),(0,ae.jsx)(_p,{xs:"7",children:(0,ae.jsxs)("div",{className:"numbers",children:[(0,ae.jsx)("p",{className:"card-category p-0 text-center ",children:"Achievements"}),(0,ae.jsx)(Zp.Title,{as:"h4",children:g})]})})]})}),(0,ae.jsxs)(Zp.Footer,{children:[(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats btn",style:{cursor:"pointer"},onClick:()=>T("achievement",g),children:[(0,ae.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})})]}),(0,ae.jsx)("h2",{children:"Daily Performance Measure"}),(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{md:"4",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)(Zp.Header,{children:[(0,ae.jsx)(Zp.Title,{as:"h4",children:"Steps Covered Statistics"}),(0,ae.jsx)("p",{className:"card-category",children:"Target 100%"})]}),(0,ae.jsxs)(Zp.Body,{children:[(0,ae.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:(0,ae.jsx)(ip.A,{data:{labels:[Math.round(u/(null===b||void 0===b?void 0:b.stepcovered)*100)+"%",Math.round(100-u/(null===b||void 0===b?void 0:b.stepcovered)*100)+"%"],series:[Math.round(u/(null===b||void 0===b?void 0:b.stepcovered)*100),Math.round(100-u/(null===b||void 0===b?void 0:b.stepcovered)*100)<0?"":Math.round(100-u/(null===b||void 0===b?void 0:b.stepcovered)*100)]},type:"Pie"})}),(0,ae.jsxs)("div",{className:"legend",children:[(0,ae.jsx)("i",{className:"fas fa-circle text-info"}),"Completed ",(0,ae.jsx)("i",{className:"fas fa-circle text-danger"}),"Not Completed"]}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"far fa-clock"}),"Today Performance"]})]})]})}),(0,ae.jsx)(_p,{md:"4",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)(Zp.Header,{children:[(0,ae.jsx)(Zp.Title,{as:"h4",children:"Healthy Calories Burned"}),(0,ae.jsx)("p",{className:"card-category",children:"Target 100%"})]}),(0,ae.jsxs)(Zp.Body,{children:[(0,ae.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:(0,ae.jsx)(ip.A,{data:{labels:[Math.round(p/(null===b||void 0===b?void 0:b.caloriesburned)*100)+"%",Math.round(100-p/(null===b||void 0===b?void 0:b.caloriesburned)*100)+"%"],series:[Math.round(p/(null===b||void 0===b?void 0:b.caloriesburned)*100),Math.round(100-p/(null===b||void 0===b?void 0:b.caloriesburned)*100)<0?"":Math.round(100-p/(null===b||void 0===b?void 0:b.caloriesburned)*100)]},type:"Pie"})}),(0,ae.jsxs)("div",{className:"legend",children:[(0,ae.jsx)("i",{className:"fas fa-circle text-info"}),"Completed ",(0,ae.jsx)("i",{className:"fas fa-circle text-danger"}),"Not Completed"]}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"far fa-clock"}),"Today Performance"]})]})]})}),(0,ae.jsx)(_p,{md:"4",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)(Zp.Header,{children:[(0,ae.jsx)(Zp.Title,{as:"h4",children:"Healthy Active Exercise"}),(0,ae.jsx)("p",{className:"card-category",children:"Target 100%"})]}),(0,ae.jsxs)(Zp.Body,{children:[(0,ae.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:(0,ae.jsx)(ip.A,{data:{labels:[Math.round(f/(null===b||void 0===b?void 0:b.activeexercise)*100)+"%",Math.round(100-f/(null===b||void 0===b?void 0:b.activeexercise)*100)+"%"],series:[Math.round(f/(null===b||void 0===b?void 0:b.activeexercise)*100),Math.round(100-f/(null===b||void 0===b?void 0:b.activeexercise)*100)<0?"":Math.round(100-f/(null===b||void 0===b?void 0:b.activeexercise)*100)]},type:"Pie"})}),(0,ae.jsxs)("div",{className:"legend",children:[(0,ae.jsx)("i",{className:"fas fa-circle text-info"}),"Completed ",(0,ae.jsx)("i",{className:"fas fa-circle text-danger"}),"Not Completed"]}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"far fa-clock"}),"Today Performance"]})]})]})})]}),(0,ae.jsx)("h3",{className:"text-center",children:"Registered Diet Plans"}),(null===r||void 0===r?void 0:r.length)>0&&null!=b?r.map(((e,t)=>(null===e||void 0===e?void 0:e.name)==(null===b||void 0===b?void 0:b.plantype)?(0,ae.jsx)(Dd.N_,{className:"candidate-list-box card mt-4",to:"/dietplan/".concat(e.name),children:(0,ae.jsxs)("div",{className:"p-4 card-body",children:[(0,ae.jsxs)("div",{className:"align-items-center row",children:[(0,ae.jsx)("div",{className:"col-auto",children:(0,ae.jsx)("div",{className:"candidate-list-images"})}),(0,ae.jsx)("div",{className:"col-lg-10",children:(0,ae.jsxs)("div",{className:"candidate-list-content mt-3 mt-lg-0",children:[(0,ae.jsx)("h5",{className:"fs-19 mb-0",children:(0,ae.jsx)("a",{className:"primary-link fs-3",style:{fontWeight:"bold"},href:"#",children:e.name})}),(0,ae.jsx)("p",{className:"text-muted m-0 mb-2 fs-4 p-0",children:e.dietplan.morning.name}),(0,ae.jsx)("ul",{className:"list-inline mb-0 text-muted",children:(0,ae.jsxs)("li",{className:"list-inline-item",children:[(0,ae.jsx)("i",{className:"mdi mdi-map-marker"}),e.dietplan.morning.description.split(" ").slice(0,40).join(" ")]})})]})})]}),(0,ae.jsx)("div",{className:"favorite-icon"})]})}):"")):"",(0,ae.jsx)("h3",{className:"text-center",children:"Last 7 Days Progress"}),(0,ae.jsx)("div",{className:"last-7days-performance",children:(0,ae.jsxs)("table",{class:"table table-hover",children:[(0,ae.jsx)("thead",{children:(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{scope:"col",children:"Date"}),(0,ae.jsx)("th",{scope:"col",children:"StepCovered"}),(0,ae.jsx)("th",{scope:"col",children:"loose-weight"==(null===b||void 0===b?void 0:b.plantype)?"Calories Burned":"gain-weight"==(null===b||void 0===b?void 0:b.plantype)?"Calories Gain":0==(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.gainupto)?"Calories Burned":"Calories Gain"}),(0,ae.jsx)("th",{scope:"col",children:"Active Exercise"})]})}),(0,ae.jsx)("tbody",{children:(null===x||void 0===x?void 0:x.length)>0&&x.map(((e,t)=>(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{scope:"row",children:new Date(e.date).toISOString().split("T")[0]}),(0,ae.jsx)("td",{children:e.progress.stepcovered}),(0,ae.jsx)("td",{children:e.progress.caloriesburned}),(0,ae.jsxs)("td",{children:[e.progress.activeexercise," hour"]})]})))})]})}),(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{md:"12",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsx)(Zp.Header,{children:(0,ae.jsx)(Zp.Title,{as:"h4",children:"2024 Performance"})}),(0,ae.jsx)(Zp.Body,{children:(0,ae.jsx)("div",{className:"ct-chart",id:"chartActivity",children:(0,ae.jsx)(ip.A,{data:{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[[542,443,320,780,553,453,326,434,568,610,756,895],[412,243,280,580,453,353,300,364,368,410,636,695]]},type:"Bar",options:{seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},responsiveOptions:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]]})})}),(0,ae.jsxs)(Zp.Footer,{children:[(0,ae.jsxs)("div",{className:"legend",children:[(0,ae.jsx)("i",{className:"fas fa-circle text-info"}),"Task Completed ",(0,ae.jsx)("i",{className:"fas fa-circle text-danger"}),"Task Pending"]}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"fas fa-check"}),"Data information certified"]})]})]})}),(0,ae.jsx)(_p,{md:"6"})]}),o?(0,ae.jsx)(pp,{setClick:i,name:k,setCount:C,handleupdation:async function(e){try{if(e.preventDefault(),S<0||""==k)return void pr.error("Please Write the Valid Input");const{data:t}=await xn.post("".concat("https://fitness-mernstack.onrender.com","/api/updateprogress"),{stats:{date:new Date,progress:{[k]:S}}},{withCredentials:!0});t.success?("stepcovered"==k?d(S):"caloriesburned"==k?h(S):"activeexercise"==k?m(S):"achievement"==k&&y(S),pr.success("Performance Updated Successfully"),i(!1)):pr.error("Something went wrong PLeasee reload")}catch(t){console.log("Error fetching progress:",t),pr.error("Server Side Problem !")}}}):""]})})},Jp=n.p+"static/media/photo-1431578500526-4d9613015464.0c528dc7193509e0eef6.jpeg";var Qp=n(9127);const eh=function(){const[e,t]=B.useState(!1),n=B.useRef(null);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"rna-container",children:(0,ae.jsx)(Qp.A,{ref:n})}),(0,ae.jsx)(Cp,{fluid:!0,children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)(Zp.Header,{children:[(0,ae.jsx)(Zp.Title,{as:"h4",children:"Notifications Tab"}),(0,ae.jsx)("p",{className:"card-category",children:"All Important Notifcation will Show Here"})]}),(0,ae.jsx)("br",{}),(0,ae.jsx)("br",{})]})})]})},th=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:a,bordered:s,borderless:o,hover:i,size:c,variant:l,responsive:u,...d}=e;const p=kp(n,"table"),h=yp()(r,p,l&&"".concat(p,"-").concat(l),c&&"".concat(p,"-").concat(c),a&&"".concat(p,"-striped"),s&&"".concat(p,"-bordered"),o&&"".concat(p,"-borderless"),i&&"".concat(p,"-hover")),f=(0,ae.jsx)("table",{...d,className:h,ref:t});if(u){let e="".concat(p,"-responsive");return"string"===typeof u&&(e="".concat(e,"-").concat(u)),(0,ae.jsx)("div",{className:e,children:f})}return f})),nh=["as","disabled"];function rh(e){let{tagName:t,disabled:n,href:r,target:a,rel:s,role:o,onClick:i,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=a||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const ah=B.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,nh);const[s,{tagName:o}]=rh(Object.assign({tagName:n,disabled:r},a));return(0,ae.jsx)(o,Object.assign({},a,s,{ref:t}))}));ah.displayName="Button";const sh=ah,oh=B.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:a,size:s,active:o,className:i,...c}=e;const l=kp(r,"btn"),[u,{tagName:d}]=rh({tagName:n,...c}),p=d;return(0,ae.jsx)(p,{...u,...c,ref:t,className:yp()(i,l,o&&"active",a&&"".concat(l,"-").concat(a),s&&"".concat(l,"-").concat(s),c.href&&c.disabled&&"disabled")})}));oh.displayName="Button",oh.defaultProps={variant:"primary",active:!1,disabled:!1};const ih=oh;const ch=function(){return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(Cp,{fluid:!0,children:(0,ae.jsx)(Ep,{children:(0,ae.jsx)(_p,{className:"ml-auto mr-auto",md:"8",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)("div",{className:"header text-center",children:[(0,ae.jsx)("h4",{className:"title",children:"Light Bootstrap Dashboard PRO React"}),(0,ae.jsx)("p",{className:"category",children:"Are you looking for more components? Please check our Premium Version of Light Bootstrap Dashboard React."}),(0,ae.jsx)("br",{})]}),(0,ae.jsxs)(th,{responsive:!0,children:[(0,ae.jsx)("thead",{children:(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{}),(0,ae.jsx)("th",{className:"text-center",children:"Free"}),(0,ae.jsx)("th",{className:"text-center",children:"PRO"})]})}),(0,ae.jsxs)("tbody",{children:[(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Components"}),(0,ae.jsx)("td",{children:"16"}),(0,ae.jsx)("td",{children:"115+"})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Plugins"}),(0,ae.jsx)("td",{children:"4"}),(0,ae.jsx)("td",{children:"14+"})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Example Pages"}),(0,ae.jsx)("td",{children:"4"}),(0,ae.jsx)("td",{children:"22+"})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Documentation"}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-times text-danger"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-check text-success"})})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"SASS Files"}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-times text-danger"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-check text-success"})})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Login/Register/Lock Pages"}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-times text-danger"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-check text-success"})})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:"Premium Support"}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-times text-danger"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)("i",{className:"fas fa-check text-success"})})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{}),(0,ae.jsx)("td",{children:"Free"}),(0,ae.jsx)("td",{children:"Just $49"})]}),(0,ae.jsxs)("tr",{className:"last-row",children:[(0,ae.jsx)("td",{}),(0,ae.jsx)("td",{children:(0,ae.jsx)(ih,{className:"btn-round btn-fill disabled",href:"#pablo",onClick:e=>e.preventDefault(),variant:"default",children:"Current Version"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)(ih,{className:"btn-round btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-pro-react/?ref=lbdrupgrade",target:"_blank",variant:"info",children:"Upgrade to PRO"})})]})]})]})]})})})})})};var lh=n(5173),uh=n.n(lh);const dh={type:uh().string,tooltip:uh().bool,as:uh().elementType},ph=B.forwardRef(((e,t)=>{let{as:n="div",className:r,type:a="valid",tooltip:s=!1,...o}=e;return(0,ae.jsx)(n,{...o,ref:t,className:yp()(r,"".concat(a,"-").concat(s?"tooltip":"feedback"))})}));ph.displayName="Feedback",ph.propTypes=dh;const hh=ph,fh=B.createContext({}),mh=B.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,className:a,type:s="checkbox",isValid:o=!1,isInvalid:i=!1,as:c="input",...l}=e;const{controlId:u}=(0,B.useContext)(fh);return r=kp(r,"form-check-input"),(0,ae.jsx)(c,{...l,ref:t,type:s,id:n||u,className:yp()(a,r,o&&"is-valid",i&&"is-invalid")})}));mh.displayName="FormCheckInput";const gh=mh,yh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,htmlFor:a,...s}=e;const{controlId:o}=(0,B.useContext)(fh);return n=kp(n,"form-check-label"),(0,ae.jsx)("label",{...s,ref:t,htmlFor:a||o,className:yp()(r,n)})}));yh.displayName="FormCheckLabel";const bh=yh;const vh=B.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:a,inline:s=!1,disabled:o=!1,isValid:i=!1,isInvalid:c=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:d,className:p,style:h,title:f="",type:m="checkbox",label:g,children:y,as:b="input",...v}=e;r=kp(r,"form-check"),a=kp(a,"form-switch");const{controlId:x}=(0,B.useContext)(fh),w=(0,B.useMemo)((()=>({controlId:n||x})),[x,n]),k=!y&&null!=g&&!1!==g||function(e,t){return B.Children.toArray(e).some((e=>B.isValidElement(e)&&e.type===t))}(y,bh),N=(0,ae.jsx)(gh,{...v,type:"switch"===m?"checkbox":m,ref:t,isValid:i,isInvalid:c,disabled:o,as:b});return(0,ae.jsx)(fh.Provider,{value:w,children:(0,ae.jsx)("div",{style:h,className:yp()(p,k&&r,s&&"".concat(r,"-inline"),"switch"===m&&a),children:y||(0,ae.jsxs)(ae.Fragment,{children:[N,k&&(0,ae.jsx)(bh,{title:f,children:g}),u&&(0,ae.jsx)(hh,{type:d,tooltip:l,children:u})]})})})}));vh.displayName="FormCheck";const xh=Object.assign(vh,{Input:gh,Label:bh});var wh=n(6440),kh=n.n(wh);const Nh=B.forwardRef(((e,t)=>{let{bsPrefix:n,type:r,size:a,htmlSize:s,id:o,className:i,isValid:c=!1,isInvalid:l=!1,plaintext:u,readOnly:d,as:p="input",...h}=e;const{controlId:f}=(0,B.useContext)(fh);let m;return n=kp(n,"form-control"),m=u?{["".concat(n,"-plaintext")]:!0}:{[n]:!0,["".concat(n,"-").concat(a)]:a},(0,ae.jsx)(p,{...h,type:r,size:s,ref:t,readOnly:d,id:o||f,className:yp()(i,m,c&&"is-valid",l&&"is-invalid","color"===r&&"".concat(n,"-color"))})}));Nh.displayName="FormControl";const Sh=Object.assign(Nh,{Feedback:hh}),Ch=Rp("form-floating"),Th=B.forwardRef(((e,t)=>{let{controlId:n,as:r="div",...a}=e;const s=(0,B.useMemo)((()=>({controlId:n})),[n]);return(0,ae.jsx)(fh.Provider,{value:s,children:(0,ae.jsx)(r,{...a,ref:t})})}));Th.displayName="FormGroup";const Eh=Th,Ih=B.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:r,column:a,visuallyHidden:s,className:o,htmlFor:i,...c}=e;const{controlId:l}=(0,B.useContext)(fh);r=kp(r,"form-label");let u="col-form-label";"string"===typeof a&&(u="".concat(u," ").concat(u,"-").concat(a));const d=yp()(o,r,s&&"visually-hidden",a&&u);return i=i||l,a?(0,ae.jsx)(_p,{ref:t,as:"label",className:d,htmlFor:i,...c}):(0,ae.jsx)(n,{ref:t,className:d,htmlFor:i,...c})}));Ih.displayName="FormLabel",Ih.defaultProps={column:!1,visuallyHidden:!1};const _h=Ih,Oh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,id:a,...s}=e;const{controlId:o}=(0,B.useContext)(fh);return n=kp(n,"form-range"),(0,ae.jsx)("input",{...s,type:"range",ref:t,className:yp()(r,n),id:a||o})}));Oh.displayName="FormRange";const Ah=Oh,Rh=B.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,htmlSize:a,className:s,isValid:o=!1,isInvalid:i=!1,id:c,...l}=e;const{controlId:u}=(0,B.useContext)(fh);return n=kp(n,"form-select"),(0,ae.jsx)("select",{...l,size:a,ref:t,className:yp()(s,n,r&&"".concat(n,"-").concat(r),o&&"is-valid",i&&"is-invalid"),id:c||u})}));Rh.displayName="FormSelect";const Dh=Rh,Mh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="small",muted:s,...o}=e;return n=kp(n,"form-text"),(0,ae.jsx)(a,{...o,ref:t,className:yp()(r,n,s&&"text-muted")})}));Mh.displayName="FormText";const Ph=Mh,Fh=B.forwardRef(((e,t)=>(0,ae.jsx)(xh,{...e,ref:t,type:"switch"})));Fh.displayName="Switch";const jh=Object.assign(Fh,{Input:xh.Input,Label:xh.Label}),Lh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:a,controlId:s,label:o,...i}=e;return n=kp(n,"form-floating"),(0,ae.jsxs)(Eh,{ref:t,className:yp()(r,n),controlId:s,...i,children:[a,(0,ae.jsx)("label",{htmlFor:s,children:o})]})}));Lh.displayName="FloatingLabel";const zh=Lh,Bh={_ref:uh().any,validated:uh().bool,as:uh().elementType},Uh=B.forwardRef(((e,t)=>{let{className:n,validated:r,as:a="form",...s}=e;return(0,ae.jsx)(a,{...s,ref:t,className:yp()(n,r&&"was-validated")})}));Uh.displayName="Form",Uh.propTypes=Bh;const Wh=Object.assign(Uh,{Group:Eh,Control:Sh,Floating:Ch,Check:xh,Switch:jh,Label:_h,Text:Ph,Range:Ah,Select:Dh,FloatingLabel:zh}),Vh=()=>(0,ae.jsx)("div",{class:"preloader",children:(0,ae.jsxs)("div",{class:"loader",children:[(0,ae.jsx)("div",{class:"loader-outter"}),(0,ae.jsx)("div",{class:"loader-inner"}),(0,ae.jsx)("div",{class:"indicator",children:(0,ae.jsxs)("svg",{width:"16px",height:"12px",children:[(0,ae.jsx)("polyline",{id:"back",points:"1 6 4 6 6 11 10 1 12 6 15 6"}),(0,ae.jsx)("polyline",{id:"front",points:"1 6 4 6 6 11 10 1 12 6 15 6"})]})})]})});const Gh=function(){var e,t,n,r;const[a,s]=(0,B.useState)(!1),[o,i]=Nn(),[c,l]=(0,B.useState)(),[u,d]=(0,B.useState)(null),[p,h]=(0,B.useState)(null),[f,m]=(0,B.useState)(null),[g,y]=(0,B.useState)(null),[b,v]=(0,B.useState)(null),[x,w]=(0,B.useState)(null),[k,N]=(0,B.useState)(null),[S,C]=(0,B.useState)(null),[T,E]=(0,B.useState)(null);let[I,_]=(0,B.useState)(null);return(0,B.useEffect)((()=>{if(null!==o&&void 0!==o&&o.user){var e,t,n,r,a,s,i,c,u;console.log("auth",o),d(null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.currentweight),h(null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.description),m(null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.email),y(null===o||void 0===o||null===(r=o.user)||void 0===r?void 0:r.full_name),v(null===o||void 0===o||null===(a=o.user)||void 0===a?void 0:a.gainupto),w(null===o||void 0===o||null===(s=o.user)||void 0===s?void 0:s.looseupto),N(null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.height),C(null===o||void 0===o||null===(c=o.user)||void 0===c?void 0:c.phone),E(null===o||void 0===o||null===(u=o.user)||void 0===u?void 0:u.plantype);let p=new Date(o.user.dob),f=""+(p.getMonth()+1),g=""+p.getDate();const b=p.getFullYear();f.length<2&&(f="0"+f),g.length<2&&(g="0"+g),p=[b,f,g].join("-"),l(p),function(e){const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const a=n.getMonth()-t.getMonth();(a<0||0===a&&n.getDate()<t.getDate())&&r--,_(r)}(o.user.dob),console.log("date is:",p)}}),[null===o||void 0===o?void 0:o.user]),(0,ae.jsx)(ae.Fragment,{children:null!==o&&void 0!==o&&o.user?(0,ae.jsx)(Cp,{fluid:!0,children:(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{md:"8",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsx)(Zp.Header,{children:(0,ae.jsx)(Zp.Title,{as:"h4",children:"Edit Profile"})}),(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)(Wh,{children:[(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{className:"pr-1",md:"5",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Email"}),(0,ae.jsx)(Wh.Control,{defaultValue:f,disabled:!0,value:f,placeholder:"Email",type:"text"})]})}),(0,ae.jsx)(_p,{className:"px-1",md:"3",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Name"}),(0,ae.jsx)(Wh.Control,{defaultValue:g,value:g,onChange:e=>y(e.target.value),placeholder:"Username",type:"text"})]})}),(0,ae.jsx)(_p,{className:"pl-1",md:"4",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Phone"}),(0,ae.jsx)(Wh.Control,{defaultValue:S,onChange:e=>C(e.target.value),placeholder:S,value:S,type:"number"})]})})]}),(0,ae.jsx)(Ep,{children:(0,ae.jsx)(_p,{className:"pr-1",md:"6",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"PLane"}),(0,ae.jsx)(Wh.Control,{defaultValue:T,value:T,placeholder:"Company",type:"text",disabled:!0})]})})}),(0,ae.jsx)(Ep,{}),(0,ae.jsxs)(Ep,{children:[(0,ae.jsx)(_p,{className:"pr-1",md:"4",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Current Weight"}),(0,ae.jsx)(Wh.Control,{defaultValue:u+"kg",placeholder:"Weight",onChange:e=>d(e.target.value),value:u,type:"text"})]})}),(0,ae.jsx)(_p,{className:"px-1",md:"4",children:"gain-weight"==(null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.plantype)?(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Gain Upto"}),(0,ae.jsx)(Wh.Control,{defaultValue:b,onChange:e=>v(e.target.value),placeholder:"64kg",type:"text"})]}):"loose-weight"==(null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.plantype)?(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Reduce Upto"}),(0,ae.jsx)(Wh.Control,{defaultValue:x,onChange:e=>w(e.target.value),placeholder:"64kg",type:"text"})]}):""}),(0,ae.jsx)(_p,{className:"pl-1",md:"4",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Date Of Birth"}),(0,ae.jsx)(Wh.Control,{defaultValue:c,placeholder:c,type:"date",onChange:e=>(e=>{console.log("dob change run");let t=new Date(e.target.value);l(t),console.log(e.target.value)})(e)})]})})]}),(0,ae.jsx)(Ep,{children:(0,ae.jsx)(_p,{md:"12",children:(0,ae.jsxs)(Wh.Group,{children:[(0,ae.jsx)("label",{children:"Description"}),(0,ae.jsx)(Wh.Control,{cols:"80",defaultValue:p,placeholder:p,onChange:e=>h(e.target.value),rows:"4",as:"textarea"})]})})}),a?(0,ae.jsx)(ih,{className:"btn-fill pull-right",variant:"info",children:(0,ae.jsx)("div",{class:"spinner-border text-center",role:"status",children:(0,ae.jsx)("span",{class:"sr-only",children:"Loading..."})})}):(0,ae.jsx)(ih,{className:"btn-fill pull-right",variant:"info",onClick:e=>(async e=>{try{e.preventDefault(),s(!0);const{data:t}=await xn.put("".concat("https://fitness-mernstack.onrender.com","/updateprofile"),{full_name:g,currentweight:u,email:f,phone:S,dob:c,description:p,gainupto:b,looseupto:x,height:k},{withCredentials:!0});t.success?(console.log("data is",t),pr.success("Profile Updated Successfully"),i({user:t.user})):(console.log("data is",t),pr.error("Something Went Wrrong!")),s(!1)}catch(t){pr.error("Something Went Wrong"),console.log(t),s(!1)}})(e),children:"Update Profile"}),(0,ae.jsx)("div",{className:"clearfix"})]})})]})}),(0,ae.jsx)(_p,{md:"4",children:(0,ae.jsxs)(Zp,{className:"card-user",children:[(0,ae.jsx)("div",{className:"card-image",children:(0,ae.jsx)("img",{alt:"...",src:Jp})}),(0,ae.jsx)(Zp.Body,{children:(0,ae.jsxs)("div",{className:"author",children:[(0,ae.jsxs)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:[(0,ae.jsx)(Xd,{className:"avatar border-gray bg-white text-black "}),(0,ae.jsx)("h5",{className:"title",children:null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.full_name})]}),(0,ae.jsx)("p",{className:"description",children:null===o||void 0===o||null===(r=o.user)||void 0===r?void 0:r.description}),(0,ae.jsxs)("p",{className:"description",children:["age : ",I]})]})}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"button-container mr-auto ml-auto",children:[(0,ae.jsx)(ih,{className:"btn-simple btn-icon",href:"#pablo",onClick:e=>e.preventDefault(),variant:"link",children:(0,ae.jsx)("i",{className:"fab fa-facebook-square"})}),(0,ae.jsx)(ih,{className:"btn-simple btn-icon",href:"#pablo",onClick:e=>e.preventDefault(),variant:"link",children:(0,ae.jsx)("i",{className:"fab fa-twitter"})}),(0,ae.jsx)(ih,{className:"btn-simple btn-icon",href:"#pablo",onClick:e=>e.preventDefault(),variant:"link",children:(0,ae.jsx)("i",{className:"fab fa-google-plus-square"})})]})]})})]})}):(0,ae.jsx)(Vh,{})})},Hh=[{upgrade:!0,path:"/upgrade",name:"Upgrade to PRO",icon:"nc-icon nc-alien-33",component:ch,layout:"/user"},{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-35",component:$p,layout:"/user"},{path:"/user",name:"User Profile",icon:"nc-icon nc-circle-09",component:Gh,layout:"/user"},{path:"/notifications",name:"Notifications",icon:"nc-icon nc-bell-55",component:eh,layout:"/user"}];class qh extends B.Component{render(){return(0,ae.jsx)("footer",{className:"footer px-0 px-lg-3",children:(0,ae.jsx)(Cp,{fluid:!0,children:(0,ae.jsx)("nav",{children:(0,ae.jsxs)("ul",{className:"footer-menu",children:[(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:"Home"})}),(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:"Contact"})}),(0,ae.jsx)("li",{children:(0,ae.jsxs)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:["Support"," "]})}),(0,ae.jsx)("li",{children:(0,ae.jsx)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:"Features"})})]})})})})}}const Kh=qh;n(9197),n(2740);function Xh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Yh(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Zh(e,t){return Object.keys(t).reduce((function(n,r){var a,s=n,o=s[Xh(r)],i=s[r],c=(0,q.A)(s,[Xh(r),r].map(Yh)),l=t[r],u=function(e,t,n){var r=(0,B.useRef)(void 0!==e),a=(0,B.useState)(t),s=a[0],o=a[1],i=void 0!==e,c=r.current;return r.current=i,!i&&c&&s!==t&&o(t),[i?e:s,(0,B.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n&&n.apply(void 0,[e].concat(r)),o(e)}),[n])]}(i,o,e[l]),d=u[0],p=u[1];return(0,H.A)({},c,((a={})[r]=d,a[l]=p,a))}),e)}n(5484);var $h=Function.prototype.bind.call(Function.prototype.call,[].slice);function Jh(e,t){return $h(e.querySelectorAll(t))}function Qh(){const[,e]=(0,B.useReducer)((e=>!e),!1);return e}const ef=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const tf=function(e,t){return(0,B.useMemo)((()=>function(e,t){const n=ef(e),r=ef(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])},nf=B.createContext(null);nf.displayName="NavContext";const rf=nf,af=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},sf=B.createContext(null),of=B.createContext(null),cf="data-rr-ui-";function lf(e){return"".concat(cf).concat(e)}const uf=function(e){const t=(0,B.useRef)(e);return(0,B.useEffect)((()=>{t.current=e}),[e]),t};function df(e){const t=uf(e);return(0,B.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const pf=["as","active","eventKey"];function hf(e){let{key:t,onClick:n,active:r,id:a,role:s,disabled:o}=e;const i=(0,B.useContext)(sf),c=(0,B.useContext)(rf),l=(0,B.useContext)(of);let u=r;const d={role:s};if(c){s||"tablist"!==c.role||(d.role="tab");const e=c.getControllerId(null!=t?t:null),n=c.getControlledId(null!=t?t:null);d[lf("event-key")]=t,d.id=e||a,u=null==r&&null!=t?c.activeKey===t:r,!u&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=n)}return"tab"===d.role&&(d["aria-selected"]=u,u||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=df((e=>{o||(null==n||n(e),null!=t&&i&&!e.isPropagationStopped()&&i(t,e))})),[d,{isActive:u}]}const ff=B.forwardRef(((e,t)=>{let{as:n=sh,active:r,eventKey:a}=e,s=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,pf);const[o,i]=hf(Object.assign({key:af(a,s.href),active:r},s));return o[lf("active")]=i.isActive,(0,ae.jsx)(n,Object.assign({},s,o,{ref:t}))}));ff.displayName="NavItem";const mf=ff,gf=["as","onSelect","activeKey","role","onKeyDown"];const yf=()=>{},bf=lf("event-key"),vf=B.forwardRef(((e,t)=>{let{as:n="div",onSelect:r,activeKey:a,role:s,onKeyDown:o}=e,i=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,gf);const c=Qh(),l=(0,B.useRef)(!1),u=(0,B.useContext)(sf),d=(0,B.useContext)(of);let p,h;d&&(s=s||"tablist",a=d.activeKey,p=d.getControlledId,h=d.getControllerId);const f=(0,B.useRef)(null),m=e=>{const t=f.current;if(!t)return null;const n=Jh(t,"[".concat(bf,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const a=n.indexOf(r);if(-1===a)return null;let s=a+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},g=(e,t)=>{null!=e&&(null==r||r(e,t),null==u||u(e,t))};(0,B.useEffect)((()=>{if(f.current&&l.current){const e=f.current.querySelector("[".concat(bf,"][aria-selected=true]"));null==e||e.focus()}l.current=!1}));const y=tf(t,f);return(0,ae.jsx)(sf.Provider,{value:g,children:(0,ae.jsx)(rf.Provider,{value:{role:s,activeKey:af(a),getControlledId:p||yf,getControllerId:h||yf},children:(0,ae.jsx)(n,Object.assign({},i,{onKeyDown:e=>{if(null==o||o(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}var n;t&&(e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),l.current=!0,c())},ref:y,role:s}))})})}));vf.displayName="Nav";const xf=Object.assign(vf,{Item:mf}),wf=B.createContext(null);wf.displayName="NavbarContext";const kf=wf,Nf=Rp("nav-item");const Sf="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Cf="undefined"!==typeof document||Sf?B.useLayoutEffect:B.useEffect;new WeakMap;const Tf=["onKeyDown"];const Ef=B.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Tf);const[a]=rh(Object.assign({tagName:"a"},r)),s=df((e=>{a.onKeyDown(e),null==n||n(e)}));return(o=r.href)&&"#"!==o.trim()&&"button"!==r.role?(0,ae.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,ae.jsx)("a",Object.assign({ref:t},r,a,{onKeyDown:s}));var o}));Ef.displayName="Anchor";const If=Ef,_f=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a=If,active:s,eventKey:o,...i}=e;n=kp(n,"nav-link");const[c,l]=hf({key:af(o,i.href),active:s,...i});return(0,ae.jsx)(a,{...i,...c,ref:t,className:yp()(r,n,i.disabled&&"disabled",l.isActive&&"active")})}));_f.displayName="NavLink",_f.defaultProps={disabled:!1};const Of=_f,Af=B.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:r,variant:a,fill:s,justify:o,navbar:i,navbarScroll:c,className:l,activeKey:u,...d}=Zh(e,{activeKey:"onSelect"}),p=kp(r,"nav");let h,f,m=!1;const g=(0,B.useContext)(kf),y=(0,B.useContext)(jp);return g?(h=g.bsPrefix,m=null==i||i):y&&({cardHeaderBsPrefix:f}=y),(0,ae.jsx)(xf,{as:n,ref:t,activeKey:u,className:yp()(l,{[p]:!m,["".concat(h,"-nav")]:m,["".concat(h,"-nav-scroll")]:m&&c,["".concat(f,"-").concat(a)]:!!f,["".concat(p,"-").concat(a)]:!!a,["".concat(p,"-fill")]:s,["".concat(p,"-justified")]:o}),...d})}));Af.displayName="Nav",Af.defaultProps={justify:!1,fill:!1};const Rf=Object.assign(Af,{Item:Nf,Link:Of}),Df=n.p+"static/media/reactlogo.55f6660be18505517e2e.png";const Mf=function(e){let{color:t,image:n,routes:r}=e;const a=(0,W.useLocation)();return(0,ae.jsxs)("div",{className:"sidebar","data-image":n,"data-color":t,children:[(0,ae.jsx)("div",{className:"sidebar-background",style:{backgroundImage:"url("+n+")"}}),(0,ae.jsxs)("div",{className:"sidebar-wrapper",style:{marginTop:"80px"},children:[(0,ae.jsxs)("div",{className:"logo d-flex align-items-center justify-content-start",children:[(0,ae.jsx)("a",{href:"https://www.creative-tim.com?ref=lbd-sidebar",className:"simple-text logo-mini mx-1",children:(0,ae.jsx)("div",{className:"logo-img",children:(0,ae.jsx)("img",{src:Df,alt:"..."})})}),(0,ae.jsx)("a",{className:"simple-text",href:"http://www.creative-tim.com",children:"User Dashboard"})]}),(0,ae.jsx)(Rf,{children:r.map(((e,t)=>{return e.redirect?null:(0,ae.jsx)("li",{className:e.upgrade?"active active-pro":(n=e.layout+e.path,a.pathname.indexOf(n)>-1?"active":""),children:(0,ae.jsxs)(re,{to:e.layout+e.path,className:"nav-link",activeClassName:"active",children:[(0,ae.jsx)("i",{className:e.icon}),(0,ae.jsx)("p",{children:e.name})]})},t);var n}))})]})]})},Pf=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ff=!1,jf=!1;try{var Lf={get passive(){return Ff=!0},get once(){return jf=Ff=!0}};Pf&&(window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,!0))}catch(L6){}const zf=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!jf){var a=r.once,s=r.capture,o=n;!jf&&a&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ff?r:s)}e.addEventListener(t,n,r)};function Bf(e,t,n){const r=(0,B.useRef)(void 0!==e),[a,s]=(0,B.useState)(t),o=void 0!==e,i=r.current;return r.current=o,!o&&i&&a!==t&&s(t),[o?e:a,(0,B.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,...o]=t;let i=null==n?void 0:n(a,...o);return s(a),i}),[n])]}const Uf=B.createContext(null);var Wf=Object.prototype.hasOwnProperty;function Vf(e,t,n){for(n of e.keys())if(Gf(n,t))return n}function Gf(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Gf(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((a=r)&&"object"===typeof a&&!(a=Vf(t,a)))return!1;if(!t.has(a))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((a=r[0])&&"object"===typeof a&&!(a=Vf(t,a)))return!1;if(!Gf(r[1],t.get(a)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Wf.call(e,n)&&++r&&!Wf.call(t,n))return!1;if(!(n in t)||!Gf(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Hf=function(e){const t=function(){const e=(0,B.useRef)(!0),t=(0,B.useRef)((()=>e.current));return(0,B.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}();return[e[0],(0,B.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function qf(e){return e.split("-")[0]}function Kf(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xf(e){return e instanceof Kf(e).Element||e instanceof Element}function Yf(e){return e instanceof Kf(e).HTMLElement||e instanceof HTMLElement}function Zf(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Kf(e).ShadowRoot||e instanceof ShadowRoot)}var $f=Math.max,Jf=Math.min,Qf=Math.round;function em(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function tm(){return!/^((?!chrome|android).)*safari/i.test(em())}function nm(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&Yf(e)&&(a=e.offsetWidth>0&&Qf(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Qf(r.height)/e.offsetHeight||1);var o=(Xf(e)?Kf(e):window).visualViewport,i=!tm()&&n,c=(r.left+(i&&o?o.offsetLeft:0))/a,l=(r.top+(i&&o?o.offsetTop:0))/s,u=r.width/a,d=r.height/s;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function rm(e){var t=nm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function am(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zf(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sm(e){return e?(e.nodeName||"").toLowerCase():null}function om(e){return Kf(e).getComputedStyle(e)}function im(e){return["table","td","th"].indexOf(sm(e))>=0}function cm(e){return((Xf(e)?e.ownerDocument:e.document)||window.document).documentElement}function lm(e){return"html"===sm(e)?e:e.assignedSlot||e.parentNode||(Zf(e)?e.host:null)||cm(e)}function um(e){return Yf(e)&&"fixed"!==om(e).position?e.offsetParent:null}function dm(e){for(var t=Kf(e),n=um(e);n&&im(n)&&"static"===om(n).position;)n=um(n);return n&&("html"===sm(n)||"body"===sm(n)&&"static"===om(n).position)?t:n||function(e){var t=/firefox/i.test(em());if(/Trident/i.test(em())&&Yf(e)&&"fixed"===om(e).position)return null;var n=lm(e);for(Zf(n)&&(n=n.host);Yf(n)&&["html","body"].indexOf(sm(n))<0;){var r=om(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function pm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function hm(e,t,n){return $f(e,Jf(t,n))}function fm(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function mm(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var gm="top",ym="bottom",bm="right",vm="left",xm="auto",wm=[gm,ym,bm,vm],km="start",Nm="end",Sm="clippingParents",Cm="viewport",Tm="popper",Em="reference",Im=wm.reduce((function(e,t){return e.concat([t+"-"+km,t+"-"+Nm])}),[]),_m=[].concat(wm,[xm]).reduce((function(e,t){return e.concat([t,t+"-"+km,t+"-"+Nm])}),[]),Om=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Am={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,i=qf(n.placement),c=pm(i),l=[vm,bm].indexOf(i)>=0?"height":"width";if(s&&o){var u=function(e,t){return fm("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:mm(e,wm))}(a.padding,n),d=rm(s),p="y"===c?gm:vm,h="y"===c?ym:bm,f=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],m=o[c]-n.rects.reference[c],g=dm(s),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,v=u[p],x=y-d[l]-u[h],w=y/2-d[l]/2+b,k=hm(v,w,x),N=c;n.modifiersData[r]=((t={})[N]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&am(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rm(e){return e.split("-")[1]}var Dm={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mm(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,i=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=o.x,h=void 0===p?0:p,f=o.y,m=void 0===f?0:f,g="function"===typeof u?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),v=vm,x=gm,w=window;if(l){var k=dm(n),N="clientHeight",S="clientWidth";if(k===Kf(n)&&"static"!==om(k=cm(n)).position&&"absolute"===i&&(N="scrollHeight",S="scrollWidth"),a===gm||(a===vm||a===bm)&&s===Nm)x=ym,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[N])-r.height,m*=c?1:-1;if(a===vm||(a===gm||a===ym)&&s===Nm)v=bm,h-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[S])-r.width,h*=c?1:-1}var C,T=Object.assign({position:i},l&&Dm),E=!0===u?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Qf(n*a)/a||0,y:Qf(r*a)/a||0}}({x:h,y:m},Kf(n)):{x:h,y:m};return h=E.x,m=E.y,c?Object.assign({},T,((C={})[x]=b?"0":"",C[v]=y?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[x]=b?m+"px":"",t[v]=y?h+"px":"",t.transform="",t))}const Pm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,o=void 0===s||s,i=n.roundOffsets,c=void 0===i||i,l={placement:qf(t.placement),variation:Rm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Mm(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Mm(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Fm={passive:!0};const jm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,o=r.resize,i=void 0===o||o,c=Kf(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach((function(e){e.addEventListener("scroll",n.update,Fm)})),i&&c.addEventListener("resize",n.update,Fm),function(){s&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Fm)})),i&&c.removeEventListener("resize",n.update,Fm)}},data:{}};var Lm={left:"right",right:"left",bottom:"top",top:"bottom"};function zm(e){return e.replace(/left|right|bottom|top/g,(function(e){return Lm[e]}))}var Bm={start:"end",end:"start"};function Um(e){return e.replace(/start|end/g,(function(e){return Bm[e]}))}function Wm(e){var t=Kf(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Vm(e){return nm(cm(e)).left+Wm(e).scrollLeft}function Gm(e){var t=om(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Hm(e){return["html","body","#document"].indexOf(sm(e))>=0?e.ownerDocument.body:Yf(e)&&Gm(e)?e:Hm(lm(e))}function qm(e,t){var n;void 0===t&&(t=[]);var r=Hm(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=Kf(r),o=a?[s].concat(s.visualViewport||[],Gm(r)?r:[]):r,i=t.concat(o);return a?i:i.concat(qm(lm(o)))}function Km(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xm(e,t,n){return t===Cm?Km(function(e,t){var n=Kf(e),r=cm(e),a=n.visualViewport,s=r.clientWidth,o=r.clientHeight,i=0,c=0;if(a){s=a.width,o=a.height;var l=tm();(l||!l&&"fixed"===t)&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:i+Vm(e),y:c}}(e,n)):Xf(t)?function(e,t){var n=nm(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Km(function(e){var t,n=cm(e),r=Wm(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=$f(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=$f(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-r.scrollLeft+Vm(e),c=-r.scrollTop;return"rtl"===om(a||n).direction&&(i+=$f(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:i,y:c}}(cm(e)))}function Ym(e,t,n,r){var a="clippingParents"===t?function(e){var t=qm(lm(e)),n=["absolute","fixed"].indexOf(om(e).position)>=0&&Yf(e)?dm(e):e;return Xf(n)?t.filter((function(e){return Xf(e)&&am(e,n)&&"body"!==sm(e)})):[]}(e):[].concat(t),s=[].concat(a,[n]),o=s[0],i=s.reduce((function(t,n){var a=Xm(e,n,r);return t.top=$f(a.top,t.top),t.right=Jf(a.right,t.right),t.bottom=Jf(a.bottom,t.bottom),t.left=$f(a.left,t.left),t}),Xm(e,o,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Zm(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?qf(a):null,o=a?Rm(a):null,i=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(s){case gm:t={x:i,y:n.y-r.height};break;case ym:t={x:i,y:n.y+n.height};break;case bm:t={x:n.x+n.width,y:c};break;case vm:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=s?pm(s):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case km:t[l]=t[l]-(n[u]/2-r[u]/2);break;case Nm:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function $m(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,s=n.strategy,o=void 0===s?e.strategy:s,i=n.boundary,c=void 0===i?Sm:i,l=n.rootBoundary,u=void 0===l?Cm:l,d=n.elementContext,p=void 0===d?Tm:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,y=fm("number"!==typeof g?g:mm(g,wm)),b=p===Tm?Em:Tm,v=e.rects.popper,x=e.elements[f?b:p],w=Ym(Xf(x)?x:x.contextElement||cm(e.elements.popper),c,u,o),k=nm(e.elements.reference),N=Zm({reference:k,element:v,strategy:"absolute",placement:a}),S=Km(Object.assign({},v,N)),C=p===Tm?S:k,T={top:w.top-C.top+y.top,bottom:C.bottom-w.bottom+y.bottom,left:w.left-C.left+y.left,right:C.right-w.right+y.right},E=e.modifiersData.offset;if(p===Tm&&E){var I=E[a];Object.keys(T).forEach((function(e){var t=[bm,ym].indexOf(e)>=0?1:-1,n=[gm,ym].indexOf(e)>=0?"y":"x";T[e]+=I[n]*t}))}return T}const Jm={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,o=n.altAxis,i=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,y=qf(g),b=c||(y===g||!f?[zm(g)]:function(e){if(qf(e)===xm)return[];var t=zm(e);return[Um(e),t,Um(t)]}(g)),v=[g].concat(b).reduce((function(e,n){return e.concat(qf(n)===xm?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,o=n.padding,i=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?_m:c,u=Rm(r),d=u?i?Im:Im.filter((function(e){return Rm(e)===u})):wm,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=$m(e,{placement:n,boundary:a,rootBoundary:s,padding:o})[qf(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,N=!0,S=v[0],C=0;C<v.length;C++){var T=v[C],E=qf(T),I=Rm(T)===km,_=[gm,ym].indexOf(E)>=0,O=_?"width":"height",A=$m(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),R=_?I?bm:vm:I?ym:gm;x[O]>w[O]&&(R=zm(R));var D=zm(R),M=[];if(s&&M.push(A[E]<=0),i&&M.push(A[R]<=0,A[D]<=0),M.every((function(e){return e}))){S=T,N=!1;break}k.set(T,M)}if(N)for(var P=function(e){var t=v.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},F=f?3:1;F>0;F--){if("break"===P(F))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qm(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eg(e){return[gm,bm,ym,vm].some((function(t){return e[t]>=0}))}const tg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,o=_m.reduce((function(e,n){return e[n]=function(e,t,n){var r=qf(e),a=[vm,gm].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],i=s[1];return o=o||0,i=(i||0)*a,[vm,bm].indexOf(r)>=0?{x:i,y:o}:{x:o,y:i}}(n,t.rects,s),e}),{}),i=o[t.placement],c=i.x,l=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}};const ng={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,o=n.altAxis,i=void 0!==o&&o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=$m(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=qf(t.placement),b=Rm(t.placement),v=!b,x=pm(y),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,N=t.rects.reference,S=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(k){if(s){var _,O="y"===x?gm:vm,A="y"===x?ym:bm,R="y"===x?"height":"width",D=k[x],M=D+g[O],P=D-g[A],F=h?-S[R]/2:0,j=b===km?N[R]:S[R],L=b===km?-S[R]:-N[R],z=t.elements.arrow,B=h&&z?rm(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=U[O],V=U[A],G=hm(0,N[R],B[R]),H=v?N[R]/2-F-G-W-T.mainAxis:j-G-W-T.mainAxis,q=v?-N[R]/2+F+G+V+T.mainAxis:L+G+V+T.mainAxis,K=t.elements.arrow&&dm(t.elements.arrow),X=K?"y"===x?K.clientTop||0:K.clientLeft||0:0,Y=null!=(_=null==E?void 0:E[x])?_:0,Z=D+q-Y,$=hm(h?Jf(M,D+H-Y-X):M,D,h?$f(P,Z):P);k[x]=$,I[x]=$-D}if(i){var J,Q="x"===x?gm:vm,ee="x"===x?ym:bm,te=k[w],ne="y"===w?"height":"width",re=te+g[Q],ae=te-g[ee],se=-1!==[gm,vm].indexOf(y),oe=null!=(J=null==E?void 0:E[w])?J:0,ie=se?re:te-N[ne]-S[ne]-oe+T.altAxis,ce=se?te+N[ne]+S[ne]-oe-T.altAxis:ae,le=h&&se?function(e,t,n){var r=hm(e,t,n);return r>n?n:r}(ie,te,ce):hm(h?ie:re,te,h?ce:ae);k[w]=le,I[w]=le-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};function rg(e,t,n){void 0===n&&(n=!1);var r=Yf(t),a=Yf(t)&&function(e){var t=e.getBoundingClientRect(),n=Qf(t.width)/e.offsetWidth||1,r=Qf(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=cm(t),o=nm(e,a,n),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==sm(t)||Gm(s))&&(i=function(e){return e!==Kf(e)&&Yf(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Wm(e);var t}(t)),Yf(t)?((c=nm(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Vm(s))),{x:o.left+i.scrollLeft-c.x,y:o.top+i.scrollTop-c.y,width:o.width,height:o.height}}function ag(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function sg(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var og={placement:"bottom",modifiers:[],strategy:"absolute"};function ig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function cg(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,s=void 0===a?og:a;return function(e,t,n){void 0===n&&(n=s);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},og,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],i=!1,c={state:a,setOptions:function(n){var i="function"===typeof n?n(a.options):n;l(),a.options=Object.assign({},s,a.options,i),a.scrollParents={reference:Xf(e)?qm(e):e.contextElement?qm(e.contextElement):[],popper:qm(t)};var u=function(e){var t=ag(e);return Om.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=u.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var i=s({state:a,name:t,instance:c,options:r}),l=function(){};o.push(i||l)}})),c.update()},forceUpdate:function(){if(!i){var e=a.elements,t=e.reference,n=e.popper;if(ig(t,n)){a.rects={reference:rg(t,dm(n),"fixed"===a.options.strategy),popper:rm(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var s=a.orderedModifiers[r],o=s.fn,l=s.options,u=void 0===l?{}:l,d=s.name;"function"===typeof o&&(a=o({state:a,options:u,name:d,instance:c})||a)}else a.reset=!1,r=-1}}},update:sg((function(){return new Promise((function(e){c.forceUpdate(),e(a)}))})),destroy:function(){l(),i=!0}};if(!ig(e,t))return c;function l(){o.forEach((function(e){return e()})),o=[]}return c.setOptions(n).then((function(e){!i&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}const lg=cg({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=$m(t,{elementContext:"reference"}),i=$m(t,{altBoundary:!0}),c=Qm(o,r),l=Qm(i,a,s),u=eg(c),d=eg(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Zm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Pm,jm,tg,Jm,ng,Am]}),ug=["enabled","placement","strategy","modifiers"];const dg={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},pg={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:a}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in a){const e=a.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},hg=[];const fg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:r=!0,placement:a="bottom",strategy:s="absolute",modifiers:o=hg}=n,i=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,ug);const c=(0,B.useRef)(o),l=(0,B.useRef)(),u=(0,B.useCallback)((()=>{var e;null==(e=l.current)||e.update()}),[]),d=(0,B.useCallback)((()=>{var e;null==(e=l.current)||e.forceUpdate()}),[]),[p,h]=Hf((0,B.useState)({placement:a,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),f=(0,B.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),h({state:t,styles:n,attributes:r,update:u,forceUpdate:d,placement:t.placement})}})),[u,d,h]),m=(0,B.useMemo)((()=>(Gf(c.current,o)||(c.current=o),c.current)),[o]);return(0,B.useEffect)((()=>{l.current&&r&&l.current.setOptions({placement:a,strategy:s,modifiers:[...m,f,dg]})}),[s,a,f,r,m]),(0,B.useEffect)((()=>{if(r&&null!=e&&null!=t)return l.current=lg(e,t,Object.assign({},i,{placement:a,strategy:s,modifiers:[...m,pg,f]})),()=>{null!=l.current&&(l.current.destroy(),l.current=void 0,h((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,e,t]),p};function mg(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const gg=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};const yg=function(e,t,n,r){return zf(e,t,n,r),function(){gg(e,t,n,r)}};const bg=()=>{};const vg=e=>e&&("current"in e?e.current:e),xg={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const wg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bg,{disabled:n,clickTrigger:r="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,B.useRef)(!1),s=(0,B.useRef)(!1),o=(0,B.useCallback)((t=>{const n=vg(e);var r;kh()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!mg(n,t.target)||s.current,s.current=!1}),[e]),i=df((t=>{const n=vg(e);n&&mg(n,t.target)&&(s.current=!0)})),c=df((e=>{a.current||t(e)}));(0,B.useEffect)((()=>{var t,a;if(n||null==e)return;const s=(l=vg(e))&&l.ownerDocument||document;var l;const u=s.defaultView||window;let d=null!=(t=u.event)?t:null==(a=u.parent)?void 0:a.event,p=null;xg[r]&&(p=yg(s,xg[r],i,!0));const h=yg(s,r,o,!0),f=yg(s,r,(e=>{e!==d?c(e):d=void 0}));let m=[];return"ontouchstart"in s.documentElement&&(m=[].slice.call(s.body.children).map((e=>yg(e,"mousemove",bg)))),()=>{null==p||p(),h(),f(),m.forEach((e=>e()))}}),[e,n,r,o,i,c])};function kg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function Ng(e){let{enabled:t,enableEvents:n,placement:r,flip:a,offset:s,fixed:o,containerPadding:i,arrowElement:c,popperConfig:l={}}=e;var u,d,p,h,f;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(l.modifiers);return Object.assign({},l,{placement:r,enabled:t,strategy:o?"fixed":l.strategy,modifiers:kg(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:i?Object.assign({padding:i},null==(d=m.preventOverflow)?void 0:d.options):null==(p=m.preventOverflow)?void 0:p.options}),offset:{options:Object.assign({offset:s},null==(h=m.offset)?void 0:h.options)},arrow:Object.assign({},m.arrow,{enabled:!!c,options:Object.assign({},null==(f=m.arrow)?void 0:f.options,{element:c})}),flip:Object.assign({enabled:!!a},m.flip)}))})}const Sg=["children","usePopper"];const Cg=()=>{};function Tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,B.useContext)(Uf),[n,r]=(0,B.useState)(null),a=(0,B.useRef)(!1),{flip:s,offset:o,rootCloseEvent:i,fixed:c=!1,placement:l,popperConfig:u={},enableEventListeners:d=!0,usePopper:p=!!t}=e,h=null==(null==t?void 0:t.show)?!!e.show:t.show;h&&!a.current&&(a.current=!0);const{placement:f,setMenu:m,menuElement:g,toggleElement:y}=t||{},b=fg(y,g,Ng({placement:l||f||"bottom-start",enabled:p,enableEvents:null==d?h:d,offset:o,flip:s,fixed:c,arrowElement:n,popperConfig:u})),v=Object.assign({ref:m||Cg,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),x={show:h,placement:f,hasShown:a.current,toggle:null==t?void 0:t.toggle,popper:p?b:null,arrowProps:p?Object.assign({ref:r},b.attributes.arrow,{style:b.styles.arrow}):{}};return wg(g,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:i,disabled:!h}),[v,x]}function Eg(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Sg);const[a,s]=Tg(Object.assign({},r,{usePopper:n}));return(0,ae.jsx)(ae.Fragment,{children:t(a,s)})}Eg.displayName="DropdownMenu";const Ig=Eg,_g={prefix:String(Math.round(1e10*Math.random())),current:0},Og=B.createContext(_g),Ag=B.createContext(!1);let Rg=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Dg=new WeakMap;function Mg(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,B.useContext)(Og),n=(0,B.useRef)(null);if(null===n.current&&!e){var r,a;let e=null===(a=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(r=a.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=Dg.get(e);null==n?Dg.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,Dg.delete(e))}n.current=++t.current}return n.current}const Pg="function"===typeof B.useId?function(e){let t=B.useId(),[n]=(0,B.useState)("function"===typeof B.useSyncExternalStore?B.useSyncExternalStore(Lg,Fg,jg):(0,B.useContext)(Ag)),r=n?"react-aria":"react-aria".concat(_g.prefix);return e||"".concat(r,"-").concat(t)}:function(e){let t=(0,B.useContext)(Og);t!==_g||Rg||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Mg(!!e),r="react-aria".concat(t.prefix);return e||"".concat(r,"-").concat(n)};function Fg(){return!1}function jg(){return!0}function Lg(e){return()=>{}}const zg=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Bg=()=>{};function Ug(){const e=Pg(),{show:t=!1,toggle:n=Bg,setToggle:r,menuElement:a}=(0,B.useContext)(Uf)||{},s=(0,B.useCallback)((e=>{n(!t,e)}),[t,n]),o={id:e,ref:r||Bg,onClick:s,"aria-expanded":!!t};return a&&zg(a)&&(o["aria-haspopup"]=!0),[o,{show:t,toggle:n}]}function Wg(e){let{children:t}=e;const[n,r]=Ug();return(0,ae.jsx)(ae.Fragment,{children:t(n,r)})}Wg.displayName="DropdownToggle";const Vg=Wg,Gg=["eventKey","disabled","onClick","active","as"];function Hg(e){let{key:t,href:n,active:r,disabled:a,onClick:s}=e;const o=(0,B.useContext)(sf),i=(0,B.useContext)(rf),{activeKey:c}=i||{},l=af(t,n),u=null==r&&null!=t?af(c)===l:r;return[{onClick:df((e=>{a||(null==s||s(e),o&&!e.isPropagationStopped()&&o(l,e))})),"aria-disabled":a||void 0,"aria-selected":u,[lf("dropdown-item")]:""},{isActive:u}]}const qg=B.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:a,active:s,as:o=sh}=e,i=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Gg);const[c]=Hg({key:n,href:i.href,disabled:r,onClick:a,active:s});return(0,ae.jsx)(o,Object.assign({},i,{ref:t},c))}));qg.displayName="DropdownItem";const Kg=qg,Xg=(0,B.createContext)(Pf?window:void 0);Xg.Provider;function Yg(){const e=Qh(),t=(0,B.useRef)(null),n=(0,B.useCallback)((n=>{t.current=n,e()}),[e]);return[t,n]}function Zg(e){let{defaultShow:t,show:n,onSelect:r,onToggle:a,itemSelector:s="* [".concat(lf("dropdown-item"),"]"),focusFirstItemOnShow:o,placement:i="bottom-start",children:c}=e;const l=(0,B.useContext)(Xg),[u,d]=Bf(n,t,a),[p,h]=Yg(),f=p.current,[m,g]=Yg(),y=m.current,b=function(e){const t=(0,B.useRef)(null);return(0,B.useEffect)((()=>{t.current=e})),t.current}(u),v=(0,B.useRef)(null),x=(0,B.useRef)(!1),w=(0,B.useContext)(sf),k=(0,B.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;d(e,{originalEvent:t,source:n})}),[d]),N=df(((e,t)=>{null==r||r(e,t),k(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)})),S=(0,B.useMemo)((()=>({toggle:k,placement:i,show:u,menuElement:f,toggleElement:y,setMenu:h,setToggle:g})),[k,i,u,f,y,h,g]);f&&b&&!u&&(x.current=f.contains(f.ownerDocument.activeElement));const C=df((()=>{y&&y.focus&&y.focus()})),T=df((()=>{const e=v.current;let t=o;if(null==t&&(t=!(!p.current||!zg(p.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Jh(p.current,s)[0];n&&n.focus&&n.focus()}));(0,B.useEffect)((()=>{u?T():x.current&&(x.current=!1,C())}),[u,x,C,T]),(0,B.useEffect)((()=>{v.current=null}));const E=(e,t)=>{if(!p.current)return null;const n=Jh(p.current,s);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=df(n);(0,B.useEffect)((()=>{const n="function"===typeof e?e():e;return n.addEventListener(t,a,r),()=>n.removeEventListener(t,a,r)}),[e])}((0,B.useCallback)((()=>l.document),[l]),"keydown",(e=>{var t,n;const{key:r}=e,a=e.target,s=null==(t=p.current)?void 0:t.contains(a),o=null==(n=m.current)?void 0:n.contains(a);if(/input|textarea/i.test(a.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===a.type))return;if(!s&&!o)return;if("Tab"===r&&(!p.current||!u))return;v.current=e.type;const i={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=E(a,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),u){const e=E(a,1);e&&e.focus&&e.focus()}else d(!0,i);return;case"Tab":zf(a.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=p.current)&&t.contains(e.target)||d(!1,i)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),d(!1,i)}})),(0,ae.jsx)(sf.Provider,{value:N,children:(0,ae.jsx)(Uf.Provider,{value:S,children:c})})}Zg.displayName="Dropdown",Zg.Menu=Ig,Zg.Toggle=Vg,Zg.Item=Kg;const $g=Zg,Jg=B.createContext({});Jg.displayName="DropdownContext";const Qg=Jg,ey=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:a,disabled:s=!1,onClick:o,active:i,as:c=If,...l}=e;const u=kp(n,"dropdown-item"),[d,p]=Hg({key:a,href:l.href,disabled:s,onClick:o,active:i});return(0,ae.jsx)(c,{...l,...d,ref:t,className:yp()(r,u,p.isActive&&"active",s&&"disabled")})}));ey.displayName="DropdownItem";const ty=ey,ny=B.createContext(null);ny.displayName="InputGroupContext";const ry=ny;function ay(e,t){return e}function sy(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}const oy=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,align:a,rootCloseEvent:s,flip:o,show:i,renderOnMount:c,as:l="div",popperConfig:u,variant:d,...p}=e,h=!1;const f=(0,B.useContext)(kf),m=kp(n,"dropdown-menu"),{align:g,drop:y,isRTL:b}=(0,B.useContext)(Qg);a=a||g;const v=(0,B.useContext)(ry),x=[];if(a)if("object"===typeof a){const e=Object.keys(a);if(e.length){const t=e[0],n=a[t];h="start"===n,x.push("".concat(m,"-").concat(t,"-").concat(n))}}else"end"===a&&(h=!0);const w=sy(h,y,b),[k,{hasShown:N,popper:S,show:C,toggle:T}]=Tg({flip:o,rootCloseEvent:s,show:i,usePopper:!f&&0===x.length,offset:[0,2],popperConfig:u,placement:w});if(k.ref=tf(ay(t),k.ref),Cf((()=>{C&&(null==S||S.update())}),[C]),!N&&!c&&!v)return null;"string"!==typeof l&&(k.show=C,k.close=()=>null==T?void 0:T(!1),k.align=a);let E=p.style;return null!=S&&S.placement&&(E={...p.style,...k.style},p["x-placement"]=S.placement),(0,ae.jsx)(l,{...p,...k,style:E,...(x.length||f)&&{"data-bs-popper":"static"},className:yp()(r,m,C&&"show",h&&"".concat(m,"-end"),d&&"".concat(m,"-").concat(d),...x)})}));oy.displayName="DropdownMenu",oy.defaultProps={flip:!0};const iy=oy,cy=B.forwardRef(((e,t)=>{let{bsPrefix:n,split:r,className:a,childBsPrefix:s,as:o=ih,...i}=e;const c=kp(n,"dropdown-toggle"),l=(0,B.useContext)(Uf),u=(0,B.useContext)(ry);void 0!==s&&(i.bsPrefix=s);const[d]=Ug();return d.ref=tf(d.ref,ay(t)),(0,ae.jsx)(o,{className:yp()(a,c,r&&"".concat(c,"-split"),!!u&&(null==l?void 0:l.show)&&"show"),...d,...i})}));cy.displayName="DropdownToggle";const ly=cy,uy=Rp("dropdown-header",{defaultProps:{role:"heading"}}),dy=Rp("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),py=Rp("dropdown-item-text",{Component:"span"}),hy=B.forwardRef(((e,t)=>{const{bsPrefix:n,drop:r,show:a,className:s,align:o,onSelect:i,onToggle:c,focusFirstItemOnShow:l,as:u="div",navbar:d,autoClose:p,...h}=Zh(e,{show:"onToggle"}),f=(0,B.useContext)(ry),m=kp(n,"dropdown"),g=function(){const{dir:e}=(0,B.useContext)(vp);return"rtl"===e}(),y=df(((e,t)=>{var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==c||c(e,t))})),b=sy("end"===o,r,g),v=(0,B.useMemo)((()=>({align:o,drop:r,isRTL:g})),[o,r,g]);return(0,ae.jsx)(Qg.Provider,{value:v,children:(0,ae.jsx)($g,{placement:b,show:a,onSelect:i,onToggle:y,focusFirstItemOnShow:l,itemSelector:".".concat(m,"-item:not(.disabled):not(:disabled)"),children:f?h.children:(0,ae.jsx)(u,{...h,ref:t,className:yp()(s,a&&"show",(!r||"down"===r)&&m,"up"===r&&"dropup","end"===r&&"dropend","start"===r&&"dropstart")})})})}));hy.displayName="Dropdown",hy.defaultProps={navbar:!1,align:"start",autoClose:!0};const fy=Object.assign(hy,{Toggle:ly,Menu:iy,Item:ty,ItemText:py,Divider:dy,Header:uy}),my=B.forwardRef(((e,t)=>{let{bsPrefix:n,bg:r,pill:a,text:s,className:o,as:i="span",...c}=e;const l=kp(n,"badge");return(0,ae.jsx)(i,{ref:t,...c,className:yp()(o,l,a&&"rounded-pill",s&&"text-".concat(s),r&&"bg-".concat(r))})}));my.displayName="Badge",my.defaultProps={bg:"primary",pill:!1};const gy=my,yy=n.p+"static/media/sidebar-1.2ea74e53b4baa6bbae05.jpg",by=n.p+"static/media/sidebar-2.00b17713383fae1acce2.jpg",vy=n.p+"static/media/sidebar-3.9992d0cef1150fe9146f.jpg",xy=n.p+"static/media/sidebar-4.b7eb4d1bec304bbb3795.jpg";const wy=function(e){let{hasImage:t,setHasImage:n,color:r,setColor:a,image:s,setImage:o}=e;return(0,ae.jsx)("div",{className:"fixed-plugin",children:(0,ae.jsxs)(fy,{children:[(0,ae.jsx)(fy.Toggle,{id:"dropdown-fixed-plugin",variant:"",className:"text-white border-0 opacity-100",children:(0,ae.jsx)("i",{className:"fas fa-cogs fa-2x mt-1"})}),(0,ae.jsxs)(fy.Menu,{children:[(0,ae.jsxs)("li",{className:"adjustments-line d-flex align-items-center justify-content-between",children:[(0,ae.jsx)("p",{children:"Background Image"}),(0,ae.jsx)(Wh.Check,{type:"switch",id:"custom-switch-1-image",checked:t,onChange:n})]}),(0,ae.jsxs)("li",{className:"adjustments-line mt-3",children:[(0,ae.jsx)("p",{children:"Filters"}),(0,ae.jsxs)("div",{className:"pull-right",children:[(0,ae.jsx)(gy,{variant:"secondary",className:"black"===r?"active":"",onClick:()=>a("black")}),(0,ae.jsx)(gy,{variant:"azure",className:"azure"===r?"active":"",onClick:()=>a("azure")}),(0,ae.jsx)(gy,{variant:"green",className:"green"===r?"active":"",onClick:()=>a("green")}),(0,ae.jsx)(gy,{variant:"orange",className:"orange"===r?"active":"",onClick:()=>a("orange")}),(0,ae.jsx)(gy,{variant:"red",className:"red"===r?"active":"",onClick:()=>a("red")}),(0,ae.jsx)(gy,{variant:"purple",className:"purple"===r?"active":"",onClick:()=>a("purple")})]}),(0,ae.jsx)("div",{className:"clearfix"})]}),(0,ae.jsx)("li",{className:"header-title",children:"Sidebar Images"}),(0,ae.jsx)("li",{className:s===yy?"active":"",children:(0,ae.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:e=>{e.preventDefault(),o(yy)},children:(0,ae.jsx)("img",{alt:"...",src:yy})})}),(0,ae.jsx)("li",{className:s===by?"active":"",children:(0,ae.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:e=>{e.preventDefault(),o(by)},children:(0,ae.jsx)("img",{alt:"...",src:by})})}),(0,ae.jsx)("li",{className:s===vy?"active":"",children:(0,ae.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:e=>{e.preventDefault(),o(vy)},children:(0,ae.jsx)("img",{alt:"...",src:vy})})}),(0,ae.jsx)("li",{className:s===xy?"active":"",children:(0,ae.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:e=>{e.preventDefault(),o(xy)},children:(0,ae.jsx)("img",{alt:"...",src:xy})})}),(0,ae.jsx)("li",{className:"button-container",children:(0,ae.jsx)("div",{children:(0,ae.jsx)(ih,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"info",children:"Download, it's free!"})})}),(0,ae.jsx)("li",{className:"button-container",children:(0,ae.jsx)("div",{children:(0,ae.jsx)(ih,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"default",children:"Checkout docs."})})}),(0,ae.jsx)("li",{className:"header-title pro-title text-center",children:"Want more components?"}),(0,ae.jsx)("li",{className:"button-container",children:(0,ae.jsx)("div",{children:(0,ae.jsx)(ih,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-pro-react",rel:"noopener noreferrer",target:"_blank",variant:"primary",children:"Get The PRO Version!"})})}),(0,ae.jsx)("li",{className:"header-title",id:"sharrreTitle",children:"Thank you for sharing!"}),(0,ae.jsxs)("li",{className:"button-container mb-4",children:[(0,ae.jsxs)(ih,{className:"btn-social btn-outline btn-round sharrre",id:"twitter",variant:"twitter",children:[(0,ae.jsx)("i",{className:"fab fa-twitter"}),"\xb7 256"]}),(0,ae.jsxs)(ih,{className:"btn-social btn-outline btn-round sharrre",id:"facebook",variant:"facebook",children:[(0,ae.jsx)("i",{className:"fab fa-facebook-square"}),"\xb7 426"]})]})]})]})})};const ky=function(){const[e,t]=B.useState(vy),[n,r]=B.useState("black"),[a,s]=B.useState(!0),o=(0,W.useLocation)(),i=B.useRef(null);return B.useEffect((()=>{if(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,i.current.scrollTop=0,window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")){document.documentElement.classList.toggle("nav-open");var e=document.getElementById("bodyClick");e.parentNode.removeChild(e)}}),[o]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("div",{className:"wrapper",children:[(0,ae.jsx)(Mf,{color:n,image:a?e:"",routes:Hh}),(0,ae.jsxs)("div",{className:"main-panel",ref:i,children:[(0,ae.jsx)("div",{className:"content",style:{marginTop:"100px"},children:(0,ae.jsx)(W.Switch,{children:(e=>e.map(((e,t)=>"/user"===e.layout?(0,ae.jsx)(W.Route,{path:e.layout+e.path,render:t=>(0,ae.jsx)(e.component,{...t})},t):null)))(Hh)})}),(0,ae.jsx)(Kh,{})]})]}),(0,ae.jsx)(wy,{hasImage:a,setHasImage:()=>s(!a),color:n,setColor:e=>r(e),image:e,setImage:e=>t(e)})]})};function Ny(e){return Hd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}const Sy={container:{maxWidth:"600px",margin:"50px auto",padding:"10px"},listItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",marginBottom:"10px",transition:"background-color 0.3s"},listItemHover:{backgroundColor:"#f8f9fa"},userInfo:{display:"flex",alignItems:"center",flex:1},username:{fontWeight:"bold",marginRight:"15px"},userId:{color:"#888"},button:{flexShrink:0}},Cy=e=>{let{activate:t,Users:n}=e;const[r,a]=(0,B.useState)(null),s=()=>{a(null)};return(0,ae.jsx)("div",{style:Sy.container,children:n.map(((e,n)=>(0,ae.jsxs)("div",{style:{...Sy.listItem,...r===n?Sy.listItemHover:{}},onMouseEnter:()=>(e=>{a(e)})(n),onMouseLeave:s,children:[(0,ae.jsxs)(Dd.N_,{to:"/userstats/".concat(e._id),style:Sy.userInfo,children:[(0,ae.jsx)("div",{style:Sy.username,className:" text-decoration-none",children:e.full_name}),(0,ae.jsxs)("div",{style:Sy.userId,children:["Phone: ",e.phone]})]}),(0,ae.jsx)("button",{className:"btn  ".concat(t?"btn-danger":"btn-success"),onClick:()=>(async(e,n)=>{try{if(t)try{const{data:e}=await xn.put("".concat("https://fitness-mernstack.onrender.com","/deactivateuseracount"),{userid:n},{withCredentials:!0});e.success?(pr.success("User Acount Deactivated Successfully"),setTimeout((()=>{window.location.reload()}),1e3)):pr.error(e.message)}catch(r){console.log(r),pr.error(data.message)}else try{const{data:e}=await xn.put("".concat("https://fitness-mernstack.onrender.com","/activateuseracount"),{userid:n},{withCredentials:!0});e.success?(pr.success("User Acount Activated Successfully"),setTimeout((()=>{window.location.reload()}),1e3)):pr.error(e.message)}catch(r){console.log(r),pr.error(r.message)}}catch(r){console.error("Error activating user account:",r)}})(0,e._id),style:Sy.button,children:t?"Inactivate":"Activate"})]},e._id)))})};var Ty=n(510),Ey=n.n(Ty);class Iy extends B.Component{constructor(e){super(e),this.state={firstName:"",lastName:""},this.handleFirstNameChanged=this.handleFirstNameChanged.bind(this),this.handleLastNameChanged=this.handleLastNameChanged.bind(this),this.handleRadioChange=this.handleRadioChange.bind(this),this.handleMorningDiet=this.handleMorningDiet.bind(this)}handleFirstNameChanged(e){this.setState({firstName:e.target.value})}handleLastNameChanged(e){this.setState({lastName:e.target.value})}handleRadioChange(e){this.props.setName(e.target.value),console.log(e.target.value)}handleMorningDiet(e){this.props.setMorningdiet(e.target.value),console.log(e.target.value)}render(){return(0,ae.jsxs)("div",{className:"d-flex justify-content-center flex-column",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"form-check form-check-inline",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"loose-weight",onChange:this.handleRadioChange}),(0,ae.jsx)("label",{className:"form-check-label ps-0",htmlFor:"inlineRadio1",children:"Loose Weight Diet"})]}),(0,ae.jsxs)("div",{className:"form-check form-check-inline",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"gain-weight",onChange:this.handleRadioChange}),(0,ae.jsx)("label",{className:"form-check-label ps-0",htmlFor:"inlineRadio2",children:"Gain Weight Diet"})]}),(0,ae.jsxs)("div",{className:"form-check form-check-inline",children:[(0,ae.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio3",value:"fitness",onChange:this.handleRadioChange}),(0,ae.jsx)("label",{className:"form-check-label ps-0",htmlFor:"inlineRadio3",children:"Proper Body Fitness"})]})]}),(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100",children:(0,ae.jsx)("select",{className:"form-select","aria-label":"Default select example",children:(0,ae.jsx)("option",{value:"morning",selected:!0,children:"Morning"})})})}),(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100",children:(0,ae.jsxs)("div",{className:"mb-3",children:[(0,ae.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Write Diet Plan"}),(0,ae.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.props.morningdiet,placeholder:"Enter Morning Diet Plan",onChange:this.handleMorningDiet,required:!0})]})})})]})}}class _y extends B.Component{constructor(e){super(e),this.state={email:"",emailConfirm:""},this.handleEmailChanged=this.handleEmailChanged.bind(this),this.handleEmailConfirmChanged=this.handleEmailConfirmChanged.bind(this),this.handleAfternoonDiet=this.handleAfternoonDiet.bind(this)}handleEmailChanged(e){this.setState({email:e.target.value})}handleEmailConfirmChanged(e){this.setState({emailConfirm:e.target.value})}handleAfternoonDiet(e){this.props.setAfternoondiet(e.target.value)}render(){return(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100",children:(0,ae.jsx)("select",{className:"form-select","aria-label":"Default select example",children:(0,ae.jsx)("option",{value:"afternoon",children:"Afternoon"})})})}),(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100",children:(0,ae.jsxs)("div",{className:"mb-3",children:[(0,ae.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Write Diet Plan"}),(0,ae.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",onChange:this.handleAfternoonDiet})]})})})]})}}class Oy extends B.Component{constructor(e){super(e),this.state={password:"",passwordConfirm:""},this.handlePasswordChanged=this.handlePasswordChanged.bind(this),this.handlePasswordConfirmChanged=this.handlePasswordConfirmChanged.bind(this),this.handleEveningDiet=this.handleEveningDiet.bind(this)}handlePasswordChanged(e){this.setState({password:e.target.value})}handlePasswordConfirmChanged(e){this.setState({passwordConfirm:e.target.value})}handleEveningDiet(e){this.props.setEveningdiet(e.target.value)}render(){return(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100 ",children:(0,ae.jsx)("select",{className:"form-select","aria-label":"Default select example",children:(0,ae.jsx)("option",{value:"1",children:"Evening"})})})}),(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"six columns w-100 ",children:(0,ae.jsxs)("div",{className:"mb-3",children:[(0,ae.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Write Evening Diet Plan"}),(0,ae.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.props.eveningdiet,onChange:this.handleEveningDiet})]})})})]})}}class Ay extends B.Component{constructor(e){super(e),this.state={checked:""},this.handleCheckedChanged=this.handleCheckedChanged.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleCheckedChanged(e){this.setState({checked:e.target.checked})}async handleSubmit(){if(this.state.checked)try{const e=this.props.obj.dietplan;if(""!==e.morning.name&&""!==e.morning.description&&""!==e.afternoon.description&&""!==e.afternoon.name&&""!==e.evening.name&&""!==e.evening.description){const{data:e}=await xn.post("".concat("https://fitness-mernstack.onrender.com","/api/dietregister"),{name:this.props.obj.name,dietplan:this.props.obj.dietplan},{withCredentials:!0});e.success?(pr.success("Diet Plan Added Successfully"),window.location.reload("/")):pr.error(e.message)}else pr.error("Fill All Field Before Submiting!")}catch(e){pr.error("Somethin Went Wrong!"),console.error("Error:",e)}else alert("Please accept the terms and conditions")}render(){return(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"row",children:(0,ae.jsxs)("div",{className:"ten columns terms",children:[(0,ae.jsx)("span",{children:'By clicking "Accept" I agree that:'}),(0,ae.jsxs)("ul",{className:"docs-terms",children:[(0,ae.jsxs)("li",{children:["I have read and accepted the ",(0,ae.jsx)("a",{href:"#",children:"User Agreement"})]}),(0,ae.jsxs)("li",{children:["I have read and accepted the ",(0,ae.jsx)("a",{href:"#",children:"Privacy Policy"})]}),(0,ae.jsx)("li",{children:"I am at least 18 years old"})]}),(0,ae.jsxs)("label",{children:[(0,ae.jsx)("input",{type:"checkbox",checked:this.state.checked,onChange:this.handleCheckedChanged,autoFocus:!0}),(0,ae.jsx)("span",{children:" Accept "})]})]})}),(0,ae.jsx)("button",{className:"btn btn-primary mt-3",onClick:this.handleSubmit,children:"Submit"})]})}}const Ry=()=>{let[e,t]=(0,B.useState)(""),[n,r]=(0,B.useState)(""),[a,s]=(0,B.useState)(""),[o,i]=(0,B.useState)("");const c={name:e,dietplan:{morning:{name:"Morning Diet",description:n},afternoon:{name:"Afternoon Diet",description:a},evening:{name:"Evening Diet",description:o}}},l=[{name:"Name A",component:(0,ae.jsx)(Iy,{setName:t,name:e,morningdiet:n,setMorningdiet:r})},{name:"Email",component:(0,ae.jsx)(_y,{afternoondiet:a,setAfternoondiet:s})},{name:"Password",component:(0,ae.jsx)(Oy,{eveningdiet:o,setEveningdiet:i})},{name:"Agreement",component:(0,ae.jsx)(Ay,{obj:c})}];return(0,B.useEffect)((()=>{console.log(e)}),[]),(0,ae.jsx)("div",{className:" container bg-transparent ",children:(0,ae.jsxs)("div",{className:"App container bg-transparent ",children:[(0,ae.jsx)("h3",{className:" text-center",children:"Register Your Diet Plan"}),(0,ae.jsx)(Ey(),{steps:l,style:{justifyContent:"center"}})]})})},Dy=()=>{let e=0,[t,n]=(0,B.useState)([]),[r,a]=(0,B.useState)([]),[s,o]=(0,B.useState)([]),[i,c]=(0,B.useState)({activeusers:0,nonactiveusers:0});(0,B.useEffect)((()=>{(async()=>{try{const{data:t}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/getallusers?page=").concat(e),{withCredentials:!0});if(t.success){let n=t.activeUsers,r=t.inactiveUsers;a([...n]),o([...r]),c({activeusers:t.totalActiveUsers,nonactiveusers:t.totalInactiveUsers}),e++}else console.log("No Users Exist!")}catch(t){console.log("Error fetching users:",t)}})()}),[]);return(0,B.useEffect)((()=>{!async function(){try{const{data:e}=await xn.get("".concat("https://fitness-mernstack.onrender.com","/api/dietplans"),{withCredentials:!0});if(e.success){let t=e.dietplans;n([...t])}}catch(e){console.log(e)}}()}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("div",{className:" d-flex justify-content-around flex-wrap ",children:[(0,ae.jsx)(_p,{md:"5",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsxs)(Zp.Header,{children:[(0,ae.jsx)(Zp.Title,{as:"h4",children:"Number Of user Registered"}),(0,ae.jsx)("p",{className:"card-category"})]}),(0,ae.jsxs)(Zp.Body,{children:[(0,ae.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:(0,ae.jsx)(ip.A,{data:{labels:["".concat(i.activeusers+i.nonactiveusers," Registered User")],series:[100]},type:"Pie"})}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"far fa-clock"}),"Today Performance"]})]})]})}),(0,ae.jsx)(_p,{md:"5",children:(0,ae.jsxs)(Zp,{children:[(0,ae.jsx)(Zp.Header,{children:(0,ae.jsx)(Zp.Title,{as:"h4",children:"Active Users"})}),(0,ae.jsxs)(Zp.Body,{children:[(0,ae.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:(0,ae.jsx)(ip.A,{data:{labels:[Math.floor(i.activeusers/(i.activeusers+i.nonactiveusers)*100)+"%",Math.floor(i.nonactiveusers/(i.activeusers+i.nonactiveusers)*100)+"%"],series:[100*(i.activeusers/i.activeusers+i.nonactiveusers),100*(i.nonactiveusers/i.activeusers+i.nonactiveusers)]},type:"Pie"})}),(0,ae.jsxs)("div",{className:"legend",children:[(0,ae.jsx)("i",{className:"fas fa-circle text-info"}),"Active ",(0,ae.jsx)("i",{className:"fas fa-circle text-danger"}),"Not Active"]}),(0,ae.jsx)("hr",{}),(0,ae.jsxs)("div",{className:"stats",children:[(0,ae.jsx)("i",{className:"far fa-clock"}),"Today Performance"]})]})]})})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)(Ry,{}),(0,ae.jsx)("h3",{className:"text-center",children:"Registered Diet Plans"}),(null===t||void 0===t?void 0:t.length)>0?t.map(((e,t)=>(0,ae.jsx)("div",{class:"candidate-list-box card mt-4",children:(0,ae.jsxs)("div",{class:"p-4 card-body",children:[(0,ae.jsx)(Dd.N_,{to:"/dietplan/".concat(e.name),children:(0,ae.jsxs)("div",{class:"align-items-center row",children:[(0,ae.jsx)("div",{class:"col-auto",children:(0,ae.jsx)("div",{class:"candidate-list-images"})}),(0,ae.jsx)("div",{class:"col-lg-10",children:(0,ae.jsxs)("div",{class:"candidate-list-content mt-3 mt-lg-0",children:[(0,ae.jsx)("h5",{class:"fs-19 mb-0",children:(0,ae.jsx)("a",{class:"primary-link",href:"#",children:e.name})}),(0,ae.jsx)("p",{class:"text-muted mb-2",children:e.dietplan.morning.name}),(0,ae.jsx)("ul",{class:"list-inline mb-0 text-muted",children:(0,ae.jsxs)("li",{class:"list-inline-item",children:[(0,ae.jsx)("i",{class:"mdi mdi-map-marker"}),e.dietplan.morning.description.split(" ").slice(0,40).join(" ")]})})]})})]})}),(0,ae.jsx)("div",{class:"favorite-icon",children:(0,ae.jsx)("button",{className:"btn btn-danger border-1",children:(0,ae.jsx)(up,{className:" fs-3 ",onClick:()=>(async e=>{try{const t=await xn.delete("".concat("https://fitness-mernstack.onrender.com","/api/deletediet/").concat(e),{withCredentials:!0});t.data.success?(pr.success("Diet Plan Deleted Successfully"),n((t=>t.filter((t=>t.name!==e))))):(pr.error("Something went Wrong!"),console.log(t.data))}catch(t){pr.error("Something went Wrong!"),console.log(t)}})(e.name)})})})]})}))):"",(0,ae.jsx)("h3",{className:"text-center",children:"Registered Users"}),(0,ae.jsxs)("div",{className:" d-flex flex-wrap",children:[i.activeusers>0?(0,ae.jsxs)("div",{className:" border-1",style:{minWidth:"50%",maxWidth:"100%",minHeight:"40vh",height:"auto",borderRight:"1px solid"},children:[(0,ae.jsxs)("h4",{className:"text-center",children:["Active Users- ",i.activeusers]}),(0,ae.jsx)(Cy,{activate:!0,Users:r})]}):"",i.nonactiveusers>0?(0,ae.jsxs)("div",{className:"",style:{minWidth:"50%",maxWidth:"100%",minHeight:"40vh",height:"auto",borderLeft:"1px solid"},children:[(0,ae.jsxs)("h4",{className:"text-center",children:["Non Active Users- ",i.nonactiveusers]}),(0,ae.jsx)(Cy,{activate:!1,Users:s})]}):""]})]})]})},My=()=>{let[e,t]=(0,B.useState)(1);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{style:{marginTop:"80px"}}),(0,ae.jsxs)("div",{className:" w-100 h-auto d-flex mt-2 p-2",children:[(0,ae.jsx)("div",{className:" w-50 text-center ",style:{color:"".concat(1==e?"blue":"")},children:(0,ae.jsx)(Ny,{className:" fs-1",style:{cursor:"pointer"},onClick:()=>t(1)})}),(0,ae.jsx)("div",{className:" w-50 text-center ",style:{color:"".concat(2==e?"blue":"")},children:(0,ae.jsx)(Xd,{className:" fs-1 ",style:{cursor:"pointer"},onClick:()=>t(2)})})]}),(0,ae.jsx)("hr",{}),(0,ae.jsx)("div",{style:{minHeight:"60vh"},children:1==e?(0,ae.jsx)(Dy,{}):(0,ae.jsx)(Gh,{})})]})},Py=e=>{let{component:t,...n}=e;const[r,a]=(0,B.useState)(!1),[s,o]=(0,B.useState)(!0),i=(0,Dd.W6)();return(0,B.useEffect)((()=>{(async()=>{try{(await xn.get("".concat("https://fitness-mernstack.onrender.com","/getuser"),{withCredentials:!0})).data.success?a(!0):i.push("/login")}catch(e){console.log(e)}finally{o(!1)}})()}),[i]),s?(0,ae.jsx)(Vh,{}):(0,ae.jsx)(W.Route,{...n,render:e=>r?(0,ae.jsx)(t,{...e}):(0,ae.jsx)(W.Redirect,{to:"/login"})})},Fy=e=>{let{component:t,...n}=e;const[r,a]=(0,B.useState)(!1),[s,o]=(0,B.useState)(!0),i=(0,Dd.W6)();return(0,B.useEffect)((()=>{(async()=>{try{const e=await xn.get("".concat("https://fitness-mernstack.onrender.com","/getuser"),{withCredentials:!0});e.data.success&&"admin"===e.data.user.role?a(!0):(a(!1),i.push("/login"))}catch(e){console.log("error is:",e),i.push("/login")}finally{o(!1)}})()}),[]),s?(0,ae.jsx)(Vh,{}):(0,ae.jsx)(W.Route,{...n,render:e=>r?(0,ae.jsx)(t,{...e}):(0,ae.jsx)(W.Redirect,{to:"/admin-login"})})},jy=()=>{const{activation_token:e}=(0,W.useParams)(),[t,n]=(0,B.useState)(null),r=(0,W.useHistory)();let a=0;const[s,o]=(0,B.useState)(!1);return(0,B.useEffect)((()=>{e&&function(){if(e&&0===a)try{a=1,xn.post("".concat("https://fitness-mernstack.onrender.com","/api/activation"),{activation_token:e},{withCredentials:!0}).then((e=>{console.log(e),e.data.success&&(pr.success("Your Acount Successfully Created"),n(!0),setTimeout((()=>{r.push("/")}),1e3))})).catch((e=>{pr.error("Your Token Expire Try Again"),n(!1),console.log("There is an Error",e)}))}catch(t){pr.error("Something Went Wrong!"),n(!1)}}()}),[]),(0,B.useEffect)((()=>{if(t){const e=setTimeout((()=>{r.push("/")}),2e3);return()=>clearTimeout(e)}}),[t,r]),(0,ae.jsx)(ae.Fragment,{children:null!==t&&(0,ae.jsx)("div",{children:t?(0,ae.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"90vh"},children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("h1",{className:"mb-4",children:"Your Account is Successfully Activated"}),(0,ae.jsx)("p",{children:"Redirecting you to home page..."})]})}):(0,ae.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"90vh"},children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("h1",{className:"mb-4",children:"Token Expired"}),(0,ae.jsx)("p",{children:"Please Register Again"})]})})})})},Ly=()=>{const{activation_token:e}=(0,W.useParams)(),[t,n]=(0,B.useState)(null),r=(0,W.useHistory)();let a=0;const[s,o]=(0,B.useState)(!1);return(0,B.useEffect)((()=>{e&&function(){if(e&&0===a)try{a=1,xn.put("".concat("https://fitness-mernstack.onrender.com","/api/passwordchange"),{activation_token:e},{withCredentials:!0}).then((e=>{console.log(e),e.data.success&&(pr.success("Your Password Change Successfully"),n(!0),setTimeout((()=>{r.push("/")}),1e3))})).catch((e=>{pr.error("Your Token Expire Try Again"),n(!1),console.log("There is an Error",e)}))}catch(t){pr.error("Something Went Wrong!"),n(!1)}}()}),[]),(0,B.useEffect)((()=>{if(t){const e=setTimeout((()=>{r.push("/")}),2e3);return()=>clearTimeout(e)}}),[t,r]),(0,ae.jsx)(ae.Fragment,{children:null!==t&&(0,ae.jsx)("div",{children:t?(0,ae.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"90vh"},children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("h1",{className:"mb-4",children:"Your Account is Successfully Updated"}),(0,ae.jsx)("p",{children:"Redirecting you to home page..."})]})}):(0,ae.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"90vh"},children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("h1",{className:"mb-4",children:"Token Expired"}),(0,ae.jsx)("p",{children:"Please Update Password Again"})]})})})})},zy={wrapper:{minHeight:"70vh",display:"flex",background:"black",backgroundSize:"cover",marginTop:"85px"},inner:{minWidth:"850px",margin:"auto",display:"flex"},form:{width:"100%",backgroundImage:"url('https://static.vecteezy.com/system/resources/previews/025/851/892/non_2x/bodybuilder-male-figure-icon-gym-logo-template-athletic-man-sign-white-silhouette-on-black-background-illustration-vector.jpg')",paddingTop:"63px",paddingLeft:"20px",paddingRight:"20px",margin:"0px auto"},formWrapper:{color:"#fff",display:"flex",alignItems:"center",marginBottom:"16px"},formPrice:{marginBottom:"19px"},formSelect:{marginBottom:"10px"},formHolder:{position:"relative"},formControl:{width:"67.08%",height:"25px",width:"80%",display:"block",fontSize:"13px",border:"none",borderBottom:"1px solid #6967a1",background:"none",color:"#fff",padding:"0",outline:"none"},selectFormControl:{width:"30px",border:"none",fontSize:"15px",cursor:"pointer",transform:"translateY(-1px)"},button:{height:"42px",width:"191px",display:"inline-flex",alignItems:"center",justifyContent:"center",border:"none",fontSize:"15px",color:"#fff",marginTop:"24px",transition:"all 0.5s ease",backgroundImage:"linear-gradient(to right, #cb6e7a 0%, #be6779 12%, #ae5e77 23%, #42236b 78%, #321a69 88%, #251368 100%)"},imageHolder:{width:"50%",maxHeight:"550px"},h3:{fontSize:"44px",textAlign:"center",marginBottom:"38px",color:"white",fontFamily:'"Jacquard 12", system-ui'},inputcontainer:{},inputlabel:{width:"20%"},inputtag:{width:"80%"}},By=()=>{const[e,t]=(0,B.useState)({email:"",password:""}),[n,r]=((0,W.useHistory)(),(0,B.useState)(!1)),a=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{style:zy.wrapper,children:(0,ae.jsx)("div",{style:zy.inner,children:(0,ae.jsxs)("form",{style:zy.form,className:" position-relative",onSubmit:async t=>{t.preventDefault();try{r(!0);(await xn.post("".concat("https://fitness-mernstack.onrender.com","/api/login"),e,{withCredentials:!0})).data.success?(pr.success("Login Successfully!"),r(!1),window.location.href="/"):(pr.error("Invalid Credentials"),r(!1))}catch(n){console.log(n),pr.error(null===n||void 0===n?void 0:n.message),r(!1)}},children:[(0,ae.jsx)("div",{className:"overlay position-absolute"}),(0,ae.jsxs)("div",{className:" position-relative",style:{zIndex:"1001"},children:[(0,ae.jsx)("h3",{style:zy.h3,children:"Login Form"}),(0,ae.jsxs)("div",{style:zy.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:zy.inputlabel,children:"Email"}),(0,ae.jsx)("input",{className:"inputtag",type:"email",name:"email",value:e.email,onChange:a,required:!0,style:zy.formControl})]}),(0,ae.jsxs)("div",{style:zy.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:zy.inputlabel,children:"Password"}),(0,ae.jsx)("input",{className:"inputtag",type:"password",name:"password",value:e.password,onChange:a,required:!0,style:zy.formControl})]}),(0,ae.jsx)("div",{children:(0,ae.jsx)(Dd.N_,{to:"/forgetpassword",children:"Forget Password"})}),n?(0,ae.jsx)("button",{style:zy.button,className:" mb-2 ",children:(0,ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,ae.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(0,ae.jsx)("button",{style:zy.button,className:" mb-2 ",children:"Submit"})]})]})})})})},Uy=()=>{var e,t,n,r,a,s,o,i,c,l,u,d,p,h,f,m,g,y;const[b]=mp(),{plantype:v}=(0,W.useParams)();(0,W.useHistory)();(0,B.useEffect)((()=>{}),[b]);let x=b.filter((e=>e.name===v));return console.log(x),(0,ae.jsx)(ae.Fragment,{children:b.length>0?x.length>0?(0,ae.jsxs)("div",{className:"container bg-white",style:{marginTop:"80px"},children:[(0,ae.jsx)("div",{className:"row mb-4",children:(0,ae.jsx)("div",{className:"col",children:(0,ae.jsx)("div",{className:"card shadow-sm border-0 rounded-3",children:(0,ae.jsxs)("div",{className:"card-body",children:[(0,ae.jsx)("h2",{className:"card-title mb-3",children:null===(e=x[0])||void 0===e||null===(t=e.dietplan)||void 0===t||null===(n=t.morning)||void 0===n?void 0:n.name}),(0,ae.jsx)("p",{className:"card-text",children:null===(r=x[0])||void 0===r||null===(a=r.dietplan)||void 0===a||null===(s=a.morning)||void 0===s?void 0:s.description})]})})})}),(0,ae.jsx)("hr",{}),(0,ae.jsx)("div",{className:"row mb-4",children:(0,ae.jsx)("div",{className:"col",children:(0,ae.jsx)("div",{className:"card shadow-sm border-0 rounded-3",children:(0,ae.jsxs)("div",{className:"card-body",children:[(0,ae.jsx)("h2",{className:"card-title mb-3",children:null===(o=x[0])||void 0===o||null===(i=o.dietplan)||void 0===i||null===(c=i.afternoon)||void 0===c?void 0:c.name}),(0,ae.jsx)("p",{className:"card-text",children:null===(l=x[0])||void 0===l||null===(u=l.dietplan)||void 0===u||null===(d=u.afternoon)||void 0===d?void 0:d.description})]})})})}),(0,ae.jsx)("hr",{}),(0,ae.jsx)("div",{className:"row mb-4",children:(0,ae.jsx)("div",{className:"col",children:(0,ae.jsx)("div",{className:"card shadow-sm border-0 rounded-3",children:(0,ae.jsxs)("div",{className:"card-body",children:[(0,ae.jsx)("h2",{className:"card-title mb-3",children:null===(p=x[0])||void 0===p||null===(h=p.dietplan)||void 0===h||null===(f=h.evening)||void 0===f?void 0:f.name}),(0,ae.jsx)("p",{className:"card-text",children:null===(m=x[0])||void 0===m||null===(g=m.dietplan)||void 0===g||null===(y=g.evening)||void 0===y?void 0:y.name})]})})})})]}):(0,ae.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,ae.jsx)("p",{children:"No matching diet plan found."})}):(0,ae.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,ae.jsx)("span",{className:"sr-only",children:"Loading..."})})})})},Wy=()=>{let[e,t]=Nn();const{userId:n}=(0,Dd.g)(),[r,a]=(0,B.useState)([]),[s,o]=(0,B.useState)(1),[i,c]=(0,B.useState)(1),[l,u]=(0,B.useState)(""),[d,p]=(0,B.useState)(""),[h,f]=(0,B.useState)(""),[m,g]=(0,B.useState)(""),[y,b]=(0,B.useState)("");return(0,B.useEffect)((()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{const o=await xn.get("".concat("https://fitness-mernstack.onrender.com","/admin/user-performance?page=").concat(e,"&id=").concat(n),{withCredentials:!0});if(o.data.success){var t,r,s;console.log("data",o.data);const{userperformance:e,totalPages:n}=o.data;console.log("total pages",n),a(e),c(n),u(o.data.plantype),p(o.data.gainupto),f(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.url),g(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.description),b(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.name)}}catch(o){pr.error("Network Errro"),console.error("Error fetching performance data:",o)}}(s)}),[s]),(0,ae.jsxs)("div",{style:{marginTop:"100px"},children:[(0,ae.jsx)("h3",{children:"user Detail"}),""!=y?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("p",{className:" mb-1",children:[(0,ae.jsx)("span",{className:"",children:"Name: "})," ",y]}),(0,ae.jsxs)("p",{className:" mb-1",children:[(0,ae.jsx)("span",{className:"",children:"Description: "}),m]}),(0,ae.jsxs)("p",{className:" mb-1",children:[(0,ae.jsx)("span",{className:"",children:"Plan Type: "}),l]})]}):"",(0,ae.jsxs)("h3",{className:"text-center",children:["Last ",null===r||void 0===r?void 0:r.length," Days Progress"]}),(0,ae.jsxs)("div",{className:"last-7days-performance",children:[(0,ae.jsxs)("table",{className:"table table-hover",children:[(0,ae.jsx)("thead",{children:(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{scope:"col",children:"Date"}),(0,ae.jsx)("th",{scope:"col",children:"Step Covered"}),(0,ae.jsx)("th",{scope:"col",children:"loose-weight"===l?"Calories Burned":"gain-weight"===l?"Calories Gained":0===d?"Calories Burned":"Calories Gained"}),(0,ae.jsx)("th",{scope:"col",children:"Active Exercise"})]})}),(0,ae.jsx)("tbody",{children:(null===r||void 0===r?void 0:r.length)>0&&r.map(((e,t)=>(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{scope:"row",children:new Date(e.date).toISOString().split("T")[0]}),(0,ae.jsx)("td",{children:e.progress.stepcovered}),(0,ae.jsx)("td",{children:e.progress.caloriesburned}),(0,ae.jsxs)("td",{children:[e.progress.activeexercise," hour"]})]},t)))})]}),(0,ae.jsxs)("div",{className:"pagination",children:[(0,ae.jsx)("button",{onClick:()=>o((e=>Math.max(e-1,1))),disabled:1===s,children:"Previous"}),(0,ae.jsxs)("span",{children:["Page ",s," of ",i]}),(0,ae.jsx)("button",{onClick:()=>function(){console.log("Handle Next Run!"),o((e=>Math.min(e+1,i)));let e=Math.min(s+1,i);console.log("Next Page is: ",e)}(),disabled:s===i,children:"Next"})]})]}),(0,ae.jsx)("h3",{children:"Payment Proof"}),""==h||null==h||void 0==h?(0,ae.jsx)("h4",{className:" text-decoration-underline",children:"No Payment Proof Found"}):(0,ae.jsx)("div",{className:"text-center mb-1",children:(0,ae.jsx)("img",{src:"".concat(h),className:"rounded card",alt:"...",style:{height:"auto",width:"250px"}})})]})},Vy={wrapper:{minHeight:"70vh",display:"flex",background:"black",backgroundSize:"cover",marginTop:"85px"},inner:{minWidth:"850px",margin:"auto",display:"flex"},form:{width:"100%",backgroundImage:"url('https://static.vecteezy.com/system/resources/previews/025/851/892/non_2x/bodybuilder-male-figure-icon-gym-logo-template-athletic-man-sign-white-silhouette-on-black-background-illustration-vector.jpg')",paddingTop:"63px",paddingLeft:"20px",paddingRight:"20px",margin:"0px auto"},formWrapper:{color:"#fff",display:"flex",alignItems:"center",marginBottom:"16px"},formPrice:{marginBottom:"19px"},formSelect:{marginBottom:"10px"},formHolder:{position:"relative"},formControl:{width:"67.08%",height:"25px",width:"80%",display:"block",fontSize:"13px",border:"none",borderBottom:"1px solid #6967a1",background:"none",color:"#fff",padding:"0",outline:"none"},selectFormControl:{width:"30px",border:"none",fontSize:"15px",cursor:"pointer",transform:"translateY(-1px)"},button:{height:"42px",width:"191px",display:"inline-flex",alignItems:"center",justifyContent:"center",border:"none",fontSize:"15px",color:"#fff",marginTop:"24px",transition:"all 0.5s ease",backgroundImage:"linear-gradient(to right, #cb6e7a 0%, #be6779 12%, #ae5e77 23%, #42236b 78%, #321a69 88%, #251368 100%)"},imageHolder:{width:"50%",maxHeight:"550px"},h3:{fontSize:"44px",textAlign:"center",marginBottom:"38px",color:"white",fontFamily:'"Jacquard 12", system-ui'},inputcontainer:{},inputlabel:{width:"20%"},inputtag:{width:"80%"}},Gy=()=>{const[e,t]=(0,B.useState)({email:"",password:"",confirmpassword:""}),[n,r]=((0,W.useHistory)(),(0,B.useState)(!1)),a=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{style:Vy.wrapper,children:(0,ae.jsx)("div",{style:Vy.inner,children:(0,ae.jsxs)("form",{style:Vy.form,className:" position-relative",onSubmit:async t=>{t.preventDefault();try{if(e.password!=e.confirmpassword)return void pr.error("Password Doesn't Match!");r(!0);(await xn.put("".concat("https://fitness-mernstack.onrender.com","/api/changepassword"),e,{withCredentials:!0})).data.success?(pr.success("Please Check Your Email to Verify!"),r(!1)):(pr.error("Email Not Found"),r(!1))}catch(n){console.log(n),pr.error(null===n||void 0===n?void 0:n.message),r(!1)}},children:[(0,ae.jsx)("div",{className:"overlay position-absolute"}),(0,ae.jsxs)("div",{className:" position-relative",style:{zIndex:"1001"},children:[(0,ae.jsx)("h3",{style:Vy.h3,children:"Forget Password Form"}),(0,ae.jsxs)("div",{style:Vy.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:Vy.inputlabel,children:"Email"}),(0,ae.jsx)("input",{className:"inputtag",type:"email",name:"email",value:e.email,onChange:a,required:!0,style:Vy.formControl})]}),(0,ae.jsxs)("div",{style:Vy.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:Vy.inputlabel,children:"New Password"}),(0,ae.jsx)("input",{className:"inputtag",type:"password",name:"password",value:e.password,onChange:a,required:!0,style:Vy.formControl})]}),(0,ae.jsxs)("div",{style:Vy.formWrapper,children:[(0,ae.jsx)("label",{className:"inputlabel",style:Vy.inputlabel,children:"Confirm New Password"}),(0,ae.jsx)("input",{className:"inputtag",type:"password",name:"confirmpassword",value:e.confirmpassword,onChange:a,required:!0,style:Vy.formControl})]}),n?(0,ae.jsx)("button",{style:Vy.button,className:" mb-2 ",children:(0,ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,ae.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(0,ae.jsx)("button",{style:Vy.button,className:" mb-2 ",children:"Submit"})]})]})})})})};class Hy{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class qy{refCount(e){return Ky("refCount")}incRef(e){return Ky("incRef")}timerAvailable(){return!0}time(e){return Ky("time")}read(e){return Ky("read")}readSync(e){return Ky("readSync")}readToGPU(e,t){return Ky("readToGPU")}numDataIds(){return Ky("numDataIds")}disposeData(e,t){return Ky("disposeData")}write(e,t,n){return Ky("write")}move(e,t,n,r,a){return Ky("move")}createTensorFromGPUData(e,t,n){return Ky("createTensorFromGPUData")}memory(){return Ky("memory")}floatPrecision(){return Ky("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Ky("dispose")}}function Ky(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function Xy(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Jy(e,t,n)}function Yy(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,Jy(e,n,r),Jy(t,n,r)}function Zy(e,t,n){return Math.max(e,Math.min(t,n))}function $y(e){return e%2===0?e:e+1}function Jy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qy(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function eb(e,t){const n=Math.random();return t*n+(1-n)*e}function tb(e,t){let n=0;for(let r=0;r<e.length;r++){const a=Number(e[r])-Number(t[r]);n+=a*a}return n}function nb(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function rb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";nb(cb(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function ab(e){nb(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function sb(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function ob(e){return 0===e.length}function ib(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}function cb(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lb(e){return e%1===0}function ub(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function db(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function pb(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return Xy(t),t}function hb(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function fb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((a,s)=>{let o=0;const i=()=>{if(e())return void a();o++;const c=t(o);null!=n&&o>=n?s():null!=r?r(i,c):setTimeout(i,c)};i()}))}function mb(e,t){let n=1,r=-1;for(let s=0;s<e.length;++s)if(e[s]>=0)n*=e[s];else if(-1===e[s]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(s));r=s}else if(e[s]<0)throw Error("Shapes can not be < 0. Found ".concat(e[s]," at dim ").concat(s));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const a=e.slice();return a[r]=t/n,a}function gb(e,t){const n=t.length;return nb((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),nb(e.every((e=>lb(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function yb(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:gb(t,e).sort();let o=0;for(let i=0;i<e.length;++i){if(null!=s){if(s[o]===i&&1!==e[i])throw new Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==s[o]||s[o]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),s[o]<=i&&o++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}function bb(e,t){return vb(e,t)}function vb(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function xb(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function wb(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function kb(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function Nb(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Sb(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function Cb(e){return"string"===typeof e||e instanceof String}function Tb(e){return"boolean"===typeof e}function Eb(e){return"number"===typeof e}function Ib(e){return Array.isArray(e)?Ib(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":Eb(e)?"float32":Cb(e)?"string":Tb(e)?"bool":"float32"}function _b(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ob(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function Ab(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Rb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const s=t[0]*(r?2:1);for(let t=0;t<s;t++)a[t]=n[e+t]}else{const s=t[0],o=t.slice(1),i=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<s;t++)a[t]=Rb(e+t*i,o,n,r)}return a}function Db(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return Rb(0,e,t,n)}function Mb(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function Pb(e,t){const n=Fb(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Fb(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function jb(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return Db(e,new Float32Array(n));if("int32"===t)return Db(e,new Int32Array(n));if("bool"===t)return Db(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function Lb(e){e.forEach((t=>{nb(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function zb(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function Bb(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Ub(e){return e&&e.then&&"function"===typeof e.then}const Wb="tfjsflags";class Vb{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Gb,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(Hb().getBool("IS_TEST")||Hb().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];Hb().getBool("IS_TEST")||Hb().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Ub(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Wb in e){e[Wb].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function Gb(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function Hb(){return Kb}let qb,Kb=null;function Xb(){if(null==qb){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}qb=e}return qb}function Yb(e,t){const n=function(){const e=Xb();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const Zb="Abs",$b="Acos",Jb="Acosh",Qb="Add",ev="AddN",tv="All",nv="Any",rv="ArgMax",av="ArgMin",sv="Asin",ov="Asinh",iv="Atan",cv="Atanh",lv="Atan2",uv="AvgPool",dv="AvgPoolGrad",pv="AvgPool3D",hv="AvgPool3DGrad",fv="BatchMatMul",mv="BatchToSpaceND",gv="Bincount",yv="BitwiseAnd",bv="BroadcastTo",vv="BroadcastArgs",xv="Cast",wv="Ceil",kv="ClipByValue",Nv="Complex",Sv="ComplexAbs",Cv="Concat",Tv="Conv2D",Ev="Conv2DBackpropFilter",Iv="Conv2DBackpropInput",_v="Conv3D",Ov="Conv3DBackpropFilterV2",Av="Conv3DBackpropInputV2",Rv="Cos",Dv="Cosh",Mv="Cumprod",Pv="Cumsum",Fv="CropAndResize",jv="DenseBincount",Lv="DepthToSpace",zv="DepthwiseConv2dNative",Bv="DepthwiseConv2dNativeBackpropFilter",Uv="DepthwiseConv2dNativeBackpropInput",Wv="Diag",Vv="Dilation2D",Gv="Dilation2DBackpropInput",Hv="Dilation2DBackpropFilter",qv="Draw",Kv="RealDiv",Xv="Einsum",Yv="Elu",Zv="EluGrad",$v="Erf",Jv="Equal",Qv="Exp",ex="ExpandDims",tx="Expm1",nx="FFT",rx="Fill",ax="FlipLeftRight",sx="Floor",ox="FloorDiv",ix="FusedBatchNorm",cx="GatherV2",lx="GatherNd",ux="Greater",dx="GreaterEqual",px="Identity",hx="IFFT",fx="Imag",mx="IsFinite",gx="IsInf",yx="IsNan",bx="LeakyRelu",vx="Less",xx="LessEqual",wx="LinSpace",kx="Log",Nx="Log1p",Sx="LogicalAnd",Cx="LogicalNot",Tx="LogicalOr",Ex="LogicalXor",Ix="LogSoftmax",_x="LowerBound",Ox="LRN",Ax="LRNGrad",Rx="MatrixBandPart",Dx="Max",Mx="Maximum",Px="MaxPool",Fx="MaxPoolGrad",jx="MaxPool3D",Lx="MaxPool3DGrad",zx="MaxPoolWithArgmax",Bx="Mean",Ux="Min",Wx="Minimum",Vx="MirrorPad",Gx="Mod",Hx="Multinomial",qx="Multiply",Kx="Neg",Xx="NotEqual",Yx="NonMaxSuppressionV3",Zx="NonMaxSuppressionV4",$x="NonMaxSuppressionV5",Jx="OnesLike",Qx="OneHot",ew="Pack",tw="PadV2",nw="Pool",rw="Pow",aw="Prelu",sw="Prod",ow="RaggedGather",iw="RaggedRange",cw="RaggedTensorToTensor",lw="Range",uw="Real",dw="Reciprocal",pw="Relu",hw="Reshape",fw="ResizeNearestNeighbor",mw="ResizeNearestNeighborGrad",gw="ResizeBilinear",yw="ResizeBilinearGrad",bw="Relu6",vw="Reverse",xw="Round",ww="Rsqrt",kw="ScatterNd",Nw="TensorScatterUpdate",Sw="SearchSorted",Cw="Select",Tw="Selu",Ew="Slice",Iw="Sin",_w="Sinh",Ow="Sign",Aw="Sigmoid",Rw="Softplus",Dw="Sqrt",Mw="Sum",Pw="SpaceToBatchND",Fw="SplitV",jw="Softmax",Lw="SparseFillEmptyRows",zw="SparseReshape",Bw="SparseSegmentMean",Uw="SparseSegmentSum",Ww="SparseToDense",Vw="SquaredDifference",Gw="Square",Hw="StaticRegexReplace",qw="StridedSlice",Kw="StringNGrams",Xw="StringSplit",Yw="StringToHashBucketFast",Zw="Sub",$w="Tan",Jw="Tanh",Qw="Tile",ek="TopK",tk="Transform",nk="Transpose",rk="Unique",ak="Unpack",sk="UnsortedSegmentSum",ok="UpperBound",ik="ZerosLike",ck="Step",lk="FromPixels",uk="RotateWithOffset",dk="_FusedMatMul",pk="FusedConv2D",hk="FusedDepthwiseConv2D";function fk(){Hb().getBool("IS_TEST")||Hb().getBool("PROD")||console.warn(...arguments)}function mk(){Hb().getBool("IS_TEST")||Hb().getBool("PROD")||console.log(...arguments)}const gk=Yb("kernelRegistry",(()=>new Map)),yk=Yb("gradRegistry",(()=>new Map));function bk(e,t){const n=Tk(e,t);return gk.get(n)}function vk(e){return yk.get(e)}function xk(e){const t=gk.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[s,o]=a,[i]=s.split("_");i===e&&n.push(o)}return n}function wk(e){const{kernelName:t,backendName:n}=e,r=Tk(t,n);gk.has(r)&&fk("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),gk.set(r,e)}function kk(e){const{kernelName:t}=e;yk.has(t)&&Hb().getBool("DEBUG")&&fk("Overriding the gradient for '".concat(t,"'")),yk.set(t,e)}function Nk(e,t){const n=Tk(e,t);if(!gk.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));gk.delete(n)}function Sk(e){if(!yk.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));yk.delete(e)}function Ck(e,t){xk(e).forEach((e=>{wk(Object.assign({},e,{backendName:t}))}))}function Tk(e,t){return"".concat(t,"_").concat(e)}function Ek(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var Ik=n(7353);const _k=n.n(Ik)()||Ik;function Ok(e){return _k.fromString(e,!0,16)}const Ak=Ok("c3a5c85c97cb3127"),Rk=Ok("b492b66fbe98f273"),Dk=Ok("9ae16a3b2f90404f");function Mk(e){return e.xor(e.shru(47))}function Pk(e,t,n){const r=e.slice(t,t+n);return _k.fromBytes(Array.from(r),!0,!0)}function Fk(e,t){return Pk(e,t,8)}function jk(e,t){return Pk(e,t,4)}function Lk(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function zk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ok("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Bk(e,t,n,r){return function(e,t,n,r,a,s){a=a.add(e),s=Lk(s.add(a).add(r),21);const o=a;return a=(a=a.add(t)).add(n),s=s.add(Lk(a,44)),[a.add(r),s.add(o)]}(Fk(e,t),Fk(e,t+8),Fk(e,t+16),Fk(e,t+24),n,r)}function Uk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=_k.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=Dk.add(2*t),r=Fk(e,0).add(Dk),a=Fk(e,t-8);return zk(Lk(a,37).mul(n).add(r),Lk(r,25).add(a).mul(n),n)}if(t>=4){const n=Dk.add(2*t);return zk(jk(e,0).shl(3).add(t),jk(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Mk(Dk.mul(n).xor(Ak.mul(r))).mul(Dk)}return Dk}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Dk.add(2*t),r=Fk(e,0).mul(Rk),a=Fk(e,8),s=Fk(e,t-8).mul(n),o=Fk(e,t-16).mul(Dk);return zk(Lk(r.add(a),43).add(Lk(s,30)).add(o),r.add(Lk(a.add(Dk),18)).add(s),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Dk.add(2*t),r=Fk(e,0).mul(Dk),a=Fk(e,8),s=Fk(e,t-8).mul(n),o=Fk(e,t-16).mul(Dk),i=Lk(r.add(a),43).add(Lk(s,30)).add(o),c=zk(i,r.add(Lk(a.add(Dk),18)).add(s),n),l=Fk(e,16).mul(n),u=Fk(e,24),d=i.add(Fk(e,t-32)).mul(n),p=c.add(Fk(e,t-24)).mul(n);return zk(Lk(l.add(u),43).add(Lk(d,30)).add(p),l.add(Lk(u.add(r),18)).add(d),n)}(e,t);let r=n,a=n.mul(Rk).add(113),s=Mk(a.mul(Dk).add(113)).mul(Dk),o=[_k.UZERO,_k.UZERO],i=[_k.UZERO,_k.UZERO];r=r.mul(Dk).add(Fk(e,0));let c=0;const l=64*(t-1>>6),u=l+(t-1&63)-63;do{r=Lk(r.add(a).add(o[0]).add(Fk(e,c+8)),37).mul(Rk),a=Lk(a.add(o[1]).add(Fk(e,c+48)),42).mul(Rk),r=r.xor(i[1]),a=a.add(o[0]).add(Fk(e,c+40)),s=Lk(s.add(i[0]),33).mul(Rk),o=Bk(e,c,o[1].mul(Rk),r.add(i[0])),i=Bk(e,c+32,s.add(i[1]),a.add(Fk(e,c+16))),[s,r]=[r,s],c+=64}while(c!==l);const d=Rk.add(s.and(255).shl(1));return c=u,i[0]=i[0].add(t-1&63),o[0]=o[0].add(i[0]),i[0]=i[0].add(o[0]),r=Lk(r.add(a).add(o[0]).add(Fk(e,c+8)),37).mul(d),a=Lk(a.add(o[1]).add(Fk(e,c+48)),42).mul(d),r=r.xor(i[1].mul(9)),a=a.add(o[0].mul(9).add(Fk(e,c+40))),s=Lk(s.add(i[0]),33).mul(d),o=Bk(e,c,o[1].mul(d),r.add(i[0])),i=Bk(e,c+32,s.add(i[1]),a.add(Fk(e,c+16))),[s,r]=[r,s],zk(zk(o[0],i[0],d).add(Mk(a).mul(Ak)).add(s),zk(o[1],i[1],d).add(r),d)}function Wk(e,t){return"string"===t?qk(e):Vk([e],t)}function Vk(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Yk(e)),Hb().getBool("DEBUG")&&xb(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function Gk(){return Hb().platform.now()}function Hk(e,t){return Hb().platform.fetch(e,t)}function qk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Hb().platform.encode(e,t)}function Kk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Hb().platform.decode(e,t)}function Xk(e){return null!=Hb().platform.isTypedArray?Hb().platform.isTypedArray(e):Ek(e)}function Yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||Ub(e)||null==e||Xk(e)&&n)t.push(e);else if(Array.isArray(e)||Xk(e))for(let r=0;r<e.length;++r)Yk(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)Yk(e[a],t,n)}return t}class Zk{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Jk)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let s;const o=Gk();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();s=Promise.resolve({kernelMs:Gk()-o})}if(Hb().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{$k(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:s.then((e=>e.kernelMs)),extraInfo:s.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),r,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function $k(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class Jk{logKernelProfile(e,t,n,r,a,s){const o="number"===typeof r?hb("".concat(r,"ms"),9):r.error,i=hb(e,25),c=t.rank,l=t.size,u=hb(t.shape.toString(),14);let d="";for(const p in a){const e=a[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(p,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(i,"\t%c").concat(o,"\t%c").concat(c,"D ").concat(u,"\t%c").concat(l,"\t%c").concat(d,"\t%c").concat(s),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const Qk=20,eN=3,tN=7;function nN(e,t,n,r){const a=Ab(t),s=function(e,t,n,r){const a=sb(t),s=r[r.length-1],o=new Array(s).fill(0),i=t.length,c="complex64"===n?oN(e):e;if(i>1)for(let l=0;l<a/s;l++){const e=l*s;for(let t=0;t<s;t++)o[t]=Math.max(o[t],rN(c[e+t],0,n).length)}return o}(e,t,n,a),o=t.length,i=sN(e,t,n,a,s),c=["Tensor"];return r&&(c.push("  dtype: ".concat(n)),c.push("  rank: ".concat(o)),c.push("  shape: [".concat(t,"]")),c.push("  values:")),c.push(i.map((e=>"    "+e)).join("\n")),c.join("\n")}function rN(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(tN))," + ")+"".concat(parseFloat(e[1].toFixed(tN)),"j"):Cb(e)?"'".concat(e,"'"):"bool"===n?aN(e):parseFloat(e.toFixed(tN)).toString(),hb(r,t)}function aN(e){return 0===e?"false":"true"}function sN(e,t,n,r,a){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const o="complex64"===n?2:1,i=t[0],c=t.length;if(0===c){if("complex64"===n){return[rN(oN(e)[0],0,n)]}return"bool"===n?[aN(e[0])]:[e[0].toString()]}if(1===c){if(i>Qk){const t=eN*o;let r=Array.from(e.slice(0,t)),s=Array.from(e.slice((i-eN)*o,i*o));return"complex64"===n&&(r=oN(r),s=oN(s)),["["+r.map(((e,t)=>rN(e,a[t],n))).join(", ")+", ..., "+s.map(((e,t)=>rN(e,a[i-eN+t],n))).join(", ")+"]"]}return["["+("complex64"===n?oN(e):Array.from(e)).map(((e,t)=>rN(e,a[t],n))).join(", ")+"]"]}const l=t.slice(1),u=r.slice(1),d=r[0]*o,p=[];if(i>Qk){for(let t=0;t<eN;t++){const r=t*d,s=r+d;p.push(...sN(e.slice(r,s),l,n,u,a,!1))}p.push("...");for(let t=i-eN;t<i;t++){const r=t*d,s=r+d;p.push(...sN(e.slice(r,s),l,n,u,a,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,r=t+d;p.push(...sN(e.slice(t,r),l,n,u,a,m===i-1))}const h=2===c?",":"";p[0]="["+(i>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<c;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(s?"":f),p}function oN(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class iN{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=sb(e),null!=n){const e=n.length;nb(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||vb(t,this.size),this.strides=Ab(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),nb(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const s of t){if(s<0||s>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let a=t[t.length-1];for(let s=0;s<t.length-1;++s)a+=this.strides[s]*t[s];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return cN().makeTensor(this.values,this.shape,this.dtype)}}let cN=null,lN=null,uN=null;class dN{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=sb(e),this.strides=Ab(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return lN.buffer(this.shape,this.dtype,e)}bufferSync(){return lN.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Db(this.shape,e,"complex64"===this.dtype)}arraySync(){return Db(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=cN().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>Kk(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),cN().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=cN().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>Kk(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await cN().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),cN().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return lN.print(this,e)}clone(){return this.throwIfDisposed(),lN.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return nN(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),lN.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),cN().makeVariable(this,e,t,n)}}function pN(){return Yb("Tensor",(()=>dN))}Object.defineProperty(dN,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),pN();class hN extends dN{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!cb(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));cN().disposeTensor(this),this.dataId=e.dataId,cN().incRef(this,null)}dispose(){cN().disposeVariable(this),this.isDisposedInternal=!0}}var fN,mN,gN,yN,bN;Object.defineProperty(hN,Symbol.hasInstance,{value:e=>e instanceof dN&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(fN||(fN={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(mN||(mN={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(gN||(gN={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(yN||(yN={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(bN||(bN={}));const vN={float32:yN,int32:mN,bool:gN,complex64:bN};function xN(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return vN[e][t]}function wN(e){return xN(e,"int32")}function kN(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function NN(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function SN(e,t){if(e.dtype===t.dtype)return[e,t];const n=xN(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function CN(e,t){nb(e.dtype===t.dtype,(()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")))}function TN(e,t){return t.some((t=>t.id===e.id))}function EN(e){const t=[];return IN(e,t,new Set),t}function IN(e,t,n){if(null==e)return;if(e instanceof dN)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const s in a){const e=a[s];n.has(e)||(n.add(e),IN(e,t,n))}}function _N(e){return null!=e.kernelName}class ON{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class AN{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ON}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(fk("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Zk(this.backendInstance),!0}setupRegisteredKernels(){xk(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){xk(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof qy||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,fk("Initialization of backend ".concat(e," failed")),fk(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return fk("Initialization of backend ".concat(e," failed")),fk(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),s=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return AN.nextTensorId++}nextVariableId(){return AN.nextVariableId++}clone(e){const t=DN.runKernel(px,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return DN.runKernel(xv,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=bk(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-s;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,s=this.state.numTensors;let o,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=_N(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(_N(e)){const{kernelName:t,inputs:a,attrs:s}=e;null==this.backendName&&this.backend;const c=bk(t,this.backendName);nb(null!=c,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),o=()=>{const e=this.backend.numDataIds();i=c.kernelFunc({inputs:a,attrs:s,backend:this.backend});const o=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const l=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,a,l);n=this.saveTensorsForBackwardMode(e)}return l}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:l,attrs:u}=e,d=_N(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(c,l,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=o()})),r&&this.addTapeNode(c,l,t,d,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(l).map((e=>null!=l[e]?l[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=vk(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let s;r.saveAllInputs?(nb(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const o=n.filter(((e,t)=>a[t]));return s.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Cb(e[0])&&(a=e.map((e=>qk(e))));const s=r.write(a,t,n),o=new dN(t,n,s,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(s),t=Sb(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,s=new dN(r,a,n,this.nextTensorId());return this.trackTensor(s,t),s}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new hN(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Nb(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof hN||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Nb(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,s){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},i=vk(e);null!=i&&(r=i.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=Fb(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,s))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=EN(e),n=new Set(t.map((e=>e.id)));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(nb(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));nb(a instanceof dN,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const r={},a={};for(let c=0;c<t.length;c++)r[t[c].id]=!0;for(let c=0;c<e.length;c++){const n=e[c],s=n.inputs;for(const e in s){const o=s[e];let i=!1;for(let e=0;e<t.length;e++)if(r[o.id]){n.outputs.forEach((e=>r[e.id]=!0)),i=!0,a[n.id]=!0;break}if(i)break}}const s={};s[n.id]=!0;const o={};for(let c=e.length-1;c>=0;c--){const t=e[c],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(s[t.outputs[e].id]){for(const e in n)s[n[e].id]=!0,o[t.id]=!0;break}}const i=[];for(let c=0;c<e.length;c++){const t=e[c];if(a[t.id]&&o[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,a);if(!r&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=Pb(sb(e),"float32");return DN.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const s=t[a],o=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==s.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(s.kernelName,"."));const i=s.gradient(o);for(const t in s.inputs){if(!(t in i))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(i),"."));const a=n((()=>i[t]()));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(s.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));const o=s.inputs[t];if(!cb(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(s.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{const t=e[o.id];e[o.id]=r(t,a),t.dispose()}}}}(e,s,(e=>this.tidy(e)),MN);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){var t=this;return nb(_b(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let s;nb(r.every((e=>e instanceof dN)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const o={};r.forEach(((e,t)=>{o[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(s=e(...r,n),nb(s.value instanceof dN,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),nb(_b(s.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),s.value),backwardsFunc:(e,t)=>{const n=s.gradFunc(e,t),a=Array.isArray(n)?n:[n];nb(a.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),nb(a.every((e=>e instanceof dN)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return a.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Gk(),n=await this.backend.time(e);return n.wallMs=Gk()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ON;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function RN(){const e=Xb();if(null==e._tfengine){const t=new Vb(e);e._tfengine=new AN(t)}var t;return t=e._tfengine.ENV,Kb=t,cN=()=>e._tfengine,e._tfengine}AN.nextTensorId=0,AN.nextVariableId=0;const DN=RN();function MN(e,t){const n={a:e,b:t};return DN.runKernel(Qb,n)}let PN;function FN(e){PN=e}function jN(e){if(void 0!==PN)return PN;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function LN(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const zN=Hb();function BN(e,t){let n=e;if(Xk(e))return"string"===t?[]:[e.length];if(kN(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(NN(e))return[e.buffer.size/(null==t?4:Nb(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Xk(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Hb().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&UN(e,r,[]),r}function UN(e,t,n){if(n=n||[],!Array.isArray(e)&&!Xk(e))return void nb(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));nb(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),nb(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const r=t.slice(1);for(let a=0;a<e.length;++a)UN(e[a],r,n.concat(a))}function WN(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function VN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof pN())return WN(r,e.dtype,t,n),e;let a=Ib(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),WN(r,a,t,n),null==e||!Xk(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const s=BN(e,a);Xk(e)||Array.isArray(e)||(e=[e]);const o="string"!==a?Vk(e,a):Yk(e,[],!0);return DN.makeTensor(o,s,a)}function GN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,a)=>VN(e,"".concat(t,"[").concat(a,"]"),n,r)))}zN.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),zN.registerFlag("IS_BROWSER",(()=>LN())),zN.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),zN.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),zN.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),zN.registerFlag("PROD",(()=>!1)),zN.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>zN.getBool("DEBUG"))),zN.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),zN.registerFlag("IS_TEST",(()=>!1)),zN.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>zN.getBool("DEBUG"))),zN.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),zN.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),zN.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const HN="__op";function qN(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=HN;const a=function(){DN.startScope(n);try{const e=r(...arguments);return Ub(e)&&console.error("Cannot return a Promise inside of tidy."),DN.endScope(e),e}catch(e){throw DN.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const KN=qN({complex_:function(e,t){const n=VN(e,"real","complex"),r=VN(t,"imag","complex");rb(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const a={real:n,imag:r};return DN.runKernel(Nv,a)}});function XN(e,t,n,r){if(null==r)r=Ib(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(NN(e)||kN(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return DN.backend.createTensorFromGPUData(e,t||n,r)}if(!Xk(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Lb(t);const e=sb(t),r=sb(n);nb(e===r,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r)));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==sb(t.slice(a));nb(n[a]===t[a]||!r,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return Xk(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Vk(e,r):Yk(e,[],!0),DN.makeTensor(e,t,r)}function YN(e,t,n){return XN(e,t,BN(e,n),n)}const ZN={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class $N{static join(e){return new $N(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>Xk(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let s=0;for(let o=n;o<this.shards.length;o++){const n=this.shards[o],r=e+s-n.start,i=s,c=Math.min(t,n.end)-n.start,l=new Uint8Array(n.buffer,r,c-r);if(a.set(l,i),s+=l.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,s=t(e[a]);if(0===s)return a;s<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function JN(){Hb().set("PROD",!0)}function QN(){Hb().set("DEBUG",!0)}function eS(){Hb().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function tS(e){Hb().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function nS(){DN.disposeVariables()}function rS(){return DN}function aS(){return DN.memory()}function sS(e){return DN.profile(e)}function oS(e,t){return DN.tidy(e,t)}function iS(e){EN(e).forEach((e=>e.dispose()))}function cS(e){return DN.keep(e)}function lS(e){return DN.time(e)}function uS(e){return DN.setBackend(e)}function dS(){return DN.ready()}function pS(){return DN.backendName}function hS(e){DN.removeBackend(e)}function fS(e){return DN.findBackend(e)}function mS(e){return DN.findBackendFactory(e)}function gS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return DN.registerBackend(e,t,n)}function yS(){return DN.backend}function bS(e,t){Hb().setPlatform(e,t)}uN=tS;const vS=4;async function xS(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let s=0;s<a.length;++s){const o=a[s],i=Array.isArray(e)?e[s].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(i.dtype));const c={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+vS*t.length,r=new Uint8Array(n);let a=0;for(let s=0;s<t.length;s++){const e=t[s],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=vS,r.set(e,a),a+=e.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(c.group=t),n.push(c)}return{data:ES(await Promise.all(r)),specs:n}}function wS(e,t){const n=new $N(e),r={};let a=0;for(const s of t){const e=kS(s,((e,t)=>n.slice(a+e,a+t)));r[s.name]=SS(s,n.slice(a,a+e)),a+=e}return r}function kS(e,t){const n=sb(e.shape);let r;if("quantization"in e){const t=e.quantization;r=ZN[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=vS+new Uint32Array(t(e,e+vS))[0];return e}r=ZN[e.dtype]}return n*r}async function NS(e,t){const n=sb(e.shape);let r;if("quantization"in e){const t=e.quantization;r=ZN[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=vS+new Uint32Array(await t(e,e+vS))[0];return e}r=ZN[e.dtype]}return n*r}function SS(e,t){const n=e.name,r=e.dtype,a=e.shape,s=sb(a);let o,i=0;if("quantization"in e){const a=e.quantization;if("uint8"===a.dtype||"uint16"===a.dtype){if(!("min"in a)||!("scale"in a))throw new Error("Weight ".concat(e.name," with quantization ").concat(a.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==a.dtype)throw new Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(a.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==r)throw new Error("Weight ".concat(e.name," is quantized with ").concat(a.dtype," ")+"which only supports weights of type float32 not ".concat(r,"."))}const c=ZN[a.dtype],l="uint8"===a.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===a.dtype||"uint16"===a.dtype){o=new Float32Array(l.length);for(let e=0;e<l.length;e++){const t=l[e];o[e]=t*a.scale+a.min}}else{if("float16"!==a.dtype)throw new Error("Unsupported quantization type ".concat(a.dtype," ")+"for weight type float32.");{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),s=new Uint32Array(a);for(let o=0;o<r.length;o++){const a=r[o],i=e[n[a>>10]+(1023&a)]+t[a>>10];s[o]=i}return new Float32Array(a)}}();o=e(l)}}else{if("int32"!==r)throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r));if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error("Unsupported quantization type ".concat(a.dtype," ")+"for weight type int32.");o=new Int32Array(l.length);for(let e=0;e<l.length;e++){const t=l[e];o[e]=Math.round(t*a.scale+a.min)}}i+=s*c}else if("string"===r){const n=sb(e.shape);o=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(i,i+vS))[0];i+=vS;const n=new Uint8Array(t.slice(i,i+e));o.push(n),i+=e}}else{const e=ZN[r];if("float32"===r)o=new Float32Array(t);else if("int32"===r)o=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){o=new Float32Array(t);const e=new Float32Array(o.length/2),n=new Float32Array(o.length/2);for(let t=0;t<e.length;t++)e[t]=o[2*t],n[t]=o[2*t+1];const r=YN(e,a,"float32"),s=YN(n,a,"float32"),i=KN(r,s);return r.dispose(),s.dispose(),i}throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r))}o=new Uint8Array(t)}i+=s*e}return YN(o,a,r)}async function CS(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:a}=await e.read();if(t&&null==a){const e=n-r.byteLength;throw new Error("Reader is done but ".concat(e," bytes are still expected"))}const s=new Uint8Array(r.length+a.byteLength);s.set(r,0),s.set(new Uint8Array(a),r.length),r=s}return r.buffer}async function TS(e,t){const n={},r=e.getReader();let a=new ArrayBuffer(0);for(const s of t){const e=await NS(s,(async(e,t)=>(a=await CS(r,a,t),a.slice(e,t))));a=await CS(r,a,e);const t=a.slice(0,e);a=a.slice(e);const o=SS(s,t);if(n[s.name]=o,"webgpu"===pS()){const e=yS();"uploadToGPU"in e&&sb(o.shape)>=Hb().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(o.dataId)}}return n}function ES(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const IS="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function _S(e){return IS?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function OS(e){return $N.join(e)}function AS(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function RS(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function DS(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function MS(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),DS(e,n,r)}function PS(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:_S(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:_S(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new $N(e.weightData).byteLength}}function FS(e){const t=[];for(const n of e)t.push(...n.weights);return t}class jS{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==jS.instance&&(jS.instance=new jS),jS.instance}static registerSaveRouter(e){jS.getInstance().saveRouters.push(e)}static registerLoadRouter(e){jS.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return jS.getHandlers(e,"save")}static getLoadHandlers(e,t){return jS.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?jS.getInstance().loadRouters:jS.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const LS=e=>jS.registerSaveRouter(e),zS=e=>jS.registerLoadRouter(e),BS=e=>jS.getSaveHandlers(e),US=(e,t)=>jS.getLoadHandlers(e,t),WS="tensorflowjs",VS="models_store",GS="model_info_store";function HS(){if(!Hb().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function qS(e){const t=e.result;t.createObjectStore(VS,{keyPath:"modelPath"}),t.createObjectStore(GS,{keyPath:"modelPath"})}class KS{constructor(e){if(this.indexedDB=HS(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(WS,1);r.onupgradeneeded=()=>qS(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(VS,"readonly"),r=t.objectStore(VS).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=$N.join(t.weightData);const r=PS(t),o=a.transaction(GS,"readwrite");let i,c,l=o.objectStore(GS);try{i=l.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(s){return n(s)}i.onsuccess=()=>{c=a.transaction(VS,"readwrite");const i=c.objectStore(VS);let u;try{u=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(s){return n(s)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{l=o.objectStore(GS);const t=l.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(u.error)),t.onerror=e=>(a.close(),n(u.error))}},i.onerror=e=>(a.close(),n(i.error)),o.oncomplete=()=>{null==c?a.close():c.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}KS.URL_SCHEME="indexeddb://";const XS=e=>{return Hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(KS.URL_SCHEME)?(t=e.slice(KS.URL_SCHEME.length),new KS(t)):null;var t};jS.registerSaveRouter(XS),jS.registerLoadRouter(XS);class YS{constructor(){this.indexedDB=HS()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(WS,1);n.onupgradeneeded=()=>qS(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(GS,"readonly"),s=a.objectStore(GS).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(r.close(),t(s.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(KS.URL_SCHEME)?t.slice(KS.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(WS,1);r.onupgradeneeded=()=>qS(r),r.onsuccess=()=>{const a=r.result,s=a.transaction(GS,"readwrite"),o=s.objectStore(GS),i=o.get(e);let c;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=o.delete(e),s=()=>{c=a.transaction(VS,"readwrite");const r=c.objectStore(VS).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=s,r.onerror=e=>(s(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==c?a.close():c.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const ZS="/",$S="tensorflowjs_models",JS="info",QS="model_topology",eC="weight_specs",tC="weight_data",nC="model_metadata";function rC(e){return{info:[$S,e,JS].join(ZS),topology:[$S,e,QS].join(ZS),weightSpecs:[$S,e,eC].join(ZS),weightData:[$S,e,tC].join(ZS),modelMetadata:[$S,e,nC].join(ZS)}}function aC(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function sC(e){const t=e.split(ZS);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(ZS)}class oC{constructor(e){if(!Hb().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=rC(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=PS(e),s=$N.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(IS)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(s));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw aC(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(IS){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(s),t}}oC.URL_SCHEME="localstorage://";const iC=e=>{return Hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(oC.URL_SCHEME)?(t=e.slice(oC.URL_SCHEME.length),new oC(t)):null;var t};jS.registerSaveRouter(iC),jS.registerLoadRouter(iC);class cC{constructor(){nb(Hb().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),nb("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=$S+ZS,n=ZS+JS;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[sC(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=rC(e=(t=e).startsWith(oC.URL_SCHEME)?t.slice(oC.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return aC(n),r}}const lC="://";class uC{constructor(){this.managers={}}static getInstance(){return null==uC.instance&&(uC.instance=new uC),uC.instance}static registerManager(e,t){nb(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(lC)&&(e=e.slice(0,e.indexOf(lC))),nb(e.length>0,(()=>"scheme must not be an empty string."));const n=uC.getInstance();nb(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=uC.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(uC.getInstance().managers)}}function dC(e){if(-1===e.indexOf(lC))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(uC.getSchemes().join(",")));return{scheme:e.split(lC)[0],path:e.split(lC)[1]}}async function pC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];nb(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const r=jS.getLoadHandlers(e);nb(r.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),nb(r.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"load handlers for source URL ".concat(e,".")));const a=r[0],s=jS.getSaveHandlers(t);nb(s.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),nb(s.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"save handlers for destination URL ".concat(t,".")));const o=s[0],i=dC(e).scheme,c=dC(e).path,l=i===dC(e).scheme,u=await a.load();n&&l&&await uC.getManager(i).removeModel(c);const d=await o.save(u);return n&&!l&&await uC.getManager(i).removeModel(c),d.modelArtifactsInfo}async function hC(){const e=uC.getSchemes(),t={};for(const n of e){const e=await uC.getManager(n).listModels();for(const r in e){t[n+lC+r]=e[r]}}return t}async function fC(e){const t=dC(e);return uC.getManager(t.scheme).removeModel(t.path)}async function mC(e,t){return pC(e,t,!1)}async function gC(e,t){return pC(e,t,!0)}class yC{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&Hb().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Ek(e)}}if(Hb().get("IS_BROWSER")){Hb().setPlatform("browser",new yC);try{uC.registerManager(oC.URL_SCHEME,new cC)}catch(z6){}try{uC.registerManager(KS.URL_SCHEME,new YS)}catch(z6){}}const bC=()=>n(5817);let vC;class xC{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Hb().global.fetch?Hb().global.fetch(e,t):(null==vC&&(vC=bC()),vC(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function wC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Lb(e),new iN(e,t,n)}Hb().get("IS_NODE")&&!Hb().get("IS_BROWSER")&&Hb().setPlatform("node",new xC);const kC=qN({cast_:function(e,t){const n=VN(e,"x","cast");if(!wb(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return DN.runKernel(xv,r,a)}});const NC=qN({clone_:function(e){const t={x:VN(e,"x","clone","string_or_numeric")};return DN.runKernel(px,t)}});function SC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}RN();lN={buffer:wC,cast:kC,clone:NC,print:SC};const CC=qN({add_:function(e,t){let n=VN(e,"a","add"),r=VN(t,"b","add");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(Qb,a)}});const TC=qN({floorDiv_:function(e,t){let n=VN(e,"a","floorDiv"),r=VN(t,"b","floorDiv");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(ox,a)}});const EC=qN({div_:function(e,t){let n=VN(e,"a","div"),r=VN(t,"b","div");if([n,r]=SN(n,r),"int32"===n.dtype&&"int32"===r.dtype)return TC(n,r);const a={a:n,b:r};return DN.runKernel(Kv,a,{})}});const IC=qN({mul_:function(e,t){let n=VN(e,"a","mul"),r=VN(t,"b","mul");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(qx,a)}});const _C=qN({sqrt_:function(e){const t={x:VN(e,"x","sqrt","float32")};return DN.runKernel(Dw,t)}});const OC=qN({square_:function(e){const t=VN(e,"x","square");return DN.runKernel("Square",{x:t},{})}});const AC=qN({zerosLike_:function(e){const t={x:VN(e,"x","zerosLike")};return DN.runKernel(ik,t)}});function RC(e){return nb(_b(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const r=VN(t,"x","tf.grad","string_or_numeric"),a=null!=n?VN(n,"dy","tf.grad"):null;return DN.tidy((()=>{const{value:t,grads:n}=DN.gradients((()=>e(r)),[r],a);return null!=a&&rb(t.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),LC(n),n[0]}))}}function DC(e){return nb(_b(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{nb(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const r=GN(t,"args","tf.grads","string_or_numeric"),a=null!=n?VN(n,"dy","tf.grads"):null;return DN.tidy((()=>{const{value:t,grads:n}=DN.gradients((()=>e(...r)),r,a);return null!=a&&rb(t.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),LC(n),n}))}}function MC(e){return nb(_b(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{nb(t instanceof dN,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),nb(null==n||n instanceof dN,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:r,value:a}=DN.gradients((()=>e(t)),[t],n);return LC(r),{grad:r[0],value:a}}}function PC(e){return nb(_b(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{nb(Array.isArray(t)&&t.every((e=>e instanceof dN)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),nb(null==n||n instanceof dN,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const r=DN.gradients((()=>e(...t)),t,n);return null!=n&&rb(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),LC(r.grads),r}}function FC(e,t){nb(_b(e),(()=>"The f passed in variableGrads(f) must be a function")),nb(null==t||Array.isArray(t)&&t.every((e=>e instanceof hN)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in DN.registeredVariables)t.push(DN.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,a=t.length;t=t.filter((e=>e.trainable)),nb(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(a," variables is ")+"trainable."));const{value:s,grads:o}=DN.gradients(e,t,null,!0);nb(o.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),nb(0===s.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor")));const i={};return t.forEach(((e,t)=>{null!=o[t]&&(i[e.name]=o[t])})),null!=r&&r.forEach((e=>i[e.name]=null)),{value:s,grads:i}}function jC(e){return DN.customGrad(e)}function LC(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function zC(e,t){if((Xk(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Xk(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return XN(e,[],[],t)}const BC=new Map,UC=new Map;class WC{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class VC{constructor(){this.classNameMap={}}static getMap(){return null==VC.instance&&(VC.instance=new VC),VC.instance}static register(e){VC.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function GC(e,t,n){nb(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),nb("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),nb(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return VC.register(e),BC.set(r,e),UC.set(e,r),e}function HC(e){return UC.has(e)?UC.get(e):e.className}class qC extends WC{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:a[e.name]})));this.applyGradients(e)}else this.applyGradients(a);return iS(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return FC(e,t)}dispose(){null!=this.iterations_&&iS(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:zC(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(qC,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class KC extends qC{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=DN.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=DN.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:oS((()=>AC(r).variable(a)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:oS((()=>AC(r).variable(a)))});const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const o=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;oS((()=>{const e=CC(IC(o,this.rho),IC(OC(s),1-this.rho)),t=IC(EC(_C(CC(i,this.epsilon)),_C(CC(o,this.epsilon))),s),n=CC(IC(i,this.rho),IC(OC(t),1-this.rho));o.assign(e),i.assign(n);const a=CC(IC(t,-this.learningRate),r);r.assign(a)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(iS(this.accumulatedGrads.map((e=>e.variable))),iS(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function XC(e,t,n){Lb(e);const r={shape:e,value:t,dtype:n=n||Ib(t)};return DN.runKernel(rx,{},r)}class YC extends qC{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=DN.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:oS((()=>XC(r.shape,this.initialAccumulatorValue).variable(e)))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const s=this.accumulatedGrads[n].variable;oS((()=>{const e=CC(s,OC(a));s.assign(e);const t=CC(IC(EC(a,_C(CC(e,DN.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&iS(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const ZC=qN({pow_:function(e,t){let n=VN(e,"base","pow"),r=VN(t,"exp","pow");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(rw,a)}});const $C=qN({sub_:function(e,t){let n=VN(e,"a","sub"),r=VN(t,"b","sub");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(Zw,a)}});class JC extends qC{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],oS((()=>{this.accBeta1=zC(t).variable(),this.accBeta2=zC(n).variable()})),null==r&&(this.epsilon=DN.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);oS((()=>{const n=$C(1,this.accBeta1),r=$C(1,this.accBeta2);t.forEach(((t,a)=>{const s=DN.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:oS((()=>AC(s).variable(o)))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:"".concat(t,"/v"),variable:oS((()=>AC(s).variable(o)))});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const c=this.accumulatedFirstMoment[a].variable,l=this.accumulatedSecondMoment[a].variable,u=CC(IC(c,this.beta1),IC(i,1-this.beta1)),d=CC(IC(l,this.beta2),IC(OC(i),1-this.beta2)),p=EC(u,n),h=EC(d,r);c.assign(u),l.assign(d);const f=CC(IC(EC(p,CC(_C(h),this.epsilon)),-this.learningRate),s);s.assign(f)})),this.accBeta1.assign(IC(this.accBeta1,this.beta1)),this.accBeta2.assign(IC(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&iS(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&iS(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),oS((()=>{this.accBeta1.assign(ZC(this.beta1,this.iterations_+1)),this.accBeta2.assign(ZC(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const QC=qN({abs_:function(e){const t=VN(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return DN.runKernel(Sv,e)}{const e={x:t};return DN.runKernel(Zb,e)}}});function eT(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const s=n-1-a,o=e[s]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(s)}return r}function tT(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],s=t.length-r-1,o=t[s];(null==a||1===a&&o>1)&&n.unshift(s)}return n}function nT(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let s=e[e.length-a-1];null==s&&(s=1);let o=t[t.length-a-1];if(null==o&&(o=1),1===s)r[n-a-1]=o;else if(1===o)r[n-a-1]=s;else{if(s!==o){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-a-1]=s}}return r}const rT=qN({maximum_:function(e,t){let n=VN(e,"a","maximum"),r=VN(t,"b","maximum");[n,r]=SN(n,r),"bool"===n.dtype&&(n=kC(n,"int32"),r=kC(r,"int32")),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Mx,a)}});class aT extends qC{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],oS((()=>{this.iteration=zC(0).variable(),this.accBeta1=zC(t).variable()})),null==r&&(this.epsilon=DN.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);oS((()=>{const n=$C(1,this.accBeta1),r=EC(-this.learningRate,CC(IC(this.iteration,this.decay),1));t.forEach(((t,a)=>{const s=DN.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:AC(s).variable(o)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:"".concat(t,"/v"),variable:AC(s).variable(o)});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const c=this.accumulatedFirstMoment[a].variable,l=this.accumulatedWeightedInfNorm[a].variable,u=CC(IC(c,this.beta1),IC(i,1-this.beta1)),d=IC(l,this.beta2),p=QC(i),h=rT(d,p);c.assign(u),l.assign(h);const f=CC(IC(EC(r,n),EC(u,CC(h,this.epsilon))),s);s.assign(f)})),this.iteration.assign(CC(this.iteration,1)),this.accBeta1.assign(IC(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&iS(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&iS(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class sT extends qC{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=DN.registeredVariables[t];oS((()=>{const e=CC(IC(this.c,r),a);a.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=cS(zC(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class oT extends sT{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=zC(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=DN.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:oS((()=>AC(r).variable(e)))}}const a=this.accumulations[n].variable,s=Array.isArray(e)?e[n].tensor:e[t];null!=s&&oS((()=>{let e;const t=CC(IC(this.m,a),s);e=this.useNesterov?CC(IC(this.c,CC(s,IC(t,this.m))),r):CC(IC(this.c,t),r),a.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&iS(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class iT extends qC{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=DN.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=DN.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:oS((()=>AC(r).variable(a)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:oS((()=>AC(r).variable(a)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:oS((()=>AC(r).variable(a)))});const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const o=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;oS((()=>{const e=CC(IC(o,this.decay),IC(OC(s),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=CC(IC(t,this.decay),IC(s,1-this.decay)),c=EC(IC(s,this.learningRate),_C($C(e,CC(OC(a),this.epsilon)))),l=CC(IC(i,this.momentum),c);o.assign(e),t.assign(a),i.assign(l);const u=$C(r,l);r.assign(u)}else{const e=CC(IC(o,this.decay),IC(OC(s),1-this.decay)),t=CC(IC(i,this.momentum),EC(IC(s,this.learningRate),_C(CC(e,this.epsilon))));o.assign(e),i.assign(t);const n=$C(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&iS(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&iS(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&iS(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const cT=[KC,YC,JC,aT,oT,iT,sT];function lT(e){return new Promise((e=>setTimeout(e))).then(e)}class uT{constructor(e){if(!Hb().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(uT.URL_SCHEME)&&(e=e.slice(uT.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=$N.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=RS(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await lT((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await lT((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:PS(e)}}}}uT.URL_SCHEME="downloads://";class dT{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==r.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:a});const s=MS(r,(e=>this.loadWeights(e)));e(s)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const s of e)t.push(...s.weights),n.push(...s.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r("Failed to weights data from file of path '".concat(e,"'.")),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>AS(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=AS(e);if(-1!==t.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(t.push(a),-1===n.indexOf(a))throw new Error("Weight file with basename '".concat(a,"' is not provided."));r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}function pT(e){return new dT(e)}function hT(e,t,n,r){!function(e){nb(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){nb(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),nb(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),nb(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((s=>(s.then((s=>{const o=n+ ++a/e.length*(r-n);return t(o),s})),s))))}async function fT(e,t){null==t&&(t={});const n=null==t.fetchFunc?Hb().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await hT(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await hT(a,t.onProgress,.5,1)}async function mT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return gT((e=>fT(e,{requestInit:r})))(e,t,n)}function gT(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map((()=>!1)),s={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const c="quantization"in e?e.quantization.dtype:e.dtype,l=ZN[c]*sb(e.shape),u=()=>{a[t]=!0,null==s[t]&&(s[t]=[]),s[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=r?r.forEach(((t,n)=>{t===e.name&&(u(),o[n]=!0)})):u(),i.push(e.name),n+=l}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(i.join(", "),"."))}const c=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),l=[];c.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;l.push(t)}))}));const u=await e(l),d={};let p=0;return c.forEach((e=>{const n=t[e].paths.length,r=new $N(u.slice(p,p+n));s[e].forEach((e=>{const t=wS(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}jS.registerSaveRouter((e=>Hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(uT.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new uT(e)}(e.slice(uT.URL_SCHEME.length)):null));class yT{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(nb("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Hb().platform.fetch,nb(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&nb(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=RS(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=$N.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:PS(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(L6){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return MS(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=FS(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?Hb().platform.fetch:t.fetchFunc;let a,s=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var o;s<e.length;){if(!a){const n=(await r(e[s],t.requestInit,{isBinary:!0})).body;a=n.getReader()}const{done:i,value:c}=await a.read();if(!i)return void n.enqueue(c);s++,a=void 0,null===(o=t.onProgress)||void 0===o||o.call(t,s/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,s=[],o=[];for(const i of e)for(const e of i.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):s.push(a+e+r);return this.weightUrlConverter&&s.push(...await Promise.all(o)),s}async loadWeights(e){const t=await this.getWeightUrls(e);return[FS(e),await fT(t,this.loadOptions)]}}function bT(e){return null!=e.match(yT.URL_SCHEME_REGEX)}yT.URL_SCHEME_REGEX=/^https?:\/\//;const vT=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>bT(e))):bT(e),n)return xT(e,t)}return null};function xT(e,t){return new yT(e,t)}function wT(e,t){return xT(e,t)}jS.registerSaveRouter(vT),jS.registerLoadRouter(vT);class kT{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class NT{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class ST{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function CT(e,t,n,r){return new ST(TT(...arguments))}function TT(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new kT(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kT({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kT({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function ET(e){return new NT(e)}function IT(e){return new NT(e)}const _T=qN({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=VN(e,"a","matMul"),s=VN(t,"b","matMul");[a,s]=SN(a,s);const o={a:a,b:s},i={transposeA:n,transposeB:r};return DN.runKernel(fv,o,i)}});const OT=qN({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const s={indices:VN(e,"indices","oneHot","int32")},o={dtype:a,depth:t,onValue:n,offValue:r};return DN.runKernel(Qx,s,o)}});const AT=qN({imag_:function(e){const t={input:VN(e,"input","imag")};return DN.runKernel(fx,t)}});const RT=qN({neg_:function(e){const t={x:VN(e,"x","neg")};return DN.runKernel(Kx,t)}});const DT=qN({real_:function(e){const t={input:VN(e,"input","real")};return DN.runKernel(uw,t)}});const MT=qN({transpose_:function(e,t,n){const r=VN(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),nb(r.rank===t.length,(()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{nb(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)))})),r.rank<=1)return r.clone();const a={x:r},s={perm:t};return"complex64"===r.dtype?oS((()=>{let e=DT(r),t=AT(r);return e=DN.runKernel(nk,{x:e},s),t=DN.runKernel(nk,{x:t},s),n&&(t=RT(t)),KN(e,t)})):DN.runKernel(nk,a,s)}});const PT=qN({confusionMatrix_:function(e,t,n){const r=VN(e,"labels","confusionMatrix"),a=VN(t,"predictions","confusionMatrix");nb(null==n||n>0&&Number.isInteger(n),(()=>"If provided, numClasses must be a positive integer, "+"but got ".concat(n))),nb(1===r.rank,(()=>"Expected the rank of labels to be 1, but got ".concat(r.rank))),nb(1===a.rank,(()=>"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank))),nb(r.shape[0]===a.shape[0],(()=>"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements.")),nb(n>0&&Number.isInteger(n),(()=>"numClasses is required to be a positive integer, but got "+"".concat(n)));const s=OT(kC(r,"int32"),n),o=OT(kC(a,"int32"),n),i=MT(s),c=_T(i,o);return kC(c,"int32")}});function FT(e,t,n){if(ab(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=BN(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return XN(e,t,r,n)}let jT,LT=!1;function zT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,s=!1,o=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)s=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));i=!0}if(null!=bk(lk,DN.backendName)){const n={pixels:e},r={numChannels:t};return DN.runKernel(lk,n,r)}const[c,l]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(o)u=e.getContext("2d").getImageData(0,0,c,l).data;else if(r||n)u=e.data;else if(s||a||i){if(null==jT)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");jT=new OffscreenCanvas(1,1).getContext("2d")}else jT=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});jT.canvas.width=c,jT.canvas.height=l,jT.drawImage(e,0,0,c,l),u=jT.getImageData(0,0,c,l).data}if(4===t)d=new Int32Array(u);else{const e=c*l;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}return FT(d,[l,c,t],"int32")}function BT(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function UT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if(Hb().getBool("WRAP_TO_IMAGEBITMAP")&&BT(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(L6){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return zT(n,t)}function WT(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}async function VT(e,t){let n=VN(e,"img","toPixels");if(!(e instanceof dN)){const e=n;n=kC(e,"int32"),e.dispose()}WT(n);const[r,a]=n.shape.slice(0,2),s=2===n.rank?1:n.shape[2],o=await n.data(),i="float32"===n.dtype?255:1,c=new Uint8ClampedArray(a*r*4);for(let l=0;l<r*a;++l){const e=[0,0,0,255];for(let r=0;r<s;r++){const t=o[l*s+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===s?(e[0]=t*i,e[1]=t*i,e[2]=t*i):e[r]=t*i}const t=4*l;c[t+0]=Math.round(e[0]),c[t+1]=Math.round(e[1]),c[t+2]=Math.round(e[2]),c[t+3]=Math.round(e[3])}if(null!=t){if(!LT){null!=bk(qv,DN.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),LT=!0)}t.width=a,t.height=r;const e=t.getContext("2d"),n=new ImageData(c,a,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),c}function GT(e,t,n){let r=VN(e,"img","draw");if(!(e instanceof dN)){const e=r;r=kC(e,"int32"),e.dispose()}WT(r),function(e){const t=(null===e||void 0===e?void 0:e.alpha)||1;if(t>1||t<0)throw new Error("Alpha value ".concat(t," is suppoed to be in range [0 - 1]."))}(null===n||void 0===n?void 0:n.imageOptions);const a={image:r},s={canvas:t,options:n};DN.runKernel(qv,a,s)}const HT=qN({fromPixels_:zT});function qT(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===sb(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const a=t.shape,s=a[a.length-1];let o=1;for(let d=0;d<a.length-1;++d)o*=a[d];const i=e.shape,c=a.slice();c.pop();let l=1;for(let d=s;d<n;++d)l*=i[d],c.push(i[d]);const u=[...Ab(e.shape).map((e=>e/l)),1].slice(0,s);return[c,o,l,u]}function KT(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(s+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(s+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(s+" update.rank != ".concat(a+e.length-r));for(let o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(s+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(let o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(s+" updates.shape[".concat(o+a,"] (").concat(n.shape[o+a],") != shape[").concat(o+a,"] (").concat(e[o+a],")"))}function XT(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}KT(n,t,e)}function YT(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,s=n.length;let o=1;for(let c=a;c<s;++c)o*=n[c];const i=a<1?1:a;return{sliceRank:a,numUpdates:sb(t.shape)/i,sliceSize:o,strides:[...Ab(n.slice(0,a)),1],outputSize:sb(n)}}const ZT=-2,$T=-1;function JT(e,t,n){const r=e.shape.length;nb(r===t.length,(()=>"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,")."))),nb(r===n.length,(()=>"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")));for(let a=0;a<r;++a)nb(t[a]+n[a]<=e.shape[a],(()=>"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")))}function QT(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function eE(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function tE(e,t,n,r){const a=[...e];for(let s=a.length;s<r.length;s++)a.push(1);for(let s=0;s<n;s++)0===s?a[t]=1:(a.splice(t,0,1),a.pop());return a}function nE(e,t,n){return n<=e?n:n-(t-1)}function rE(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function aE(e,t,n,r,a,s,o,i,c){const l=e.length;let u=new Array(l),d=new Array(l),p=new Array(l);if(t.length&&n>0){const c=t[0],l=n+1;u=sE(o,c,l,r,e),d=oE(i,c,l,a,e),p=tE(s,c,l,e)}else for(let h=0;h<l;h++)u[h]=cE(o,r,s,e,h,c),d[h]=lE(i,a,s,e,h,c),p[h]=iE(s,h,c);return{begin:u,end:d,strides:p}}function sE(e,t,n,r,a){const s=[...a],o=rE(n,t);for(let i=0;i<s.length;i++)if(o.indexOf(i)>-1)s[i]=0;else{const a=nE(t,n,i);let o=r[a];e&1<<a&&(o=0),s[i]=o}return s}function oE(e,t,n,r,a){const s=[...a],o=rE(n,t);for(let i=0;i<s.length;i++)if(o.indexOf(i)>-1)s[i]=Number.MAX_SAFE_INTEGER;else{const a=nE(t,n,i);let o=r[a];e&1<<a&&(o=Number.MAX_SAFE_INTEGER),s[i]=o}for(let i=0;i<s.length;i++){const e=a[i];s[i]<0&&(s[i]+=e),s[i]=Zy(0,s[i],a[i])}return s}function iE(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function cE(e,t,n,r,a,s){let o=t[a];const i=n[a]||1;(e&1<<a||s&1<<a||null==o)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const c=r[a];return o<0&&(o+=c),o=Zy(0,o,c-1),o}function lE(e,t,n,r,a,s){let o=t[a];const i=n[a]||1;(e&1<<a||s&1<<a||null==o)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const c=r[a];return o<0&&(o+=c),o=i>0?Zy(0,o,c):Zy(-1,o,c-1),o}function uE(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function dE(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function pE(e,t,n){let r;const a=e.shape.length;let s;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{nb(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(nb(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-r[n]))),[r,s]}function hE(e,t,n,r,a,s,o,i,c){let l;if(null==r?(l=new Array(t.length),l.fill(1)):l=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:c};for(let b=0;b<d.dims;b++)u&&0!==(1<<b&i)&&d.numAddAxisAfterEllipsis++,1<<b&o&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(ZT),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push($T),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],y=[];for(let b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));const t=!!(p.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<b,p.endMask&1<<b],a=[p.strides[b]>0?0:-1,p.strides[b]>0?n:n-1];if(t&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];const s=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(t){const e=p.begin[b]<0?n+p.begin[b]:p.begin[b];if(p.begin[b]=e,p.end[b]=p.begin[b]+1,e<0||e>=n)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=fE(p.begin[b],0,p.strides[b],n,r,a),p.end[b]=fE(p.end[b],1,p.strides[b],n,r,a);const e=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===n;h=h&&e,f=f&&(0===b&&1===p.strides[b]||e)}else h=h&&1===p.strides[b]&&s,f=f&&(0===b&&1===p.strides[b]||s);let o,i=!1;if(p.beginValid&&p.endValid?(o=p.end[b]-p.begin[b],i=!0):t?(o=1,i=!0):s&&n>=0&&(o=p.strides[b]<0?-n:n,i=!0),i){let e;e=0===o||o<0!==p.strides[b]<0?0:Math.trunc(o/p.strides[b])+(o%p.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<p.finalShapeGatherIndices.length;++b){const e=p.finalShapeGatherIndices[b];e>=0?y.push(g[e]):e===ZT&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>p.finalShapeGatherIndices[t]!==ZT)),finalShape:y,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function fE(e,t,n,r,a,s){if(a[t])return n>0?s[t]:s[t+1&1];{const t=e<0?r+e:e;return t<s[0]?s[0]:t>s[1]?s[1]:t}}const mE=.001,gE=.1;function yE(e,t,n){return null==n&&(n=bE()),vE(e,t,((e,t)=>NE(e,t,n)))}function bE(){return 32===DN.backend.floatPrecision()?mE:gE}function vE(e,t,n){let r=!0;if((Xk(e)||Xk(t))&&(r=!1),Xk(e)&&Xk(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error("Arrays are of different type. Actual: ".concat(n,". ")+"Expected: ".concat(r))}if(Array.isArray(e)&&Array.isArray(t)){const n=BN(e),r=BN(t);if(!cb(n,r))throw new Error("Arrays have different shapes. "+"Actual: [".concat(n,"]. Expected: [").concat(r,"]"))}const a=Xk(e)?e:Yk(e),s=Xk(t)?t:Yk(t);if(a.length!==s.length)throw new Error("Arrays have different lengths actual: ".concat(a.length," vs ")+"expected: ".concat(s.length,".\n")+"Actual:   ".concat(a,".\n")+"Expected: ".concat(s,"."));for(let o=0;o<s.length;++o){const e=a[o],t=s[o];if(!n(e,t))throw new Error("Arrays differ: actual[".concat(o,"] = ").concat(e,", expected[").concat(o,"] = ").concat(t,".\n")+"Actual:   ".concat(a,".\n")+"Expected: ".concat(s,"."))}"undefined"!==typeof expect&&expect().nothing()}function xE(e,t){e().then((()=>t.fail()),(()=>t())),"undefined"!==typeof expect&&expect().nothing()}function wE(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return Cb(e)||Cb(e[0])||Cb(t)||Cb(t[0])?vE(e,n,((e,t)=>e==t)):vE(e,t,((e,t)=>NE(e,t,0)))}function kE(e,t,n){if(null==n&&(n=bE()),!NE(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function NE(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function SE(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function CE(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(let a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(r[a]," but got ").concat(n[a]," instead"))}function TE(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?TE(n):e[t]=qk(n)}return e}function EE(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((e=>{t.addEventListener("loadeddata",(n=>e(t))),t.load()}))}async function IE(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise((t=>{e.requestVideoFrameCallback(t)}))}const _E="4.19.0";class OE{static sgd(e){return new sT(e)}static momentum(e,t){return new oT(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new iT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new JC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new KC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new aT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new YC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}const AE=qN({acos_:function(e){const t={x:VN(e,"x","acos")};return DN.runKernel($b,t)}});const RE=qN({acosh_:function(e){const t={x:VN(e,"x","acosh")};return DN.runKernel(Jb,t)}});const DE=qN({addN_:function(e){nb(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),nb(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>VN(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!cb(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return DN.runKernel(ev,r)}});const ME=qN({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:VN(e,"x","all","bool")},a={axis:t,keepDims:n};return DN.runKernel(tv,r,a)}});const PE=qN({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:VN(e,"x","any","bool")},a={axis:t,keepDims:n};return DN.runKernel(nv,r,a)}});const FE=qN({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:VN(e,"x","argMax")},r={axis:t};return DN.runKernel(rv,n,r)}});const jE=qN({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:VN(e,"x","argMin")},r={axis:t};return DN.runKernel(av,n,r)}});const LE=qN({asin_:function(e){const t={x:VN(e,"x","asin")};return DN.runKernel(sv,t)}});const zE=qN({asinh_:function(e){const t={x:VN(e,"x","asinh")};return DN.runKernel(ov,t)}});const BE=qN({atan_:function(e){const t={x:VN(e,"x","atan")};return DN.runKernel(iv,t)}});const UE=qN({atan2_:function(e,t){let n=VN(e,"a","atan2"),r=VN(t,"b","atan2");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(lv,a)}});const WE=qN({atanh_:function(e){const t={x:VN(e,"x","atanh")};return DN.runKernel(cv,t)}});function VE(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",s=arguments.length>5?arguments[5]:void 0;return qE(e,[...t,e[3]],n,s,r,null,null,nI(a))}function GE(e,t,n,r,a,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,c]=YE(t);let l;if("channelsLast"===o)l=[i,c,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));l=[i,c,e[1],e[1]]}return qE(e,l,n,r,a,s,!1,o)}function HE(e,t,n,r,a,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[i,c,l]=ZE(t);let u,d;if("NDHWC"===o)d="channelsLast",u=[i,c,l,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat ".concat(o));d="channelsFirst",u=[i,c,l,e[1],e[1]]}return KE(e,u,n,r,a,!1,d,s)}function qE(e,t,n,r,a,s){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[c,l,u,d]=[-1,-1,-1,-1];if("channelsLast"===i)[c,l,u,d]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[c,d,l,u]=e}const[p,h,,f]=t,[m,g]=YE(n),[y,b]=YE(r),v=$E(p,y),x=$E(h,b),{padInfo:w,outHeight:k,outWidth:N}=function(e,t,n,r,a,s,o,i,c){let l,u,d;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=XE(e,t,n));const s=e[0],o=e[1],i=JE((s-t+2*r)/n+1,a),c=JE((o-t+2*r)/n+1,a);return[i,c]}([t,n],s,r,e,i);u=a[0],d=a[1]}else if("same"===e){u=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(u-1)*r+s-t),i=Math.max(0,(d-1)*a+o-n),c=Math.floor(e/2),p=e-c,h=Math.floor(i/2);l={top:c,bottom:p,left:h,right:i-h,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-s+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const p="channelsLast"===c?e[1][0]:e[2][0],h="channelsLast"===c?e[1][1]:e[2][1],f="channelsLast"===c?e[2][0]:e[3][0],m="channelsLast"===c?e[2][1]:e[3][1];l={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},u=JE((t-s+p+h)/r+1,i),d=JE((n-o+f+m)/a+1,i)}}return{padInfo:l,outHeight:u,outWidth:d}}(a,l,u,m,g,v,x,s,i),S=o?f*d:f;let C;return"channelsFirst"===i?C=[c,S,k,N]:"channelsLast"===i&&(C=[c,k,N,S]),{batchSize:c,dataFormat:i,inHeight:l,inWidth:u,inChannels:d,outHeight:k,outWidth:N,outChannels:S,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:v,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:b,inShape:e,outShape:C,filterShape:t}}function KE(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",i=arguments.length>7?arguments[7]:void 0,[c,l,u,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===o)[c,l,u,d,p]=e;else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));[c,p,l,u,d]=e}const[h,f,m,,g]=t,[y,b,v]=ZE(n),[x,w,k]=ZE(r),N=$E(h,x),S=$E(f,w),C=$E(m,k),{padInfo:T,outDepth:E,outHeight:I,outWidth:_}=function(e,t,n,r,a,s,o,i,c,l,u){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,s){null==a&&(a=XE(e,t[0],r[0]));const o=[0,0,0,n];for(let i=0;i<3;i++)e[i]+2*a>=t[i]&&(o[i]=JE((e[i]-t[i]+2*a)/r[i]+1,s));return o}([t,n,r,1],[i,c,l],1,[a,s,o],e,u);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{p=Math.ceil(t/a),h=Math.ceil(n/s),f=Math.ceil(r/o);const e=(p-1)*a+i-t,u=(h-1)*s+c-n,m=(f-1)*o+l-r,g=Math.floor(e/2),y=e-g,b=Math.floor(u/2),v=u-b,x=Math.floor(m/2);d={top:b,bottom:v,left:x,right:m-x,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(a,l,u,d,y,b,v,N,S,C,i),O=s?g*p:g;let A;return"channelsFirst"===o?A=[c,O,E,I,_]:"channelsLast"===o&&(A=[c,E,I,_,O]),{batchSize:c,dataFormat:o,inDepth:l,inHeight:u,inWidth:d,inChannels:p,outDepth:E,outHeight:I,outWidth:_,outChannels:O,padInfo:T,strideDepth:y,strideHeight:b,strideWidth:v,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:N,effectiveFilterHeight:S,effectiveFilterWidth:C,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:A,filterShape:t}}function XE(e,t,n){const r=$E(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function YE(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ZE(e){return"number"===typeof e?[e,e,e]:e}function $E(e,t){return t<=1?e:e+(e-1)*(t-1)}function JE(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function QE(e){const[t,n,r]=YE(e);return 1===t&&1===n&&1===r}function eI(e,t){return QE(e)||QE(t)}function tI(e){return YE(e).every((e=>e>0))}function nI(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function rI(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)nb(lb(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{nb(lb(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const aI=qN({reshape_:function(e,t){const n={x:VN(e,"x","reshape","string_or_numeric")},r={shape:t};return DN.runKernel(hw,n,r)}});const sI=qN({avgPool_:function(e,t,n,r,a){const s=VN(e,"x","avgPool","float32");nb(eI(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let o=s,i=!1;3===s.rank&&(i=!0,o=aI(s,[1,s.shape[0],s.shape[1],s.shape[2]])),nb(4===o.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(o.rank,"."))),rI("avgPool",r,a);const c={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let u=DN.runKernel(uv,c,l);return u=kC(u,s.dtype),i?aI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const oI=qN({avgPool3d_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=VN(e,"x","avgPool3d","float32");let i=o,c=!1;4===o.rank&&(c=!0,i=aI(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),nb(5===i.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),nb("NDHWC"===s,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(s))),nb("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),rI("avgPool3d",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s};let d=DN.runKernel(pv,l,u);return d=kC(d,i.dtype),c?aI(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const iI=qN({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nb(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=GN(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return NC(n[0]);const r=n,a={axis:t};return DN.runKernel(Cv,r,a)}});const cI=qN({sigmoid_:function(e){const t={x:VN(e,"x","sigmoid","float32")};return DN.runKernel(Aw,t)}});const lI=qN({slice_:function(e,t,n){const r=VN(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},s={begin:t,size:n};return DN.runKernel(Ew,a,s)}});const uI=qN({tanh_:function(e){const t={x:VN(e,"x","tanh","float32")};return DN.runKernel(Jw,t)}});const dI=qN({basicLSTMCell_:function(e,t,n,r,a,s){const o=VN(e,"forgetBias","basicLSTMCell"),i=VN(t,"lstmKernel","basicLSTMCell"),c=VN(n,"lstmBias","basicLSTMCell"),l=VN(r,"data","basicLSTMCell"),u=VN(a,"c","basicLSTMCell"),d=VN(s,"h","basicLSTMCell"),p=iI([l,d],1),h=_T(p,i),f=CC(h,c),m=f.shape[0],g=f.shape[1]/4,y=[m,g],b=lI(f,[0,0],y),v=lI(f,[0,g],y),x=lI(f,[0,2*g],y),w=lI(f,[0,3*g],y),k=CC(IC(cI(b),uI(v)),IC(u,cI(CC(o,x))));return[k,IC(uI(k),cI(w))]}});const pI=qN({batchToSpaceND_:function(e,t,n){const r=VN(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));nb(r.rank>=1+t.length,(()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length))),nb(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),nb(r.shape[0]%a===0,(()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)));const s={x:r},o={blockShape:t,crops:n};return DN.runKernel(mv,s,o)}});const hI=qN({batchNorm_:function(e,t,n,r,a,s){null==s&&(s=.001);const o=VN(e,"x","batchNorm"),i=VN(t,"mean","batchNorm"),c=VN(n,"variance","batchNorm");let l,u;null!=a&&(l=VN(a,"scale","batchNorm")),null!=r&&(u=VN(r,"offset","batchNorm")),nb(i.rank===c.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),nb(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),nb(null==l||i.rank===l.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?aI(e,[1,1,1,e.size]):2===e.rank?aI(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?aI(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(o),scale:l,offset:u,mean:i,variance:c},p={varianceEpsilon:s},h=DN.runKernel(ix,d,p);return aI(h,o.shape)}});const fI=qN({batchNorm2d_:function(e,t,n,r,a,s){const o=VN(e,"x","batchNorm"),i=VN(t,"mean","batchNorm"),c=VN(n,"variance","batchNorm");let l,u;return null!=a&&(l=VN(a,"scale","batchNorm")),null!=r&&(u=VN(r,"offset","batchNorm")),nb(2===o.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(o.rank,"."))),nb(2===i.rank||1===i.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(i.rank,"."))),nb(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&nb(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&nb(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),hI(o,i,c,u,l,s)}});const mI=qN({batchNorm3d_:function(e,t,n,r,a,s){const o=VN(e,"x","batchNorm"),i=VN(t,"mean","batchNorm"),c=VN(n,"variance","batchNorm");let l,u;return null!=a&&(l=VN(a,"scale","batchNorm")),null!=r&&(u=VN(r,"offset","batchNorm")),nb(3===o.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(o.rank,"."))),nb(3===i.rank||1===i.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(i.rank,"."))),nb(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&nb(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&nb(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),hI(o,i,c,u,l,s)}});const gI=qN({batchNorm4d_:function(e,t,n,r,a,s){const o=VN(e,"x","batchNorm"),i=VN(t,"mean","batchNorm"),c=VN(n,"variance","batchNorm");let l,u;return null!=a&&(l=VN(a,"scale","batchNorm")),null!=r&&(u=VN(r,"offset","batchNorm")),nb(4===o.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(o.rank,"."))),nb(4===i.rank||1===i.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(i.rank,"."))),nb(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&nb(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&nb(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),hI(o,i,c,u,l,s)}});const yI=qN({bincount_:function(e,t,n){const r=VN(e,"x","bincount"),a=VN(t,"weights","bincount");nb("int32"===r.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype))),nb(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),nb(a.size===r.size||0===a.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")));const s={x:r,weights:a},o={size:n};return DN.runKernel(gv,s,o)}});const bI=qN({bitwiseAnd_:function(e,t){const n=VN(e,"x","bitwiseAnd"),r=VN(t,"y","bitwiseAnd");if(!cb(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));const a={a:n,b:r};return DN.runKernel(yv,a)}});const vI=qN({broadcastArgs_:function(e,t){const n=VN(e,"s0","broadcastArgs","int32"),r=VN(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));const a={s0:n,s1:r};return DN.runKernel(vv,a)}});const xI=qN({broadcastTo_:function(e,t){let n=VN(e,"broadcastTo","x");const r=n.shape;if(Lb(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=aI(n,e)}const a=n.shape,s=Array.from(t);for(let c=t.length-1;c>=0;c--)if(a[c]===t[c])s[c]=1;else if(1!==n.shape[c])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));if(0===s.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return NC(n);const o={x:n},i={reps:s};return DN.runKernel(Qw,o,i)}});const wI=qN({ceil_:function(e){const t={x:VN(e,"x","ceil","float32")};return DN.runKernel(wv,t)}});const kI=qN({clipByValue_:function(e,t,n){const r=VN(e,"x","clipByValue");if(nb(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return XC(r.shape,t,r.dtype);const a={x:r},s={clipValueMin:t,clipValueMax:n};return DN.runKernel(kv,a,s)}});const NI=qN({concat1d_:function(e){return iI(e,0)}});const SI=qN({concat2d_:function(e,t){return iI(e,t)}});const CI=qN({concat3d_:function(e,t){return iI(e,t)}});const TI=qN({concat4d_:function(e,t){return iI(e,t)}});const EI=qN({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const i=VN(e,"x","conv2d","float32"),c=VN(t,"filter","conv2d","float32");let l=i,u=!1;3===i.rank&&(u=!0,l=aI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),nb(4===l.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(l.rank,"."))),nb(4===c.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(c.rank,"."))),rI("conv2d",r,o);const d="NHWC"===a?l.shape[3]:l.shape[1];nb(d===c.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(c.shape[2],"."))),nb(eI(n,s),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'"))),nb(tI(s),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),nb(tI(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:l,filter:c},h={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},f=DN.runKernel(Tv,p,h);return u?aI(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const II=qN({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const i=VN(e,"x","conv1d"),c=VN(t,"filter","conv1d");let l=i,u=!1;2===i.rank&&(u=!0,l=aI(i,[1,i.shape[0],i.shape[1]])),nb(3===l.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,"."))),nb(3===c.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(c.rank,"."))),rI("conv1d",r,o),nb(l.shape[2]===c.shape[1],(()=>"Error in conv1d: depth of input (".concat(l.shape[2],") must match ")+"input depth for filter ".concat(c.shape[1],"."))),nb(eI(n,s),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(s,"'"))),nb(tI(s),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),nb(tI(n),(()=>"Error in conv1D: Stride should be larger than 0.")),nb("NWC"===a,(()=>"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")));const d=aI(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=aI(l,[l.shape[0],1,l.shape[1],l.shape[2]]),h=EI(p,d,[1,n],r,"NHWC",[1,s],o);return aI(h,u?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const _I=qN({conv2DBackpropInput_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;nb(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let i=e,c=t,l=!1;3===t.rank&&(l=!0,c=aI(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),nb(4===i.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(i.length,"."))),nb(4===c.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(c.rank))),nb(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const u="NHWC"===s?i[3]:i[1],d="NHWC"===s?c.shape[3]:c.shape[1];nb(u===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),nb(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),rI("conv2dDerInput",a,o);const p={dy:c,filter:n},h={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:i},f=DN.runKernel(Iv,p,h);return l?aI(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const OI=qN({conv2dTranspose_:function(e,t,n,r,a,s){const o=VN(e,"x","conv2dTranspose"),i=VN(t,"filter","conv2dTranspose");return _I(n,o,i,r,a,"NHWC",s)}});const AI=qN({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const o=VN(e,"x","conv3d"),i=VN(t,"filter","conv3d");let c=o,l=!1;4===o.rank&&(l=!0,c=aI(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),nb(5===c.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(c.rank,"."))),nb(5===i.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(i.rank,"."))),nb(c.shape[4]===i.shape[3],(()=>"Error in conv3d: depth of input (".concat(c.shape[4],") must match ")+"input depth for filter ".concat(i.shape[3],"."))),nb(eI(n,s),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'"))),nb("NDHWC"===a,(()=>"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported."))),nb(tI(s),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),nb(tI(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:c,filter:i},d={strides:n,pad:r,dataFormat:a,dilations:s},p=DN.runKernel(_v,u,d);return l?aI(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const RI=qN({conv3DBackpropInput_:function(e,t,n,r,a){nb(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let s=e,o=t,i=!1;4===t.rank&&(i=!0,o=aI(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),s=[1,e[0],e[1],e[2],e[3]]);const c=s[4],l=o.shape[4];nb(5===s.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(s.length,"."))),nb(5===o.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank))),nb(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),nb(c===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),nb(l===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(l,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const u={dy:o,filter:n},d={pad:a,strides:r,inputShape:s},p=DN.runKernel(Av,u,d);return i?aI(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const DI=qN({conv3dTranspose_:function(e,t,n,r,a){const s=VN(e,"x","conv3dTranspose"),o=VN(t,"filter","conv3dTranspose");return RI(n,s,o,r,a)}});const MI=qN({cos_:function(e){const t={x:VN(e,"x","cos","float32")};return DN.runKernel(Rv,t)}});const PI=qN({cosh_:function(e){const t={x:VN(e,"x","cosh","float32")};return DN.runKernel(Dv,t)}});const FI=qN({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:VN(e,"x","cumprod")},s={axis:t,exclusive:n,reverse:r};return DN.runKernel(Mv,a,s)}});const jI=qN({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:VN(e,"x","cumsum")},s={axis:t,exclusive:n,reverse:r};return DN.runKernel(Pv,a,s)}});const LI=qN({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=VN(e,"x","denseBincount"),s=VN(t,"weights","denseBincount");nb("int32"===a.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype))),nb(a.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,"."))),nb(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),nb(s.size===a.size||0===s.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(s.shape,".")));const o={x:a,weights:s},i={size:n,binaryOutput:r};return DN.runKernel(jv,o,i)}});const zI=qN({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=VN(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],s="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];nb(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),nb(a*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape))),nb(s*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(s," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape))),nb(o%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(o," for depthToSpace with input shape ").concat(r.shape)));const i={x:r},c={blockSize:t,dataFormat:n};return DN.runKernel(Lv,i,c)}});const BI=qN({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const i=VN(e,"x","depthwiseConv2d","float32"),c=VN(t,"filter","depthwiseConv2d","float32");let l=i,u=!1;3===i.rank&&(u=!0,l=aI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),nb(4===l.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,"."))),nb(4===c.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(c.rank,".")));const d="NHWC"===a?l.shape[3]:l.shape[1];nb(d===c.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(c.shape[2],"."))),rI("depthwiseConv2d",r,o);const p={x:l,filter:c},h={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},f=DN.runKernel(zv,p,h);return u?aI(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const UI=qN({diag_:function(e){const t={x:VN(e,"x","diag")};return DN.runKernel(Wv,t)}});const WI=qN({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const o=VN(e,"x","dilation2d"),i=VN(t,"filter","dilation2d");nb(3===o.rank||4===o.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(o.rank,"."))),nb(3===i.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(i.rank,"."))),nb("NHWC"===s,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(s)));let c=o,l=!1;3===o.rank&&(c=aI(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=!0),nb(c.shape[3]===i.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(c.shape[3]," vs ").concat(i.shape[2])));const u={x:c,filter:i},d={strides:n,pad:r,dilations:a},p=DN.runKernel(Vv,u,d);return l?aI(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const VI=qN({equal_:function(e,t){let n=VN(e,"a","equal","string_or_numeric"),r=VN(t,"b","equal","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Jv,a)}});const GI=qN({where_:function(e,t,n){const r=VN(t,"a","where"),a=VN(n,"b","where"),s=VN(e,"condition","where","bool"),o=nT(nT(s.shape,r.shape),a.shape),i={condition:xI(s,o),t:xI(r,o),e:xI(a,o)};return DN.runKernel(Cw,i)}});const HI=qN({divNoNan_:function(e,t){let n=VN(e,"a","div"),r=VN(t,"b","div");[n,r]=SN(n,r);const a=EC(n,r),s=AC(a),o=VI(r,s);return GI(o,s,a)}});const qI=qN({dot_:function(e,t){const n=VN(e,"t1","dot"),r=VN(t,"t2","dot");nb((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=1===n.rank?n.size:n.shape[1],s=1===r.rank?r.size:r.shape[0];if(nb(a===s,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(s,"."))),1===n.rank&&1===r.rank){const e=aI(n,[1,-1]),t=aI(r,[-1,1]),a=_T(e,t);return aI(a,[])}if(1===n.rank&&2===r.rank){const e=aI(n,[1,-1]),t=aI(r,[r.shape[0],r.shape[1]]),a=_T(e,t);return aI(a,[a.size])}if(2===n.rank&&1===r.rank){const e=aI(r,[-1,1]),t=_T(n,e);return aI(t,[t.size])}{const e=aI(r,[r.shape[0],r.shape[1]]);return _T(n,e)}}});const KI=qN({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(((e,t)=>VN(e,"tensors".concat(t),"einsum"))),s={equation:e};return DN.runKernel(Xv,a,s)}});const XI=qN({elu_:function(e){const t={x:VN(e,"x","elu","float32")};return DN.runKernel(Yv,t)}});const YI=qN({ensureShape_:function(e,t){const n=VN(e,"x","ensureShape","string_or_numeric");if(!ib(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const ZI=qN({erf_:function(e){let t=VN(e,"x","erf");nb("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=kC(t,"float32"));const n={x:t};return DN.runKernel($v,n)}});function $I(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function JI(e,t,n){const r=e.length+t.length,a=[];let s=0,o=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[s++]):a.push(t[o++]);return a}function QI(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function e_(e,t){return JI(e,t.map((e=>1)),t)}function t_(e,t,n){nb($I(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function n_(e,t){if($I(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function r_(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function a_(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const s_=qN({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:VN(e,"x","max")},a={reductionIndices:t,keepDims:n};return DN.runKernel(Dx,r,a)}});const o_=qN({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:VN(e,"x","min")},a={axis:t,keepDims:n};return DN.runKernel(Ux,r,a)}});const i_=qN({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=VN(e,"x","sum");"bool"===r.dtype&&(r=kC(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return DN.runKernel(Mw,a,s)}});function c_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return QC(e);if(1!==e.rank&&null===n)return c_(aI(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return i_(QC(e),n);if(t===1/0)return s_(QC(e),n);if(t===-1/0)return o_(QC(e),n);if("euclidean"===t||2===t)return _C(i_(ZC(QC(e),zC(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return s_(i_(QC(e),n[0]),n[1]-1);if(t===1/0)return s_(i_(QC(e),n[1]),n[0]);if(t===-1/0)return o_(i_(QC(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return _C(i_(OC(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const l_=qN({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=c_(e=VN(e,"x","norm"),t,n);let s=a.shape;if(r){const t=gb(n,e.shape);s=e_(a.shape,t)}return aI(a,s)}});const u_=qN({euclideanNorm_:function(e){return l_(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const d_=qN({exp_:function(e){const t={x:VN(e,"x","exp")};return DN.runKernel(Qv,t)}});const p_=qN({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=VN(e,"x","expandDims","string_or_numeric");nb(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return DN.runKernel(ex,r,a)}});const h_=qN({expm1_:function(e){const t={x:VN(e,"x","expm1")};return DN.runKernel(tx,t)}});const f_=qN({tile_:function(e,t){const n=VN(e,"x","tile","string_or_numeric");nb(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const r={x:n},a={reps:t};return DN.runKernel(Qw,r,a)}});const m_=qN({eye_:function(e,t,n){null==t&&(t=e);const r=wC([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let o=0;o<a;++o)r.set(1,o,o);const s=aI(r.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return f_(p_(s,0),[n[0],1,1]);if(2===n.length)return f_(p_(p_(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return f_(p_(p_(p_(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const g_=qN({floor_:function(e){const t={x:VN(e,"x","floor","float32")};return DN.runKernel(sx,t)}});const y_=qN({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:VN(e,"x","gather"),indices:VN(t,"indices","gather","int32")},s={axis:n,batchDims:r};return DN.runKernel(cx,a,s)}});const b_=qN({greater_:function(e,t){let n=VN(e,"a","greater","string_or_numeric"),r=VN(t,"b","greater","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(ux,a)}});const v_=qN({greaterEqual_:function(e,t){let n=VN(e,"a","greaterEqual","string_or_numeric"),r=VN(t,"b","greaterEqual","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(dx,a)}});const x_=qN({isFinite_:function(e){const t={x:VN(e,"x","isFinite")};return DN.runKernel(mx,t)}});const w_=qN({isInf_:function(e){const t={x:VN(e,"x","isInf")};return DN.runKernel(gx,t)}});const k_=qN({isNaN_:function(e){const t={x:VN(e,"x","isNaN")};return DN.runKernel(yx,t)}});const N_=qN({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:VN(e,"x","leakyRelu")},r={alpha:t};return DN.runKernel(bx,n,r)}});const S_=qN({less_:function(e,t){let n=VN(e,"a","less","string_or_numeric"),r=VN(t,"b","less","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(vx,a)}});const C_=qN({lessEqual_:function(e,t){let n=VN(e,"a","lessEqual","string_or_numeric"),r=VN(t,"b","lessEqual","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(xx,a)}});function T_(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return DN.runKernel(wx,{},r)}const E_=qN({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const s=VN(e,"x","localResponseNormalization");nb(4===s.rank||3===s.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(s.rank,"."))),nb(lb(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let o=s,i=!1;3===s.rank&&(i=!0,o=aI(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const c={x:o},l={depthRadius:t,bias:n,alpha:r,beta:a},u=DN.runKernel(Ox,c,l);return i?aI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const I_=qN({log_:function(e){const t={x:VN(e,"x","log","float32")};return DN.runKernel(kx,t)}});const __=qN({log1p_:function(e){const t={x:VN(e,"x","log1p")};return DN.runKernel(Nx,t)}});const O_=qN({softplus_:function(e){const t={x:VN(e,"x","softplus")};return DN.runKernel(Rw,t)}});const A_=qN({logSigmoid_:function(e){const t=VN(e,"x","logSigmoid");return jC((e=>({value:RT(O_(RT(e))),gradFunc:t=>IC(t,cI(RT(e)))})))(t)}});const R_=qN({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=VN(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=jC(((e,n)=>{const r=s_(e,t,!0),a=$C(e,r),s=$C(kC(a,"float32"),I_(i_(d_(a),t,!0)));n([s]);return{value:s,gradFunc:(e,n)=>{const[r]=n,a=d_(r);return $C(e,IC(i_(e,t,!0),a))}}}));return r(n)}});const D_=qN({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=VN(e,"x","logSumExp"),a=gb(t,r.shape),s=s_(r,a,!0),o=$C(r,s),i=d_(o),c=i_(i,a),l=I_(c),u=CC(aI(s,l.shape),l);if(n){const e=e_(u.shape,a);return aI(u,e)}return u}});const M_=qN({logicalAnd_:function(e,t){const n=VN(e,"a","logicalAnd","bool"),r=VN(t,"b","logicalAnd","bool");nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Sx,a)}});const P_=qN({logicalNot_:function(e){const t={x:VN(e,"x","logicalNot","bool")};return DN.runKernel(Cx,t)}});const F_=qN({logicalOr_:function(e,t){const n=VN(e,"a","logicalOr","bool"),r=VN(t,"b","logicalOr","bool");nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Tx,a)}});const j_=qN({logicalXor_:function(e,t){const n=VN(e,"a","logicalXor","bool"),r=VN(t,"b","logicalXor","bool");return nT(n.shape,r.shape),M_(F_(e,t),P_(M_(e,t)))}}),L_=2147483648;const z_=qN({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=VN(e,"sortedSequence","searchSorted"),a=VN(t,"values","searchSorted"),s=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],i=aI(r,[-1,s]),c=aI(a,[-1,o]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(sb(c.shape)>=L_)throw new Error("values tensor size must less than ".concat(L_));if(i.shape[1]>=L_)throw new Error("trailing dim_size must less than ".concat(L_," for int32 output type, was ").concat(i.shape[1]));const l={sortedSequence:i,values:c},u={side:n};return DN.runKernel(Sw,l,u)}});function B_(e,t){return z_(e,t,"left")}const U_=qN({maxPool_:function(e,t,n,r,a){const s=VN(e,"x","maxPool");let o=s,i=!1;3===s.rank&&(i=!0,o=aI(s,[1,s.shape[0],s.shape[1],s.shape[2]])),nb(4===o.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(o.rank,"."))),nb(eI(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),rI("maxPool",r,a);const c={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},u=DN.runKernel(Px,c,l);return i?aI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const W_=qN({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=VN(e,"x","maxPool3d");let i=o,c=!1;4===o.rank&&(c=!0,i=aI(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),nb(5===i.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),nb("NDHWC"===s,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(s))),rI("maxPool3d",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s},d=DN.runKernel(jx,l,u);return c?aI(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const V_=qN({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s={x:VN(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=DN.runKernel(zx,s,o);return{result:i[0],indexes:i[1]}}});const G_=qN({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:VN(e,"x","mean")},a={axis:t,keepDims:n};return DN.runKernel(Bx,r,a)}});function H_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Lb(e),"complex64"===t){const t=H_(e,"float32"),n=H_(e,"float32");return KN(t,n)}const n=Fb(sb(e),t);return DN.makeTensor(n,e,t)}function q_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Lb(e),"complex64"===t){const t=q_(e,"float32"),n=H_(e,"float32");return KN(t,n)}const n=Pb(sb(e),t);return DN.makeTensor(n,e,t)}function K_(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let r=VN(e,"x","meshgrid",e instanceof dN?e.dtype:"float32");if(void 0===t)return[r];let a=VN(t,"y","meshgrid",t instanceof dN?t.dtype:"float32");const s=sb(r.shape),o=sb(a.shape);return"xy"===n?(r=aI(r,[1,-1]),a=aI(a,[-1,1]),[_T(q_([o,1],r.dtype),r),_T(a,q_([1,s],a.dtype))]):(r=aI(r,[-1,1]),a=aI(a,[1,-1]),[_T(r,q_([1,o],r.dtype)),_T(q_([s,1],a.dtype),a)])}const X_=qN({minimum_:function(e,t){let n=VN(e,"a","minimum"),r=VN(t,"b","minimum");[n,r]=SN(n,r),"bool"===n.dtype&&(n=kC(n,"int32"),r=kC(r,"int32")),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Wx,a)}});const Y_=qN({mirrorPad_:function(e,t,n){nb("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const r=VN(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");nb(t.length===r.rank,(()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")));const a="reflect"===n?1:0;for(let i=0;i<r.rank;i++)nb(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),nb(t[i][0]>=0&&t[i][0]<=r.shape[i]-a&&t[i][1]>=0&&t[i][1]<=r.shape[i]-a,(()=>"Padding in dimension ".concat(i," cannot be greater than or equal ")+"to ".concat(r.shape[i]-a," or less than 0 for input of ")+"shape ".concat(r.shape)));const s={paddings:t,mode:n},o={x:r};return DN.runKernel(Vx,o,s)}});const Z_=qN({mod_:function(e,t){let n=VN(e,"a","mod"),r=VN(t,"b","mod");[n,r]=SN(n,r);const a={a:n,b:r};return DN.runKernel(Gx,a)}});const $_=qN({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=gb(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=VN(e,"x","moments")).shape),r=G_(e,n,t);let a=r.shape;t||(a=e_(r.shape,n));const s=OC($C(kC(e,"float32"),aI(r,a)));return{mean:r,variance:G_(s,n,t)}}});const J_=qN({multiRNNCell_:function(e,t,n,r){const a=VN(t,"data","multiRNNCell"),s=GN(n,"c","multiRNNCell"),o=GN(r,"h","multiRNNCell");let i=a;const c=[];for(let d=0;d<e.length;d++){const t=e[d](i,s[d],o[d]);c.push(t[0]),c.push(t[1]),i=t[1]}const l=[],u=[];for(let d=0;d<c.length;d+=2)l.push(c[d]),u.push(c[d+1]);return[l,u]}});const Q_=qN({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=VN(e,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(s,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();const i={logits:1===o?aI(a,[1,-1]):a},c={numSamples:t,seed:n,normalized:r},l=DN.runKernel(Hx,i,c);return 1===o?aI(l,[l.size]):l}});const eO=qN({notEqual_:function(e,t){let n=VN(e,"a","notEqual","string_or_numeric"),r=VN(t,"b","notEqual","string_or_numeric");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Xx,a)}});const tO=qN({onesLike_:function(e){const t={x:VN(e,"x","onesLike")};return DN.runKernel(Jx,t)}});const nO=qN({outerProduct_:function(e,t){const n=VN(e,"v1","outerProduct"),r=VN(t,"v2","outerProduct");nb(1===n.rank&&1===r.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=aI(n,[-1,1]),s=aI(r,[1,-1]);return _T(a,s)}});const rO=qN({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=VN(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},s={x:r};return DN.runKernel(tw,s,a)}});const aO=qN({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nb(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),rO(e,[t],n)}});const sO=qN({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nb(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),rO(e,t,n)}});const oO=qN({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nb(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),rO(e,t,n)}});const iO=qN({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nb(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),rO(e,t,n)}});const cO=qN({spaceToBatchND_:function(e,t,n){const r=VN(e,"x","spaceToBatchND");nb(r.rank>=1+t.length,(()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length))),nb(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),nb(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e),!0),(()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const a={x:r},s={blockShape:t,paddings:n};return DN.runKernel(Pw,a,s)}});const lO=qN({pool_:function(e,t,n,r,a,s,o){null==a&&(a=[1,1]),null==s&&(s=1),0===r&&(r="valid");const i=VN(e,"x","maxPool");let c=i,l=!1;3===i.rank&&(l=!0,c=aI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),nb(eI(s,a),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(a,"'")));const u=GE(c.shape,t,s,a,r),d=[u.dilationHeight,u.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),a=r.map((e=>Math.floor(e/2))),s=r.map(((e,t)=>e-a[t]));return r.map(((e,t)=>[a[t],s[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),s=e.concat(r,a),o=t.map(((e,t)=>(e-s[t]%e)%e)),i=a.map(((e,t)=>e+o[t])),c=t.map(((e,t)=>[r[t],i[t]])),l=t.map(((e,t)=>[0,o[t]]));return[c,l]}([u.inHeight,u.inWidth],d,p),g=h?r:"valid",y=h?c:cO(c,d,f),b=("avg"===n?()=>sI(y,t,s,g,o):()=>U_(y,t,s,g,o))(),v=h?b:pI(b,d,m);return l?aI(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});const uO=qN({prelu_:function(e,t){const n={x:VN(e,"x","prelu"),alpha:VN(t,"alpha","prelu")};return DN.runKernel(aw,n)}});const dO=qN({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=VN(e,"x","prod");"bool"===r.dtype&&(r=kC(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return DN.runKernel(sw,a,s)}});const pO=qN({raggedGather_:function(e,t,n,r){const a={paramsNestedSplits:e.map(((e,t)=>VN(e,"tensors".concat(t),"raggedGather","int32"))),paramsDenseValues:VN(t,"paramsDenseValues","raggedGather"),indices:VN(n,"indices","raggedGather","int32")},s={outputRaggedRank:r},o=DN.runKernel(ow,a,s);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}});const hO=qN({raggedRange_:function(e,t,n){const r=VN(e,"starts","raggedRange"),a={starts:r,limits:VN(t,"limits","raggedRange",r.dtype),deltas:VN(n,"deltas","raggedRange",r.dtype)},s=DN.runKernel(iw,a);return{rtNestedSplits:s[0],rtDenseValues:s[1]}}});const fO=qN({raggedTensorToTensor_:function(e,t,n,r,a){const s=VN(e,"shape","raggedTensorToTensor","int32"),o=VN(t,"values","raggedTensorToTensor"),i={shape:s,values:o,defaultValue:VN(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map(((e,t)=>VN(e,"tensors".concat(t),"raggedTensorToTensor","int32")))},c={rowPartitionTypes:a};return DN.runKernel(cw,i,c)}});const mO=qN({rand_:function(e,t,n){Lb(e);const r=sb(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(let s=0;s<r;s++)a[s]=t();return DN.makeTensor(a,e,n)}});var gO=n(4334);class yO{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=a||Math.random();this.random=gO.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,s;do{r=2*this.random()-1,a=2*this.random()-1,s=r*r+a*a}while(s>=1||0===s);const o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*a*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class bO{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=gO.alea(a.toString()),this.randn=new yO(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,s;for(;;){do{r=this.randn.nextValue(),s=1+this.c*r}while(s<=0);if(s*=s*s,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-s+Math.log(s)),a=this.randu(),a<t||Math.log(a)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class vO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=gO.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const xO=qN({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(Lb(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));const s=new bO(t,n,r,a),o=wC(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const wO=qN({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Lb(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const s=new yO(t,n,r,!1,a),o=wC(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const kO=qN({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return wO(e,0,1,t,n)}});const NO=qN({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;Lb(e);const s=wC(e,r),o=new vO(t,n,null,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const SO=qN({randomUniformInt_:function(e,t,n,r){return NO(e,t,n,"int32",r)}});function CO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return DN.runKernel(lw,{},a)}const TO=qN({reciprocal_:function(e){const t={x:VN(e,"x","reciprocal")};return DN.runKernel(dw,t)}});const EO=qN({relu_:function(e){const t={x:VN(e,"x","relu")};return DN.runKernel(pw,t)}});const IO=qN({relu6_:function(e){const t={x:VN(e,"x","relu6")};return DN.runKernel(bw,t)}});const _O=qN({reverse_:function(e,t){const n={x:VN(e,"x","reverse")},r={dims:t};return DN.runKernel(vw,n,r)}});const OO=qN({reverse1d_:function(e){const t=VN(e,"x","reverse");return nb(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),_O(t,0)}});const AO=qN({reverse2d_:function(e,t){const n=VN(e,"x","reverse");return nb(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),_O(n,t)}});const RO=qN({reverse3d_:function(e,t){const n=VN(e,"x","reverse");return nb(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),_O(n,t)}});const DO=qN({reverse4d_:function(e,t){const n=VN(e,"x","reverse");return nb(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),_O(n,t)}});const MO=qN({round_:function(e){const t={x:VN(e,"x","round")};return DN.runKernel(xw,t)}});const PO=qN({rsqrt_:function(e){const t={x:VN(e,"x","rsqrt","float32")};return DN.runKernel(ww,t)}});const FO=qN({selu_:function(e){const t={x:VN(e,"x","selu")};return DN.runKernel(Tw,t)}});const jO=qN({separableConv2d_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=VN(e,"x","separableConv2d"),c=VN(t,"depthwiseFilter","separableConv2d"),l=VN(n,"pointwiseFilter","separableConv2d");let u=i,d=!1;if(3===i.rank&&(d=!0,u=aI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");nb(4===u.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),nb(4===c.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(c.rank,"."))),nb(4===l.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(c.rank,"."))),nb(1===l.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(l.shape[0],"."))),nb(1===l.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(l.shape[1],".")));const p=c.shape[2],h=c.shape[3];nb(l.shape[2]===p*h,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*h,", ")+"but got ".concat(l.shape[2],".")));const f=BI(u,c,r,a,o,s),m=EI(f,l,1,"valid",o);return d?aI(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const LO=async function(e,t){const n=VN(e,"x","setdiff1d"),r=VN(t,"y","setdiff1d");nb(n.dtype===r.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(r.dtype,")."))),nb(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),nb(1===r.rank,(()=>"y should be 1D tensor, but got y (".concat(r.shape,").")));const a=await n.data(),s=await r.data(),o=new Set(s);let i=0;for(let u=0;u<a.length;u++)o.has(a[u])||i++;const c=new iN([i],n.dtype),l=new iN([i],"int32");for(let u=0,d=0;u<a.length;u++)o.has(a[u])||(c.values[d]=a[u],l.values[d]=u,d++);return[c.toTensor(),l.toTensor()]};const zO=qN({sign_:function(e){const t={x:VN(e,"x","sign")};return DN.runKernel(Ow,t)}});const BO=qN({sin_:function(e){const t={x:VN(e,"x","sin","float32")};return DN.runKernel(Iw,t)}});const UO=qN({sinh_:function(e){const t={x:VN(e,"x","sinh")};return DN.runKernel(_w,t)}});const WO=qN({slice1d_:function(e,t,n){const r=VN(e,"x","slice1d");return nb(1===r.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor"))),lI(r,[t],[n])}});const VO=qN({slice2d_:function(e,t,n){const r=VN(e,"x","slice2d");return nb(2===r.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor"))),lI(r,t,n)}});const GO=qN({slice3d_:function(e,t,n){const r=VN(e,"x","slice3d");return nb(3===r.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor"))),lI(r,t,n)}});const HO=qN({slice4d_:function(e,t,n){const r=VN(e,"x","slice4d");return nb(4===r.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor"))),lI(r,t,n)}});const qO=qN({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=VN(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},a={dim:t};return DN.runKernel(jw,r,a)}});const KO=qN({fft_:function(e){nb("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return DN.runKernel(nx,t)}});const XO=qN({ifft_:function(e){nb("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return DN.runKernel(hx,t)}});const YO=qN({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=aI(e,[n,t]);r=XO(a)}else{const a=[n,2*(t-1)],s=aI(DT(e),[n,t]),o=aI(AT(e),[n,t]),i=_O(lI(s,[0,1],[n,t-2]),1),c=IC(_O(lI(o,[0,1],[n,t-2]),1),zC(-1)),l=iI([s,i],1),u=iI([o,c],1),d=aI(KN(l,u),[a[0],a[1]]);r=XO(d)}if(r=DT(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=aI(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const ZO=qN({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:VN(e,"x","split")},a={numOrSizeSplits:t,axis:n};return DN.runKernel(Fw,r,a)}});const $O=qN({rfft_:function(e,t){nb("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),s=e.shape.map((e=>e));s[e.shape.length-1]=t,a=lI(e,r,s),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=iI([e,H_(r)],e.shape.length-1),n=t}else a=e;const s=AC(a),o=aI(KN(a,s),[r,n]),i=KO(o),c=Math.floor(n/2)+1,l=DT(i),u=AT(i),d=ZO(l,[c,n-c],l.shape.length-1),p=ZO(u,[c,n-c],u.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=c,aI(KN(d[0],p[0]),h)}});const JO=qN({squaredDifference_:function(e,t){let n=VN(e,"a","squaredDifference"),r=VN(t,"b","squaredDifference");[n,r]=SN(n,r),nT(n.shape,r.shape);const a={a:n,b:r};return DN.runKernel(Vw,a,{})}});const QO=qN({squeeze_:function(e,t){const n=VN(e,"x","squeeze","string_or_numeric");return aI(n,yb(n.shape,t).newShape)}});const eA=qN({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=GN(e,"tensors","stack","string_or_numeric");nb(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&nb(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return DN.runKernel(ew,r,a)}});const tA=qN({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:VN(e,"x","step")},r={alpha:t};return DN.runKernel(ck,n,r)}});const nA=qN({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const l={x:VN(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:c};return DN.runKernel(qw,l,u)}});const rA=qN({tan_:function(e){const t={x:VN(e,"x","tan","float32")};return DN.runKernel($w,t)}});function aA(e,t){ab(e);const n=BN(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return XN(e,null,n,t)}function sA(e,t,n){if(ab(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=BN(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return XN(e,t,r,n)}function oA(e,t,n){if(ab(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=BN(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return XN(e,t,r,n)}function iA(e,t,n){if(ab(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=BN(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return XN(e,t,r,n)}function cA(e,t,n){if(ab(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=BN(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return XN(e,t=t||r,r,n)}const lA=qN({tensorScatterUpdate_:function(e,t,n){const r=VN(e,"tensor","tensorScatterupdate"),a=VN(t,"indices","tensorScatterupdate","int32"),s=VN(n,"updates","tensorScatterupdate");if(XT(s,a,r.shape),r.dtype!==s.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(s.dtype,"."));const o={tensor:r,indices:a,updates:s};return DN.runKernel(Nw,o,{})}});const uA=qN({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=VN(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));const s={x:r},o={k:t,sorted:n},[i,c]=DN.runKernel(ek,s,o);return{values:i,indices:c}}});const dA=qN({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Lb(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const s=new yO(t,n,r,!0,a),o=wC(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const pA=qN({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=VN(e,"x","unique","string_or_numeric");nb(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[s,o]=DN.runKernel(rk,r,a);return{values:s,indices:o}}});const hA=qN({unsortedSegmentSum_:function(e,t,n){const r=VN(e,"x","unsortedSegmentSum"),a=VN(t,"segmentIds","unsortedSegmentSum","int32");nb(lb(n),(()=>"numSegments must be of dtype int"));const s={x:r,segmentIds:a},o={numSegments:n};return DN.runKernel(sk,s,o)}});const fA=qN({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=VN(e,"x","unstack","string_or_numeric");nb(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const r={value:n},a={axis:t};return DN.runKernel(ak,r,a)}});function mA(e,t){return z_(e,t,"right")}function gA(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return DN.makeVariable(e,t,n,r)}function yA(e,t){const n=[];for(let s=0;s<t.length;s++)t[s]&&n.push(s);const r=wC(e,"int32"),a=wC([n.length,e.length],"int32");for(let s=0;s<n.length;s++){const t=r.indexToLoc(n[s]),o=s*e.length;a.values.set(t,o)}return a.toTensor()}const bA=async function(e){const t=VN(e,"condition","whereAsync","bool"),n=await t.data(),r=yA(t.shape,n);return e!==t&&t.dispose(),r};const vA=async function(e,t,n){const r=VN(e,"tensor","boolMask"),a=VN(t,"mask","boolMask","bool"),s=null==n?0:n,o=a.rank,i=r.shape;nb(o>0,(()=>"mask cannot be scalar")),rb(i.slice(s,s+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let m=s;m<s+o;m++)c*=i[m];const l=i.slice(0,s).concat([c],i.slice(s+o)),u=aI(r,l),d=aI(a,[-1]),p=await bA(d),h=QO(p,[1]),f=y_(u,h,s);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),u.dispose(),d.dispose(),p.dispose(),f};const xA=qN({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const s=VN(e,"v","movingAverage"),o=VN(t,"x","movingAverage"),i=VN(n,"decay","movingAverage");CN(s,o),nb(cb(s.shape,o.shape),(()=>"Shape mismatch in v and x"));const c=zC(1),l=$C(c,i);let u=IC($C(o,s),l);if(a){nb(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=VN(r,"step","movingAverage");u=EC(u,$C(c,ZC(i,e)))}return CC(s,u)}});const wA=qN({scatterND_:function(e,t,n){Lb(n);const r=VN(e,"indices","scatterND","int32"),a=VN(t,"updates","scatterND");XT(a,r,n);const s={indices:r,updates:a},o={shape:n};return DN.runKernel(kw,s,o)}});const kA=qN({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Lb(n);const a=VN(e,"sparseIndices","sparseToDense","int32"),s=VN(t,"sparseValues","sparseToDense","string_or_numeric"),o=VN(r,"defaultValue","sparseToDense",s.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const a=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(n.length!==s)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(s,"."));const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,s,n,o);const i={sparseIndices:a,sparseValues:s,defaultValue:o},c={outputShape:n};return DN.runKernel(Ww,i,c)}});const NA=qN({gatherND_:function(e,t){const n=VN(t,"indices","gatherND","int32"),r={params:VN(e,"x","gatherND","string_or_numeric"),indices:n};return DN.runKernel(lx,r)}});const SA=qN({dropout_:function(e,t,n,r){const a=VN(e,"x","dropout");if(nb("float32"===a.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead."))),nb(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof dN?a.clone():a;const s=function(e,t){if(null==t)return e.shape.slice();if(cb(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,i=EC(g_(CC(NO(s,0,1,"float32",r),o)),o);return IC(a,i)}});function CA(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function TA(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let s=0;s<e;++s){const o=2*Math.PI*s/(e+r-1);a[s]=t-n*Math.cos(o)}return aA(a,"float32")}const EA=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=VN(e,"predictions","inTopK"),a=VN(t,"targets","inTopK");nb(r.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(r.rank))),nb(r.rank-1===a.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(r.rank," and targets rank ").concat(a.rank))),rb(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=r.shape[r.shape.length-1];nb(n>0&&n<=s,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(s,"), but got ").concat(n)));const o=await r.data(),i=await a.data(),[c,l]=[o.length/s,s],u=bb("bool",c);for(let d=0;d<c;d++){const e=d*l,t=o.subarray(e,e+l),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),u[d]=0;for(let a=0;a<n;a++)if(r[a].index===i[d]){u[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),YN(u,a.shape,"bool")};const IA=qN({conv2DBackpropFilter_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=aI(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c=t;3===c.rank&&(c=aI(t,[1,t.shape[0],t.shape[1],t.shape[2]])),nb(4===i.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(i.shape,"."))),nb(4===c.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(c.shape,"."))),nb(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const l="NHWC"===s?i.shape[3]:i.shape[1],u="NHWC"===s?c.shape[3]:c.shape[1];nb(l===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(l,") must ")+"match input depth in filter (".concat(n[2],"."))),nb(u===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],")."))),rI("conv2dDerFilter",a,o);const d={x:i,dy:c},p={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:n};return DN.runKernel(Ev,d,p)}});function _A(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return IC(e,tA(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function OA(e,t){let n=t;const r=tT(e.shape,t.shape);return r.length>0&&(n=i_(n,r)),aI(n,e.shape)}function AA(e,t,n,r){if("linear"===t)return e;if("relu"===t)return EO(e);if("elu"===t)return XI(e);if("relu6"===t)return IO(e);if("prelu"===t)return uO(e,n);if("leakyrelu"===t)return N_(e,r);if("sigmoid"===t)return cI(e);throw new Error("Unknown fused activation ".concat(t,"."))}const RA=(e,t)=>!(e>0)||"linear"===t;const DA=qN({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:c,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(l=l||"linear",!1===RA(DN.state.gradientDepth,l)){nb("NHWC"===s,(()=>"Error in fused conv2d: got dataFormat of ".concat(s," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=EI(t,n,r,a,s,o,i);return null!=c&&(e=CC(e,c)),AA(e,l,u,d)}const p=VN(t,"x","conv2d","float32"),h=VN(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=aI(p,[1,p.shape[0],p.shape[1],p.shape[2]])),nb(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),nb(4===h.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,"."))),rI("fused conv2d",a,i);const g="NHWC"===s?f.shape[3]:f.shape[1];nb(h.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],"."))),nb(eI(r,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(o,"'")));const y=qE(f.shape,h.shape,r,o,a,i);let b,v;if(null!=c&&(b=VN(c,"bias","fused conv2d"),[b]=SN(b,p),"NHWC"===s?nT(y.outShape,b.shape):(nb(b.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(b.shape.length,"."))),nb(0===b.shape.length||b.shape[0]===y.outChannels||1===b.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(b.shape,") is not ")+"compatible with the number of output channels "+"(".concat(y.outChannels,")"))))),null!=u){const e=u.shape;if(nb(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)nb(1===e[0]||e[0]===y.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(y.outChannels,").")));else if(3===e.length)try{nT(e,y.outShape)}catch(L6){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(y.outShape,").");throw Error(n)}v=VN(u,"prelu weights","fused conv2d")}const x=(e,t)=>{nb("NHWC"===s,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(s," but only NHWC is currently supported.")));const[n,i,c,u]=t,d=_A(e,c,l);nb(QE(o),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")));const p=[_I(i.shape,d,n,r,a),IA(i,d,n.shape,r,a)];if(null!=u){const e=OA(u,d);p.push(e)}return p},w={x:f,filter:h,bias:b,preluActivationWeights:v},k={strides:r,pad:a,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:d};if(null==c){const e=jC(((e,t,n)=>{let r=DN.runKernel(pk,w,k);return n([t,e,r]),m&&(r=aI(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,h)}{const e=jC(((e,t,n,r)=>{let a=DN.runKernel(pk,w,k);return r([t,e,a,n]),m&&(a=aI(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:x}}));return e(f,h,b)}}});const MA=qN({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=aI(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c=t;3===c.rank&&(c=aI(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={x:i,dy:c},u={strides:r,pad:a,dimRoundingMode:o,dilations:s,filterShape:n};return DN.runKernel(Bv,l,u)}});const PA=qN({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,i=t,c=!1;3===t.rank&&(c=!0,i=aI(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={dy:i,filter:n},u={strides:r,pad:a,dimRoundingMode:o,dilations:s,inputShape:e},d=DN.runKernel(Uv,l,u);return c?aI(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const FA=qN({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:c,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(!1===RA(DN.state.gradientDepth,l)){let e=BI(t,n,r,a,s,o,i);return null!=c&&(e=CC(e,c)),AA(e,l,u,d)}const p=VN(t,"x","depthwiseConv2d","float32"),h=VN(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=aI(p,[1,p.shape[0],p.shape[1],p.shape[2]])),nb(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),nb(4===h.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,"."))),nb(f.shape[3]===h.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],"."))),null==o&&(o=[1,1]),nb(eI(r,o),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(o,"'"))),rI("fused depthwiseConv2d",a,i);const g=qE(f.shape,h.shape,r,o,a,i,!0);let y,b;null!=c&&(y=VN(c,"bias","fused conv2d"),[y]=SN(y,p),nT(g.outShape,y.shape)),null!=u&&(b=VN(u,"prelu weights","fused depthwiseConv2d"));const v=(e,t)=>{nb(QE(o),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(o,"'")));const[n,s,c,u]=t,d=_A(e,c,l),p=PA(s.shape,d,n,r,a,o,i),h=MA(s,d,n.shape,r,a,o,i);if(null!=u){return[p,h,OA(y,d)]}return[p,h]},x={x:f,filter:h,bias:y,preluActivationWeights:b},w={strides:r,pad:a,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:d};if(null==c){const e=jC(((e,t,n)=>{let r=DN.runKernel(hk,x,w);return n([t,e,r]),m&&(r=aI(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(f,h)}{const e=jC(((e,t,n,r)=>{let a=DN.runKernel(hk,x,w);return r([t,e,a,n]),m&&(a=aI(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:v}}));return e(f,h,y)}}});const jA=qN({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:s,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:c=.2}=e;if(!1===RA(DN.state.gradientDepth,o)){let e=_T(t,n,r,a);return null!=s&&(e=CC(e,s)),AA(e,o,i,c)}let l=VN(t,"a","fused matMul"),u=VN(n,"b","fused matMul");[l,u]=SN(l,u);const d=r?l.shape[l.rank-2]:l.shape[l.rank-1],p=a?u.shape[u.rank-1]:u.shape[u.rank-2],h=r?l.shape[l.rank-1]:l.shape[l.rank-2],f=a?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),g=u.shape.slice(0,-2),y=sb(m),b=sb(g);nb(d===p,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(p,") of Tensors with shapes ").concat(l.shape," and ")+"".concat(u.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")));const v=nT(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([h,f]),x=aI(l,r?[y,d,h]:[y,h,d]),w=aI(u,a?[b,f,p]:[b,p,f]);let k,N;null!=s&&(k=VN(s,"bias","fused matMul"),[k]=SN(k,l),nT(v,k.shape)),null!=i&&(N=VN(i,"prelu weights","fused matMul"));const S=(e,t)=>{const[n,i,c,l]=t,u=_A(aI(e,c.shape),c,o);let d,p;if(r||a?!r&&a?(d=_T(u,i,!1,!1),p=_T(u,n,!0,!1)):r&&!a?(d=_T(i,u,!1,!0),p=_T(n,u,!1,!1)):(d=_T(i,u,!0,!0),p=_T(u,n,!0,!0)):(d=_T(u,i,!1,!0),p=_T(n,u,!0,!1)),null!=s){return[d,p,OA(l,u)]}return[d,p]},C={a:x,b:w,bias:k,preluActivationWeights:N},T={transposeA:r,transposeB:a,activation:o,leakyreluAlpha:c};if(null==s){const e=jC(((e,t,n)=>{const r=DN.runKernel(dk,C,T);return n([e,t,r]),{value:aI(r,v),gradFunc:S}}));return e(x,w)}{const e=jC(((e,t,n,r)=>{const a=DN.runKernel(dk,C,T);return r([e,t,a,n]),{value:aI(a,v),gradFunc:S}}));return e(x,w,k)}}});const LA=qN({hammingWindow_:function(e){return TA(e,.54,.46)}});const zA=qN({hannWindow_:function(e){return TA(e,.5,.5)}});const BA=qN({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=0;const o=[];for(;s+t<=e.size;)o.push(lI(e,s,t)),s+=n;if(r)for(;s<e.size;){const r=s+t-e.size,i=iI([lI(e,s,t-r),XC([r],a)]);o.push(i),s+=n}return 0===o.length?sA([],[0,t]):aI(iI(o),[o.length,t])}});const UA=qN({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zA;null==r&&(r=CA(t));const s=BA(e,t,n),o=IC(s,a(t));return $O(o,r)}});const WA=qN({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=VN(e,"image","cropAndResize"),i=VN(t,"boxes","cropAndResize","float32"),c=VN(n,"boxInd","cropAndResize","int32"),l=i.shape[0];nb(4===o.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,"."))),nb(2===i.rank&&4===i.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(l,",4] ")+"but had shape ".concat(i.shape,"."))),nb(1===c.rank&&c.shape[0]===l,(()=>"Error in cropAndResize: boxInd must be have size [".concat(l,"] ")+"but had shape ".concat(i.shape,"."))),nb(2===r.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,"."))),nb(r[0]>=1&&r[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(r))),nb("bilinear"===a||"nearest"===a,(()=>"method must be bilinear or nearest, but was ".concat(a)));const u={image:o,boxes:i,boxInd:c},d={method:a,extrapolationValue:s,cropSize:r};return DN.runKernel(Fv,u,d)}});const VA=qN({flipLeftRight_:function(e){const t=VN(e,"image","flipLeftRight","float32");nb(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return DN.runKernel(ax,n,{})}});const GA=qN({grayscaleToRGB_:function(e){const t=VN(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];nb(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),nb(1===r,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,f_(t,a)}});const HA=qN({rgbToGrayscale_:function(e){const t=VN(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];nb(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),nb(3===r,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,".")));const a=t.dtype,s=kC(t,"float32"),o=aA([.2989,.587,.114]);let i;switch(t.rank){case 2:i=KI("ij,j->i",s,o);break;case 3:i=KI("ijk,k->ij",s,o);break;case 4:i=KI("ijkl,l->ijk",s,o);break;case 5:i=KI("ijklm,m->ijkl",s,o);break;case 6:i=KI("ijklmn,n->ijklm",s,o);break;default:throw new Error("Not a valid tensor rank.")}return i=p_(i,-1),kC(i,a)}});const qA=qN({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=VN(e,"image","rotateWithOffset","float32");nb(4===a.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")));const s={image:a},o={radians:t,fillValue:n,center:r};return DN.runKernel(uk,s,o)}});function KA(e,t,n,r,a,s){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);const o=e.shape[0];return n=Math.min(n,o),nb(0<=r&&r<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'"))),nb(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),nb(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),nb(1===t.rank,(()=>"scores must be a 1D tensor")),nb(t.shape[0]===o,(()=>"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0]))),nb(0<=s&&s<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(s,"'"))),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}const XA=qN({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const s=VN(e,"boxes","nonMaxSuppression","float32"),o=VN(t,"scores","nonMaxSuppression","float32"),i=KA(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return DN.runKernel(Yx,{boxes:s,scores:o},c)}});function YA(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,s=0,o=!1;for(;r<a;){s=r+(a-r>>>1);const i=n(t,e[s]);i>0?r=s+1:(a=s,o=!i)}return o?r:-r-1}(e,t,n||ZA)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function ZA(e,t){return e>t?1:e<t?-1:0}function $A(e,t,n,r,a){return eR(e,t,n,r,a,0)}function JA(e,t,n,r,a,s){return eR(e,t,n,r,a,0,!1,s,!0)}function QA(e,t,n,r,a,s){return eR(e,t,n,r,a,s,!0)}function eR(e,t,n,r,a,s){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const l=[];for(let g=0;g<t.length;g++)t[g]>a&&l.push({score:t[g],boxIndex:g,suppressBeginIndex:0});l.sort(rR);const u=s>0?-.5/s:0,d=[],p=[];for(;d.length<n&&l.length>0;){const t=l.pop(),{score:n,boxIndex:s,suppressBeginIndex:o}=t;if(n<a)break;let i=!1;for(let c=d.length-1;c>=o;--c){const n=tR(e,s,d[c]);if(n>=r){i=!0;break}if(t.score=t.score*nR(r,u,n),t.score<=a)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(s),p.push(t.score)):t.score>a&&YA(l,t,rR))}const h=d.length,f=n-h;i&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return o&&(m.selectedScores=p),c&&(m.validOutputs=h),m}function tR(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),s=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),u=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(i-s)*(c-o),f=(d-l)*(p-u);if(h<=0||f<=0)return 0;const m=Math.max(s,l),g=Math.max(o,u),y=Math.min(i,d),b=Math.min(c,p),v=Math.max(y-m,0)*Math.max(b-g,0);return v/(h+f-v)}function nR(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function rR(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const aR=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const s=VN(e,"boxes","nonMaxSuppressionAsync"),o=VN(t,"scores","nonMaxSuppressionAsync"),i=KA(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const c=await Promise.all([s.data(),o.data()]),l=c[0],u=c[1],{selectedIndices:d}=$A(l,u,n,r,a);return s!==e&&s.dispose(),o!==t&&o.dispose(),aA(d,"int32")};const sR=qN({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=VN(e,"boxes","nonMaxSuppression"),i=VN(t,"scores","nonMaxSuppression"),c=KA(o,i,n,r,a,s);n=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,s=c.softNmsSigma;const l={boxes:o,scores:i},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s},d=DN.runKernel($x,l,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const oR=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=VN(e,"boxes","nonMaxSuppressionAsync"),i=VN(t,"scores","nonMaxSuppressionAsync"),c=KA(o,i,n,r,a,s);n=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,s=c.softNmsSigma;const l=await Promise.all([o.data(),i.data()]),u=l[0],d=l[1],{selectedIndices:p,selectedScores:h}=QA(u,d,n,r,a,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:aA(p,"int32"),selectedScores:aA(h)}};const iR=qN({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=VN(e,"boxes","nonMaxSuppression"),i=VN(t,"scores","nonMaxSuppression"),c=KA(o,i,n,r,a,null),l={boxes:o,scores:i},u={maxOutputSize:c.maxOutputSize,iouThreshold:c.iouThreshold,scoreThreshold:c.scoreThreshold,padToMaxOutputSize:s},d=DN.runKernel(Zx,l,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const cR=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=VN(e,"boxes","nonMaxSuppressionAsync"),i=VN(t,"scores","nonMaxSuppressionAsync"),c=KA(o,i,n,r,a,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,[p,h]=await Promise.all([o.data(),i.data()]),{selectedIndices:f,validOutputs:m}=JA(p,h,l,u,d,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:aA(f,"int32"),validOutputs:zC(m,"int32")}};const lR=qN({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=VN(e,"images","resizeBilinear");nb(3===a.rank||4===a.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),nb(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),nb(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=aI(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},c={alignCorners:n,halfPixelCenters:r,size:t},l=DN.runKernel(gw,i,c);return o?aI(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const uR=qN({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=VN(e,"images","resizeNearestNeighbor");nb(3===a.rank||4===a.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),nb(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),nb("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),nb(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=aI(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},c={alignCorners:n,halfPixelCenters:r,size:t},l=DN.runKernel(fw,i,c);return o?aI(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const dR=qN({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=VN(e,"image","threshold"),s=a.shape[0]*a.shape[1];let o,i,c,l,u=IC(aA([r]),255);if(nb(3===a.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,"."))),nb(3===a.shape[2]||1===a.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],"."))),nb("int32"===a.dtype||"float32"===a.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,"."))),nb("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===a.shape[2]){[o,i,c]=ZO(a,[1,1,1],-1);const e=IC(o,.2989),t=IC(i,.587),n=IC(c,.114);l=CC(CC(e,t),n)}else l=e;if("otsu"===t){u=function(e,t){let n,r,a,s,o,i,c=aA([-1]),l=aA([0]),u=aA([0]);for(let d=0;d<e.size-1;d++){n=lI(e,0,d+1),r=lI(e,d+1),o=EC(i_(n),t),i=EC(i_(r),t);const p=i_(IC(n,CO(0,n.size)));a=EC(p,i_(n));const h=XC(r.shape,n.size),f=CC(CO(0,r.size),h),m=IC(r,f);s=EC(i_(m),i_(r));const g=$C(a,s),y=$C(a,s),b=IC(o,i);u=IC(IC(b,g),y);const v=b_(u,l);l=GI(v,u,l),c=GI(v,aA([d]),c)}return c}(yI(kC(MO(l),"int32"),YN([]),256),s)}const d=n?C_(l,u):b_(l,u);return kC(IC(d,255),"int32")}});const pR=qN({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;const o=VN(e,"image","transform","float32"),i=VN(t,"transforms","transform","float32");nb(4===o.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,"."))),nb(2===i.rank&&(i.shape[0]===o.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),nb(null==s||2===s.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(s,".")));const c={image:o,transforms:i},l={interpolation:n,fillMode:r,fillValue:a,outputShape:s};return DN.runKernel(tk,c,l)}});const hR=qN({bandPart_:function(e,t,n){const r=VN(e,"a","bandPart");nb(r.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")));const a=r.shape,[s,o]=r.shape.slice(-2);let i,c;"number"===typeof t?(nb(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),nb(t<=s,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."))),i=VN(t<0?s:t,"numLower","bandPart")):(nb("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),i=GI(S_(t,0),s,X_(t,s))),"number"===typeof n?(nb(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),nb(n<=o,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(o,")."))),c=VN(n<0?o:n,"numUpper","bandPart")):(nb("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),c=GI(S_(n,0),o,X_(n,o)));const l=aI(CO(0,s,1,"int32"),[-1,1]),u=CO(0,o,1,"int32"),d=$C(l,u),p=M_(C_(d,i),v_(d,RT(c))),h=H_([s,o],r.dtype);return aI(eA(fA(aI(r,[-1,s,o])).map((e=>GI(p,e,h)))),a)}});const fR=qN({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,nb(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)nb(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=ZO(e,e.shape[0],0).map((e=>QO(e,[0])));nb(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(DN.tidy((()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=IC(i_(IC(n[t],e)),n[t]);e=$C(e,r)}return EC(e,l_(e,"euclidean"))})));return t?eA(n,0):n}});function mR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return DN.tidy((()=>{nb(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],r=e.shape[1];let a=m_(n),s=NC(e);const o=sA([[1]],[1,1]);let i=NC(o);const c=n>=r?r:n;for(let e=0;e<c;++e){const t=s,c=i,l=a;[i,s,a]=DN.tidy((()=>{const t=lI(s,[e,e],[n-e,1]),c=l_(t),l=lI(s,[e,e],[1,1]),u=GI(b_(l,0),sA([[-1]]),sA([[1]])),d=$C(l,IC(u,c)),p=EC(t,d);i=1===p.shape[0]?NC(o):iI([o,lI(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=RT(EC(_T(u,d),c)),f=lI(s,[e,0],[n-e,r]),m=IC(h,i),g=MT(i);if(0===e)s=$C(f,_T(m,_T(g,f)));else{const t=$C(f,_T(m,_T(g,f)));s=iI([lI(s,[0,0],[e,r]),t],0)}const y=MT(m),b=lI(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=$C(b,_T(_T(b,i),y));else{const t=$C(b,_T(_T(b,i),y));a=iI([lI(a,[0,0],[n,e]),t],1)}return[i,s,a]})),iS([t,c,l])}return!t&&n>r&&(a=lI(a,[0,0],[n,r]),s=lI(s,[0,0],[r,r])),[a,s]}))}const gR=qN({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(nb(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return mR(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=fA(aI(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];r.forEach((e=>{const[n,r]=mR(e,t);a.push(n),s.push(r)}));return[aI(eA(a,0),e.shape),aI(eA(s,0),e.shape)]}}});var yR;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(yR||(yR={}));const bR=qN({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yR.SUM_BY_NONZERO_WEIGHTS;const r=VN(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=VN(t,"weights","computeWeightedLoss"));const s=null==a?r:IC(r,a);if(n===yR.NONE)return s;if(n===yR.SUM)return i_(s);if(n===yR.MEAN){if(null==a)return G_(s);{const e=r.size/a.size,t=EC(i_(s),i_(a));return e>1?EC(t,zC(e)):t}}if(n===yR.SUM_BY_NONZERO_WEIGHTS){if(null==a)return EC(i_(s),zC(r.size));{const e=IC(a,q_(r.shape)),t=kC(i_(eO(e,zC(0))),"float32");return EC(i_(s),t)}}throw Error("Unknown reduction: ".concat(n))}});const vR=qN({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yR.SUM_BY_NONZERO_WEIGHTS;const a=VN(e,"labels","absoluteDifference"),s=VN(t,"predictions","absoluteDifference");let o=null;null!=n&&(o=VN(n,"weights","absoluteDifference")),rb(a.shape,s.shape,"Error in absoluteDifference: ");const i=QC($C(a,s));return bR(i,o,r)}});const xR=qN({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yR.SUM_BY_NONZERO_WEIGHTS;const s=VN(e,"labels","cosineDistance"),o=VN(t,"predictions","cosineDistance");let i=null;null!=r&&(i=VN(r,"weights","cosineDistance")),rb(s.shape,o.shape,"Error in cosineDistance: ");const c=zC(1),l=$C(c,i_(IC(s,o),n,!0));return bR(l,i,a)}});const wR=qN({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yR.SUM_BY_NONZERO_WEIGHTS,a=VN(e,"labels","hingeLoss");const s=VN(t,"predictions","hingeLoss");let o=null;null!=n&&(o=VN(n,"weights","hingeLoss")),rb(a.shape,s.shape,"Error in hingeLoss: ");const i=zC(1);a=$C(IC(zC(2),a),i);const c=EO($C(i,IC(a,s)));return bR(c,o,r)}});const kR=qN({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yR.SUM_BY_NONZERO_WEIGHTS;const s=VN(e,"labels","huberLoss"),o=VN(t,"predictions","huberLoss");let i=null;null!=n&&(i=VN(n,"weights","huberLoss")),rb(s.shape,o.shape,"Error in huberLoss: ");const c=zC(r),l=QC($C(o,s)),u=X_(l,c),d=$C(l,u),p=CC(IC(zC(.5),OC(u)),IC(c,d));return bR(p,i,a)}});const NR=qN({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yR.SUM_BY_NONZERO_WEIGHTS;const s=VN(e,"labels","logLoss"),o=VN(t,"predictions","logLoss");let i=null;null!=n&&(i=VN(n,"weights","logLoss")),rb(s.shape,o.shape,"Error in logLoss: ");const c=zC(1),l=zC(r),u=RT(IC(s,I_(CC(o,l)))),d=IC($C(c,s),I_(CC($C(c,o),l))),p=$C(u,d);return bR(p,i,a)}});const SR=qN({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yR.SUM_BY_NONZERO_WEIGHTS;const a=VN(e,"labels","meanSquaredError"),s=VN(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=VN(n,"weights","meanSquaredError")),rb(a.shape,s.shape,"Error in meanSquaredError: ");const i=JO(a,s);return bR(i,o,r)}});const CR=qN({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yR.SUM_BY_NONZERO_WEIGHTS,s=VN(e,"multiClassLabels","sigmoidCrossEntropy");const o=VN(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=VN(n,"weights","sigmoidCrossEntropy")),rb(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=zC(r),t=zC(1),n=zC(.5);s=CC(IC(s,$C(t,e)),IC(n,e))}const c=function(e,t){const n=VN(e,"labels","sigmoidCrossEntropyWithLogits"),r=VN(t,"logits","sigmoidCrossEntropyWithLogits");rb(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=EO(r),s=IC(r,n),o=__(d_(RT(QC(r))));return CC($C(a,s),o)}(s,o);return bR(c,i,a)}});const TR=qN({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yR.SUM_BY_NONZERO_WEIGHTS,s=VN(e,"onehotLabels","softmaxCrossEntropy");const o=VN(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=VN(n,"weights","softmaxCrossEntropy")),rb(s.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const e=zC(r),t=zC(1),n=zC(s.shape[1]);s=CC(IC(s,$C(t,e)),EC(e,n))}const c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const r=jC(((e,t,r)=>{const a=D_(t,[n],!0),s=$C(kC(t,"float32"),a);r([e,s]);const o=RT(IC(s,e));return{value:i_(o,[n]),gradFunc:(e,t)=>{const[r,a]=t,s=e_(e.shape,[n]);return[IC(aI(e,s),$C(kC(r,"float32"),d_(a))),IC(aI(e,s),$C(d_(a),kC(r,"float32")))]}}}));return r(e,t)}(s,o);return bR(c,i,a)}});const ER=qN({sparseFillEmptyRows_:function(e,t,n,r){const a=VN(e,"indices","sparseFillEmptyRows","int32"),s=VN(t,"values","sparseFillEmptyRows"),o=VN(n,"denseShape","sparseFillEmptyRows","int32"),i=VN(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==s.rank)throw new Error("Values should be Tensor1D but received shape ".concat(s.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==i.rank)throw new Error("Default value should be a scalar but received shape ".concat(i.shape));const c={indices:a,values:s,denseShape:o,defaultValue:i},l=DN.runKernel(Lw,c);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});const IR=qN({sparseReshape_:function(e,t,n){const r=VN(e,"inputIndices","sparseReshape","int32"),a=VN(t,"inputShape","sparseReshape","int32"),s=VN(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==s.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(s.shape));const o={inputIndices:r,inputShape:a,newShape:s},i=DN.runKernel(zw,o);return{outputIndices:i[0],outputShape:i[1]}}});const _R=qN({sparseSegmentMean_:function(e,t,n){const r=VN(e,"data","sparseSegmentMean"),a=VN(t,"indices","sparseSegmentMean","int32"),s=VN(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==s.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(s.shape));const o={data:r,indices:a,segmentIds:s};return DN.runKernel(Bw,o)}});const OR=qN({sparseSegmentSum_:function(e,t,n){const r=VN(e,"data","sparseSegmentSum"),a=VN(t,"indices","sparseSegmentSum","int32"),s=VN(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==s.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(s.shape));const o={data:r,indices:a,segmentIds:s};return DN.runKernel(Uw,o)}});const AR=qN({stringNGrams_:function(e,t,n,r,a,s,o,i){const c=VN(e,"data","stringNGrams","string");if("string"!==c.dtype)throw new Error("Data must be of datatype string");if(1!==c.shape.length)throw new Error("Data must be a vector, saw: ".concat(c.shape));const l=VN(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:i},d={data:c,dataSplits:l},p=DN.runKernel(Kw,d,u);return{nGrams:p[0],nGramsSplits:p[1]}}});const RR=qN({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=VN(e,"input","stringSplit","string"),a=VN(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));const s={skipEmpty:n},o={input:r,delimiter:a},i=DN.runKernel(Xw,o,s);return{indices:i[0],values:i[1],shape:i[2]}}});const DR=qN({stringToHashBucketFast_:function(e,t){const n=VN(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return DN.runKernel(Yw,a,r)}});const MR=qN({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=VN(e,"input","staticRegexReplace","string"),s={pattern:t,rewrite:n,replaceGlobal:r};return DN.runKernel(Hw,{x:a},s)}}),PR={fft:KO,ifft:XO,rfft:$O,irfft:YO},FR={hammingWindow:LA,hannWindow:zA,frame:BA,stft:UA},jR={flipLeftRight:VA,grayscaleToRGB:GA,resizeNearestNeighbor:uR,resizeBilinear:lR,rgbToGrayscale:HA,rotateWithOffset:qA,cropAndResize:WA,nonMaxSuppression:XA,nonMaxSuppressionAsync:aR,nonMaxSuppressionWithScore:sR,nonMaxSuppressionWithScoreAsync:oR,nonMaxSuppressionPadded:iR,nonMaxSuppressionPaddedAsync:cR,threshold:dR,transform:pR},LR={bandPart:hR,gramSchmidt:fR,qr:gR},zR={absoluteDifference:vR,computeWeightedLoss:bR,cosineDistance:xR,hingeLoss:wR,huberLoss:kR,logLoss:NR,meanSquaredError:SR,sigmoidCrossEntropy:CR,softmaxCrossEntropy:TR},BR={sparseFillEmptyRows:ER,sparseReshape:IR,sparseSegmentMean:_R,sparseSegmentSum:OR},UR={stringNGrams:AR,stringSplit:RR,stringToHashBucketFast:DR,staticRegexReplace:MR},WR=OE,VR="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function GR(){return new Promise((e=>VR((()=>e()))))}function HR(e,t){const n=e[0].length;e.forEach(((e,t)=>{nb(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),nb(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const r=e[0];e.forEach(((e,a)=>{for(let s=0;s<n;s++)nb(s===t||e[s]===r[s],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")))}))}function qR(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var KR;function XR(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(let a=1;a<n.length;++a){const s=n[a],o=r[r.length-n.length+a],i=r[o];if(s>=0)if(i>=0){if(i!==s)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(s," but shape[").concat(a+e,"] = ").concat(i))}else r[o]=s}return r}function YR(e){const t={FIRST_DIM_SIZE:KR.FIRST_DIM_SIZE,VALUE_ROWIDS:KR.VALUE_ROWIDS,ROW_LENGTHS:KR.ROW_LENGTHS,ROW_SPLITS:KR.ROW_SPLITS,ROW_LIMITS:KR.ROW_LIMITS,ROW_STARTS:KR.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function ZR(e){return 0===e.length?0:e[0]===KR.FIRST_DIM_SIZE?e.length-1:e.length}function $R(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(r))}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(KR||(KR={}));const JR=30;function QR(e){return e<=JR?e:Ob(e,Math.floor(Math.sqrt(e)))}function eD(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function tD(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function nD(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],a=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?a.push(n):r.push(n);n.push(...r),n.push(0),n.push(...a)}return n}function rD(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let s=1;s<e.length;++s)s<=t.length?r?a.push(t[s-1]*e[s]):a.push(e[s]/t[s-1]):a.push(e[s]);return a}function aD(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function sD(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}const oD=1.7580993408473768,iD=1.0507009873554805,cD=.3275911,lD=.254829592,uD=-.284496736,dD=1.421413741,pD=-1.453152027,hD=1.061405429;function fD(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function mD(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function gD(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function yD(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function bD(e,t){return{real:e[2*t],imag:e[2*t+1]}}function vD(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function xD(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const s=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(s),r[a]=Math.sin(s)}return{real:n,imag:r}}function wD(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const kD="->",ND=/->/g,SD=",",CD="...";function TD(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(ND,"").length)/kD.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(kD,'").'));const[r,a]=e.split(kD);nb(-1===r.indexOf(CD),(()=>'The ellipsis notation ("'.concat(CD,'") is not supported yet.')));const s=r.split(SD),o=s.length;if(t!==o)throw new Error("Expected ".concat(o," input tensors, received ").concat(t));if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let d=0;d<a.length;++d){const e=a[d];if(!s.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===i.indexOf(e)&&i.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===i.indexOf(e)&&e!==SD&&i.push(e)}const c=new Array(s.length);for(let d=0;d<o;++d){if(new Set(s[d].split("")).size!==s[d].length)throw new Error("Found duplicate axes in input component ".concat(s[d],". ")+"Support for duplicate axes in input is not implemented yet.");c[d]=[];for(let e=0;e<s[d].length;++e)c[d].push(i.indexOf(s[d][e]))}const l=i.length,u=[];for(let d=a.length;d<l;++d)u.push(d);return{allDims:i,summedDims:u,idDims:c}}function ED(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function ID(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:nb(r[t[a][n]]===e[n],(()=>"Expected dimension ".concat(r[t[a][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}function _D(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let o=0;o<a;++o)r.push([]);const s=[];for(let o=0;o<n.length;++o){const e=AD(t,n[o]);for(const t of e)-1===s.indexOf(t)&&(r[o].push(t),s.push(t))}return{path:n,steps:r}}function OD(e){return e.every(((e,t)=>e===t))}function AD(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function RD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)nb(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);nb(a<=1,(()=>"There should be only one negative value in split array."));const s=t.indexOf(-1);if(-1!==s){const r=t.reduce(((e,t)=>t>0?e+t:e));t[s]=e.shape[n]-r}nb(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function DD(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function MD(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function PD(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function FD(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function jD(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function LD(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function zD(e,t){const n=sb(e),r=sb(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function BD(e,t){const n=sb(e),r=sb(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function UD(){return"segment ids must be >= 0"}function WD(){return"segment ids are not increasing"}function VD(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function GD(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function HD(e,t){let n,r=!1;for(e<=JR?(n=e,r=!0):n=Ob(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Ob(e,n+1);return n}function qD(e,t,n){const r=[],a=e.length;for(let s=0;s<a;s++)s!==t?r.push(e[s]):r.push(n);return r}function KD(e,t,n,r){const a=t.shape.length,s=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>s)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(s,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const o=e.shape[n],i=[];let c=1,l=1,u=1;for(let d=0;d<r;++d)i.push(e.shape[d]),c*=e.shape[d];for(let d=r;d<n;d++)i.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<a;d++)i.push(t.shape[d]);for(let d=n+1;d<s;d++)i.push(e.shape[d]),u*=e.shape[d];return{batchSize:c,sliceSize:u,outerSize:l,dimSize:o,outputShape:i}}function XD(e){try{return e.map((e=>Kk(e)))}catch(z6){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(z6))}}function YD(e){return e.map((e=>qk(e)))}!function(){for(const e of cT)GC(e)}();var ZD,$D;Hb().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(ZD||(ZD={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}($D||($D={}));const JD={};function QD(e){return JD[e]}function eM(e,t,n,r,a){const s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,o=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===s.type)return tM(t.inputNames[i],n,r,a);if("tensors"===s.type){const s=t.inputs.slice(e,o),i=t.inputNames.slice(e,o).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=s[t])||void 0===n?void 0:n.op)}));return i.map((e=>tM(e,n,r,a)))}const c=tM(t.inputNames[i],n,r,a),l=c.dataSync();return"number"===s.type?l[0]:Db(c.shape,l)}const o=t.attrParams[e];return o&&o.value}function tM(e,t,n,r){const[a,s]=sM(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[aM(a,e)]));return void 0!==o?t[aM(a,o)][s]:void 0}function nM(e,t,n){return t[aM(e,n.currentContextId)]}function rM(e,t){const[n,r,a]=sM(e,t);return[aM(n,t&&t.currentContextId),r,a]}function aM(e,t){return t?"".concat(e,"-").concat(t):e}function sM(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function oM(e,t,n){let r=eM("pad",e,t,n);if("explicit"===r){r=eM("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function iM(e){return e.kept?e:NC(e)}const cM=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],lM=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],uM=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],dM=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],pM=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],hM=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],fM=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],mM=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],gM=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],yM=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],bM=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],vM=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],xM=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],wM=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],kM=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],NM=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],SM=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],CM=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],TM=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class EM{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[v,x,w,k,N,S,C,T,E,I,_,O,A,R,D,M,P,F,j].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],s=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||s.push(e[t.name]),e)),{});let i=[];const c=[];let l={},u={};null!=t&&(l=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(o);d.forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=rM(e),s=o[r];if(null!=s.outputs){const e=s.outputs.indexOf(a);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=o[e];0===t.children.length&&c.push(t)})):Object.keys(u).forEach((e=>{const[t]=rM(e),n=o[t];null!=n&&(n.signatureKey=u[e],c.push(n))})),Object.keys(l).length>0?Object.keys(l).forEach((e=>{const[t]=rM(e),n=o[t];n&&(n.signatureKey=l[e],i.push(n))})):i=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:o,inputs:i,outputs:c,weights:a,placeholders:r,signature:t,functions:p};return s.length>0&&(h.initNodes=s),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=QD(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=_M(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=_M(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=zM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=zM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=AM(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=AM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=LM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=LM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=OM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=OM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=UM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=UM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=jM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=jM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=BM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=BM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=MM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=MM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=PM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=PM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=DM(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=DM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],s=[];e.signature.inputArg.forEach((e=>{const[t]=rM(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:RM(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,s]=rM(e),o=r[a];if(null!=o.outputs){const e=o.outputs.indexOf(s);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=rM(o[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,s.push(a))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:s,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function IM(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=Hb().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function _M(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?IM(a.s,r):n}function OM(e,t,n){const r=e[t];return r?r.b:n}function AM(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function RM(e){switch("string"===typeof e&&(e=ZD[e]),e){case ZD.DT_FLOAT:case ZD.DT_HALF:return"float32";case ZD.DT_INT32:case ZD.DT_INT64:case ZD.DT_INT8:case ZD.DT_UINT8:return"int32";case ZD.DT_BOOL:return"bool";case ZD.DT_DOUBLE:return"float32";case ZD.DT_STRING:return"string";case ZD.DT_COMPLEX64:case ZD.DT_COMPLEX128:return"complex64";default:return null}}function DM(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function MM(e,t,n){const r=e[t];return r&&r.type?RM(r.type):n}function PM(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>RM(e))):n}function FM(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function jM(e,t,n){const r=e[t];return r&&r.shape?FM(r.shape):n}function LM(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function zM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>IM(e,r))):n}function BM(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>FM(e))):n}function UM(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class WM{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return tM(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return tM(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return AM(this.node.rawAttrs,e,t);if(null!=n.s)return _M(this.node.rawAttrs,e,t);if(null!=n.b)return OM(this.node.rawAttrs,e,t);if(null!=n.shape)return jM(this.node.rawAttrs,e,t);if(null!=n.type)return MM(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return LM(this.node.rawAttrs,e,t);if(null!=n.list.s)return zM(this.node.rawAttrs,e,t);if(null!=n.list.shape)return BM(this.node.rawAttrs,e,t);if(null!=n.list.b)return UM(this.node.rawAttrs,e,t);if(null!=n.list.type)return PM(this.node.rawAttrs,e,t)}return t}}function VM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){nb(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let r=0;r<e.length;r++){const a=e[r],s=t[r];nb(a<0||s<0||a===s,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function GM(e){return"number"!==typeof e&&!e.some((e=>e<0))}function HM(e,t,n){let r=qM(e,n);const a=!GM(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((e=>{r=qM(e.shape,r)})),!GM(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function qM(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let r=0;r<e.length;++r){const a=e[r],s=t[r];if(a>=0&&s>=0&&a!==s)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:s}return n}class KM{constructor(e,t,n,r,a,s,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=zC(0),cS(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),VM(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,cS(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return YN([],[0].concat(this.elementShape));const n=this.readMany(e);return VM(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),eA(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return YN([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return VM(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),iI(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,fA(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const a=0===n?0:t.size/n,s=[];oS((()=>{t=aI(t,[1,n,a]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:r[n-1],0],i=[1,e[n],a];s[n]=aI(lI(t,o,i),this.elementShape)}return s}));const o=[];for(let i=0;i<e.length;i++)o[i]=i;this.writeMany(o,s)}}class XM{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));VM(t,e.shape,"TensorList shape mismatch: "),cS(e)})),this.idTensor=zC(0),this.maxNumElements=r,cS(this.idTensor)}copy(){return new XM([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));VM(e,this.elementShape,"TensorList shape mismatch: ");const r=HM(this.elementShape,this.tensors,e);return oS((()=>{const e=this.tensors.map((e=>aI(e,r)));return eA(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=HM(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,VM(r.shape,e,"TensorList shape mismatch: "),aI(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(VM(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");cS(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new XM([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));VM(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=HM(this.elementShape,this.tensors,t);return aI(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));VM(this.elementShape,t.shape,"TensorList shape mismatch: "),cS(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));VM(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=HM(this.elementShape,this.tensors,n);return 0===e.length?YN([],[0].concat(r)):oS((()=>{const t=e.map((e=>aI(this.tensors[e],r)));return eA(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));VM(this.elementShape,t,"TensorList shape mismatch: ");const n=HM(this.elementShape,this.tensors,t);return 0===this.size()?YN([],[0].concat(n)):oS((()=>{const e=this.tensors.map((e=>aI(e,n)));return iI(e,0)}))}}const YM=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=eM("thenBranch",e,t,n),a=eM("elseBranch",e,t,n),s=eM("cond",e,t,n),o=eM("args",e,t,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=eM("body",e,t,n),a=eM("cond",e,t,n),s=eM("args",e,t,n),o=await n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),i=s.map((e=>e.id));let c=await o[0].data();o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let l=s;for(;c[0];){const e=l;l=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const t=l.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const s=await n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);c=await s[0].data(),s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return l}case"LoopCond":return[iM(eM("pred",e,t,n))];case"Switch":{const r=eM("pred",e,t,n);let a=eM("data",e,t,n);return a.kept||(a=iM(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==tM(e,t,n)));if(r){return[iM(tM(r,t,n))]}return}case"Enter":{const r=eM("frameName",e,t,n),a=eM("tensor",e,t,n);return n.enterFrame(r),[iM(a)]}case"Exit":{const r=eM("tensor",e,t,n);return n.exitFrame(),[iM(r)]}case"NextIteration":{const r=eM("tensor",e,t,n);return n.nextIteration(),[iM(r)]}case"TensorArrayV3":{const r=eM("size",e,t,n),a=eM("dtype",e,t,n),s=eM("elementShape",e,t,n),o=eM("dynamicSize",e,t,n),i=eM("clearAfterRead",e,t,n),c=eM("identicalElementShapes",e,t,n),l=eM("name",e,t,n),u=new KM(l,a,r,s,c,o,i);return n.addTensorArray(u),[u.idTensor,zC(1)]}case"TensorArrayWriteV3":{const r=eM("tensorArrayId",e,t,n),a=eM("index",e,t,n),s=eM("tensor",e,t,n),o=n.getTensorArray(r.id);return o.write(a,s),[o.idTensor]}case"TensorArrayReadV3":{const r=eM("tensorArrayId",e,t,n),a=eM("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=eM("tensorArrayId",e,t,n),a=eM("indices",e,t,n),s=eM("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,s)]}case"TensorArrayScatterV3":{const r=eM("tensorArrayId",e,t,n),a=eM("indices",e,t,n),s=eM("tensor",e,t,n),o=n.getTensorArray(r.id);return o.scatter(a,s),[o.idTensor]}case"TensorArrayConcatV3":{const r=eM("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),s=eM("dtype",e,t,n);return[a.concat(s)]}case"TensorArraySplitV3":{const r=eM("tensorArrayId",e,t,n),a=eM("tensor",e,t,n),s=eM("lengths",e,t,n),o=n.getTensorArray(r.id);return o.split(s,a),[o.idTensor]}case"TensorArraySizeV3":{const r=eM("tensorArrayId",e,t,n);return[zC(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=eM("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=eM("tensorListId",e,t,n),a=eM("index",e,t,n),s=eM("tensor",e,t,n),o=n.getTensorList(r.id);return o.setItem(a,s),[o.idTensor]}case"TensorListGetItem":{const r=eM("tensorListId",e,t,n),a=eM("index",e,t,n),s=eM("elementShape",e,t,n),o=eM("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=eM("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));const s=new XM([],n,e.dtype,r),o=fA(e,0);return t.forEach(((e,t)=>{s.setItem(e,o[t])})),s}(eM("tensor",e,t,n),r,eM("elementShape",e,t,n),eM("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=eM("elementShape",e,t,n),a=eM("elementDType",e,t,n);let s;s="TensorListReserve"===e.op?"numElements":"maxNumElements";const o=eM(s,e,t,n),i=function(e,t,n,r){return new XM([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:o);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=eM("tensorListId",e,t,n),a=eM("indices",e,t,n),s=eM("elementShape",e,t,n),o=eM("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,o,s)]}case"TensorListStack":{const r=eM("tensorListId",e,t,n),a=eM("elementShape",e,t,n),s=eM("elementDType",e,t,n),o=eM("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,s,o)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));VM(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=fA(e);return new XM(a,t,r)}(eM("tensor",e,t,n),eM("elementShape",e,t,n),eM("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=eM("tensorListId",e,t,n),a=n.getTensorList(r.id),s=eM("dtype",e,t,n),o=eM("elementShape",e,t,n);return[a.concat(s,o)]}case"TensorListPushBack":{const r=eM("tensorListId",e,t,n),a=eM("tensor",e,t,n),s=n.getTensorList(r.id);return s.pushBack(a),[s.idTensor]}case"TensorListPopBack":{const r=eM("tensorListId",e,t,n),a=eM("elementShape",e,t,n),s=eM("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,s)]}case"TensorListSplit":{const r=eM("tensor",e,t,n),a=eM("elementShape",e,t,n),s=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));const s=qM(e.shape.slice(1),n),o=0===r?0:e.size/r,i=oS((()=>{const n=[];e=aI(e,[1,r,o]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],c=[1,t[r],o];n[r]=aI(lI(e,i,c),s)}return e.dispose(),n})),c=new XM([],n,e.dtype,t.length);for(let l=0;l<i.length;l++)c.setItem(l,i[l]);return c}(r,eM("lengths",e,t,n),a);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const r=eM("tensorListId",e,t,n);return[zC(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=eM("tensorListId",e,t,n),a=eM("size",e,t,n),s=n.getTensorList(r.id).resize(a);return n.addTensorList(s),[s.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function ZM(e,t,n){const[r,a]=eM("fusedOps",e,t,n),s="biasadd"===r,o=!s,i="prelu"===a,c="fusedbatchnorm"===r,l=eM("numArgs",e,t,n);if(s){if(i&&2!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&s&&1!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=eM("strides",e,t,n),d=oM(e,t,n),p=eM("dataFormat",e,t,n).toUpperCase(),h=eM("dilations",e,t,n);let[f,m]=eM("args",e,t,n);o&&(m=f,f=void 0);return{stride:u,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:eM("leakyreluAlpha",e,t,n)}}function $M(e,t,n){return{boxes:eM("boxes",e,t,n),scores:eM("scores",e,t,n),maxOutputSize:eM("maxOutputSize",e,t,n),iouThreshold:eM("iouThreshold",e,t,n),scoreThreshold:eM("scoreThreshold",e,t,n),softNmsSigma:eM("softNmsSigma",e,t,n)}}class JM{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=zC(0),this.tensorMap=new Map,cS(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return zC(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),oS((()=>{const e=fA(t),r=n.length,a=e.length;nb(r===a,(()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(a," ")+"elements."));for(let t=0;t<r;t++){const r=n[t],a=e[t];cS(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return oS((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],s=this.findWithDefault(a,t);e.push(s)}return eA(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function QM(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oS;const s=((e,t,n)=>{switch(e.category){case"arithmetic":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(eM("a",e,t,n),eM("b",e,t,n))];case"AddN":return[r.addN(eM("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(eM("a",e,t,n),eM("b",e,t,n))];case"Mul":return[r.mul(eM("a",e,t,n),eM("b",e,t,n))];case"RealDiv":case"Div":return[r.div(eM("a",e,t,n),eM("b",e,t,n))];case"DivNoNan":return[r.divNoNan(eM("a",e,t,n),eM("b",e,t,n))];case"FloorDiv":return[r.floorDiv(eM("a",e,t,n),eM("b",e,t,n))];case"Sub":return[r.sub(eM("a",e,t,n),eM("b",e,t,n))];case"Minimum":return[r.minimum(eM("a",e,t,n),eM("b",e,t,n))];case"Maximum":return[r.maximum(eM("a",e,t,n),eM("b",e,t,n))];case"Pow":return[r.pow(eM("a",e,t,n),eM("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(eM("a",e,t,n),eM("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(eM("x",e,t,n))];case"Acos":return[r.acos(eM("x",e,t,n))];case"Acosh":return[r.acosh(eM("x",e,t,n))];case"Asin":return[r.asin(eM("x",e,t,n))];case"Asinh":return[r.asinh(eM("x",e,t,n))];case"Atan":return[r.atan(eM("x",e,t,n))];case"Atan2":return[r.atan2(eM("x",e,t,n),eM("y",e,t,n))];case"Atanh":return[r.atanh(eM("x",e,t,n))];case"Ceil":return[r.ceil(eM("x",e,t,n))];case"Complex":return[r.complex(eM("real",e,t,n),eM("imag",e,t,n))];case"Cos":return[r.cos(eM("x",e,t,n))];case"Cosh":return[r.cosh(eM("x",e,t,n))];case"Elu":return[r.elu(eM("x",e,t,n))];case"Erf":return[r.erf(eM("x",e,t,n))];case"Exp":return[r.exp(eM("x",e,t,n))];case"Expm1":return[r.expm1(eM("x",e,t,n))];case"Floor":return[r.floor(eM("x",e,t,n))];case"Log":return[r.log(eM("x",e,t,n))];case"Log1p":return[r.log1p(eM("x",e,t,n))];case"Imag":return[r.imag(eM("x",e,t,n))];case"Neg":return[r.neg(eM("x",e,t,n))];case"Reciprocal":return[r.reciprocal(eM("x",e,t,n))];case"Real":return[r.real(eM("x",e,t,n))];case"Relu":return[r.relu(eM("x",e,t,n))];case"Round":return[r.round(eM("x",e,t,n))];case"Selu":return[r.selu(eM("x",e,t,n))];case"Sigmoid":return[r.sigmoid(eM("x",e,t,n))];case"Sin":return[r.sin(eM("x",e,t,n))];case"Sign":return[r.sign(eM("x",e,t,n))];case"Sinh":return[r.sinh(eM("x",e,t,n))];case"Softplus":return[r.softplus(eM("x",e,t,n))];case"Sqrt":return[r.sqrt(eM("x",e,t,n))];case"Square":return[r.square(eM("x",e,t,n))];case"Tanh":return[r.tanh(eM("x",e,t,n))];case"Tan":return[r.tan(eM("x",e,t,n))];case"ClipByValue":return[r.clipByValue(eM("x",e,t,n),eM("clipValueMin",e,t,n),eM("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(eM("x",e,t,n))];case"Rsqrt":return[r.rsqrt(tM(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(eM("x",e,t,n),eM("alpha",e,t,n))];case"Prelu":return[r.prelu(eM("x",e,t,n),eM("alpha",e,t,n))];case"IsNan":return[r.isNaN(tM(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(tM(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(tM(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return YM(e,t,n);case"convolution":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Conv1D":{const a=eM("stride",e,t,n),s=eM("pad",e,t,n),o=eM("dataFormat",e,t,n).toUpperCase(),i=eM("dilation",e,t,n);return[r.conv1d(eM("x",e,t,n),eM("filter",e,t,n),a,s,o,i)]}case"Conv2D":{const a=eM("strides",e,t,n),s=oM(e,t,n),o=eM("dataFormat",e,t,n).toUpperCase(),i=eM("dilations",e,t,n);return[r.conv2d(eM("x",e,t,n),eM("filter",e,t,n),[a[1],a[2]],s,o,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=ZM(e,t,n);return[r.fused.conv2d({x:eM("x",e,t,n),filter:eM("filter",e,t,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=ZM(e,t,n);return[r.fused.depthwiseConv2d({x:eM("x",e,t,n),filter:eM("filter",e,t,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=eM("outputShape",e,t,n),s=eM("strides",e,t,n),o=oM(e,t,n);return[r.conv2dTranspose(eM("x",e,t,n),eM("filter",e,t,n),a,[s[1],s[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=eM("strides",e,t,n),s=oM(e,t,n),o=eM("dilations",e,t,n),i=eM("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(eM("input",e,t,n),eM("filter",e,t,n),[a[1],a[2]],s,i,[o[1],o[2]])]}case"Conv3D":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("dataFormat",e,t,n).toUpperCase(),i=eM("dilations",e,t,n);return[r.conv3d(eM("x",e,t,n),eM("filter",e,t,n),[a[1],a[2],a[3]],s,o,[i[1],i[2],i[3]])]}case"AvgPool":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("kernelSize",e,t,n);return[r.avgPool(eM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPool":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("kernelSize",e,t,n);return[r.maxPool(eM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPoolWithArgmax":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("kernelSize",e,t,n),i=eM("includeBatchInIndex",e,t,n),{result:c,indexes:l}=r.maxPoolWithArgmax(eM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],s,i);return[c,l]}case"AvgPool3D":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("kernelSize",e,t,n);return[r.avgPool3d(eM("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"MaxPool3D":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("kernelSize",e,t,n);return[r.maxPool3d(eM("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"Dilation2D":{const a=eM("strides",e,t,n),s=eM("pad",e,t,n),o=eM("dilations",e,t,n),i=a[1],c=a[2],l=o[1],u=o[2];return[r.dilation2d(eM("x",e,t,n),eM("filter",e,t,n),[i,c],s,[l,u],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Fill":{const a=eM("shape",e,t,n),s=eM("dtype",e,t,n),o=eM("value",e,t,n);return[r.fill(a,o,s)]}case"LinSpace":{const a=eM("start",e,t,n),s=eM("stop",e,t,n),o=eM("num",e,t,n);return[r.linspace(a,s,o)]}case"Multinomial":{const a=eM("logits",e,t,n),s=eM("numSamples",e,t,n),o=eM("seed",e,t,n);return[r.multinomial(a,s,o)]}case"OneHot":{const a=eM("indices",e,t,n),s=eM("depth",e,t,n),o=eM("onValue",e,t,n),i=eM("offValue",e,t,n),c=eM("dtype",e,t,n);return[r.oneHot(a,s,o,i,c)]}case"Ones":return[r.ones(eM("shape",e,t,n),eM("dtype",e,t,n))];case"OnesLike":return[r.onesLike(eM("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(eM("shape",e,t,n),eM("dtype",e,t,n),eM("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(eM("shape",e,t,n),eM("minval",e,t,n),eM("maxval",e,t,n),eM("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(eM("shape",e,t,n),eM("minval",e,t,n),eM("maxval",e,t,n),eM("seed",e,t,n))];case"Range":{const a=eM("start",e,t,n),s=eM("stop",e,t,n),o=eM("step",e,t,n);return[r.range(a,s,o,eM("dtype",e,t,n))]}case"TruncatedNormal":{const a=eM("shape",e,t,n),s=eM("mean",e,t,n),o=eM("stdDev",e,t,n),i=eM("seed",e,t,n);return[r.truncatedNormal(a,s,o,eM("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(eM("shape",e,t,n),eM("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(eM("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:L;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:c,softNmsSigma:l}=$M(e,t,n),u=await a.image.nonMaxSuppressionWithScoreAsync(r,s,o,i,c,l);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:c}=$M(e,t,n),l=eM("padToMaxOutputSize",e,t,n),u=await a.image.nonMaxSuppressionPaddedAsync(r,s,o,i,c,l);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:c}=$M(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,s,o,i,c)]}case"Where":{const r=a.cast(eM("condition",e,t,n),"bool"),s=[await a.whereAsync(r)];return r.dispose(),s}case"ListDiff":return a.setdiff1dAsync(eM("x",e,t,n),eM("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"LowerBound":{const a=eM("sortedSequence",e,t,n),s=eM("values",e,t,n);return[r.lowerBound(a,s)]}case"TopKV2":{const a=eM("x",e,t,n),s=eM("k",e,t,n),o=eM("sorted",e,t,n),i=r.topk(a,s,o);return[i.values,i.indices]}case"UpperBound":{const a=eM("sortedSequence",e,t,n),s=eM("values",e,t,n);return[r.upperBound(a,s)]}case"Unique":{const a=eM("x",e,t,n),s=r.unique(a);return[s.values,s.indices]}case"UniqueV2":{const a=eM("x",e,t,n),s=eM("axis",e,t,n),o=r.unique(a,s);return[o.values,o.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"ResizeBilinear":{const a=eM("images",e,t,n),s=eM("size",e,t,n),o=eM("alignCorners",e,t,n),i=eM("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[s[0],s[1]],o,i)]}case"ResizeNearestNeighbor":{const a=eM("images",e,t,n),s=eM("size",e,t,n),o=eM("alignCorners",e,t,n),i=eM("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[s[0],s[1]],o,i)]}case"CropAndResize":{const a=eM("image",e,t,n),s=eM("boxes",e,t,n),o=eM("boxInd",e,t,n),i=eM("cropSize",e,t,n),c=eM("method",e,t,n),l=eM("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,s,o,i,c,l)]}case"ImageProjectiveTransformV3":{const a=eM("images",e,t,n),s=eM("transforms",e,t,n),o=eM("outputShape",e,t,n),i=eM("fillValue",e,t,n),c=eM("interpolation",e,t,n),l=eM("fillMode",e,t,n);return[r.image.transform(a,s,c.toLowerCase(),l.toLowerCase(),i,o)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=eM("default",e,t,n);return[tM(e.name,t,n)||a];case"Placeholder":return[tM(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[iM(eM("x",e,t,n))];case"IdentityN":return eM("x",e,t,n).map((e=>iM(e)));case"Shape":return[r.tensor1d(eM("x",e,t,n).shape,"int32")];case"ShapeN":return eM("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(eM("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(eM("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const s=eM("x",e,t,n),o=eM("data",e,t,n),i=eM("message",e,t,n),c=eM("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<o.length;e++)console.log(Array.prototype.slice.call(o[e].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Equal":return[r.equal(eM("a",e,t,n),eM("b",e,t,n))];case"NotEqual":return[r.notEqual(eM("a",e,t,n),eM("b",e,t,n))];case"Greater":return[r.greater(eM("a",e,t,n),eM("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(eM("a",e,t,n),eM("b",e,t,n))];case"Less":return[r.less(eM("a",e,t,n),eM("b",e,t,n))];case"LessEqual":return[r.lessEqual(eM("a",e,t,n),eM("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(eM("a",e,t,n),eM("b",e,t,n))];case"LogicalNot":return[r.logicalNot(eM("a",e,t,n))];case"LogicalOr":return[r.logicalOr(eM("a",e,t,n),eM("b",e,t,n))];case"Select":case"SelectV2":return[r.where(eM("condition",e,t,n),eM("a",e,t,n),eM("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(eM("a",e,t,n),eM("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(eM("a",e,t,n),eM("b",e,t,n),eM("transposeA",e,t,n),eM("transposeB",e,t,n))];case"Einsum":return[r.einsum(eM("equation",e,t,n),...eM("tensors",e,t,n))];case"Transpose":return[r.transpose(eM("x",e,t,n),eM("perm",e,t,n))];case"_FusedMatMul":const[a,s]=eM("fusedOps",e,t,n),o="biasadd"===a,i="prelu"===s,c=eM("numArgs",e,t,n),l=eM("leakyreluAlpha",e,t,n);if(o){if(i&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=eM("args",e,t,n);return[r.fused.matMul({a:eM("a",e,t,n),b:eM("b",e,t,n),transposeA:eM("transposeA",e,t,n),transposeB:eM("transposeB",e,t,n),bias:u,activation:s,preluActivationWeights:d,leakyreluAlpha:l})];case"MatrixBandPart":return[r.linalg.bandPart(eM("a",e,t,n),eM("numLower",e,t,n),eM("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(eM("x",e,t,n),eM("axis",e,t,n),eM("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(eM("x",e,t,n),eM("mean",e,t,n),eM("variance",e,t,n),eM("offset",e,t,n),eM("scale",e,t,n),eM("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(eM("x",e,t,n),eM("radius",e,t,n),eM("bias",e,t,n),eM("alpha",e,t,n),eM("beta",e,t,n))];case"Softmax":return[r.softmax(eM("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(eM("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"ragged":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:s}=r.raggedGather(eM("paramsNestedSplits",e,t,n),eM("paramsDenseValues",e,t,n),eM("indices",e,t,n),eM("outputRaggedRank",e,t,n));return a.concat(s)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:s}=r.raggedRange(eM("starts",e,t,n),eM("limits",e,t,n),eM("splits",e,t,n));return[a,s]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(eM("shape",e,t,n),eM("values",e,t,n),eM("defaultValue",e,t,n),eM("rowPartitionTensors",e,t,n),eM("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Max":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.max(eM("x",e,t,n),a,s)]}case"Mean":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.mean(eM("x",e,t,n),a,s)]}case"Min":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.min(eM("x",e,t,n),a,s)]}case"Sum":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.sum(eM("x",e,t,n),a,s)]}case"All":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.all(eM("x",e,t,n),a,s)]}case"Any":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.any(eM("x",e,t,n),a,s)]}case"ArgMax":{const a=eM("axis",e,t,n);return[r.argMax(eM("x",e,t,n),a)]}case"ArgMin":{const a=eM("axis",e,t,n);return[r.argMin(eM("x",e,t,n),a)]}case"Prod":{const a=eM("axis",e,t,n),s=eM("keepDims",e,t,n);return[r.prod(eM("x",e,t,n),a,s)]}case"Cumprod":{const a=eM("axis",e,t,n),s=eM("exclusive",e,t,n),o=eM("reverse",e,t,n);return[r.cumprod(eM("x",e,t,n),a,s,o)]}case"Cumsum":{const a=eM("axis",e,t,n),s=eM("exclusive",e,t,n),o=eM("reverse",e,t,n);return[r.cumsum(eM("x",e,t,n),a,s,o)]}case"Bincount":const a=eM("x",e,t,n),s=eM("weights",e,t,n),o=eM("size",e,t,n);return[r.bincount(a,s,o)];case"DenseBincount":{const a=eM("x",e,t,n),s=eM("weights",e,t,n),o=eM("size",e,t,n),i=eM("binaryOutput",e,t,n);return[r.denseBincount(a,s,o,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"ConcatV2":case"Concat":{const a=eM("n",e,t,n),s=eM("axis",e,t,n);let o=eM("tensors",e,t,n);return o=o.slice(0,a),[r.concat(o,s)]}case"Gather":{const a=eM("x",e,t,n),s=eM("indices",e,t,n);return[r.gather(a,r.cast(s,"int32"),0)]}case"GatherV2":{const a=eM("axis",e,t,n),s=eM("batchDims",e,t,n),o=eM("x",e,t,n),i=eM("indices",e,t,n);return[r.gather(o,r.cast(i,"int32"),a,s)]}case"Reverse":{const a=eM("dims",e,t,n),s=[];for(let e=0;e<a.length;e++)a[e]&&s.push(e);const o=eM("x",e,t,n);return[r.reverse(o,s)]}case"ReverseV2":{const a=eM("axis",e,t,n),s=eM("x",e,t,n);return[r.reverse(s,a)]}case"Slice":{const a=eM("begin",e,t,n),s=eM("size",e,t,n);return[r.slice(eM("x",e,t,n),a,s)]}case"StridedSlice":{const a=eM("begin",e,t,n),s=eM("end",e,t,n),o=eM("strides",e,t,n),i=eM("beginMask",e,t,n),c=eM("endMask",e,t,n),l=eM("ellipsisMask",e,t,n),u=eM("newAxisMask",e,t,n),d=eM("shrinkAxisMask",e,t,n),p=eM("x",e,t,n);return[r.stridedSlice(p,a,s,o,i,c,l,u,d)]}case"Pack":return oS((()=>{const a=eM("axis",e,t,n),s=eM("tensors",e,t,n),o=s[0].shape,i=r.squeeze(s[0]).shape,c=s.map((e=>{const t=cb(e.shape,o);if(!t&&!cb(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,o)}));return[r.stack(c,a)]}));case"Unpack":{const a=eM("axis",e,t,n),s=eM("tensor",e,t,n);return r.unstack(s,a)}case"Tile":{const a=eM("reps",e,t,n);return[r.tile(eM("x",e,t,n),a)]}case"Split":case"SplitV":{const a=eM("axis",e,t,n),s=eM("numOrSizeSplits",e,t,n),o=eM("x",e,t,n);return r.split(o,s,a)}case"ScatterNd":{const a=eM("indices",e,t,n),s=eM("values",e,t,n),o=eM("shape",e,t,n);return[r.scatterND(a,s,o)]}case"GatherNd":{const a=eM("x",e,t,n),s=eM("indices",e,t,n);return[r.gatherND(a,s)]}case"SparseToDense":{const a=eM("sparseIndices",e,t,n),s=eM("outputShape",e,t,n),o=eM("sparseValues",e,t,n),i=eM("defaultValue",e,t,n);return[r.sparseToDense(a,o,s,o.dtype===i.dtype?i:r.cast(i,o.dtype))]}case"TensorScatterUpdate":{const a=eM("indices",e,t,n),s=eM("values",e,t,n),o=eM("tensor",e,t,n);return[r.tensorScatterUpdate(o,a,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:s,emptyRowIndicator:o,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(eM("indices",e,t,n),eM("values",e,t,n),eM("denseShape",e,t,n),eM("defaultValue",e,t,n));return[a,s,o,i]}case"SparseReshape":{const{outputIndices:a,outputShape:s}=r.sparse.sparseReshape(eM("inputIndices",e,t,n),eM("inputShape",e,t,n),eM("newShape",e,t,n));return[a,s]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(eM("data",e,t,n),eM("indices",e,t,n),eM("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(eM("data",e,t,n),eM("indices",e,t,n),eM("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"FFT":return[r.fft(eM("x",e,t,n))];case"IFFT":return[r.ifft(eM("x",e,t,n))];case"RFFT":return[r.rfft(eM("x",e,t,n))];case"IRFFT":return[r.irfft(eM("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(eM("input",e,t,n),eM("pattern",e,t,n),eM("rewrite",e,t,n),eM("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:s}=r.string.stringNGrams(eM("data",e,t,n),eM("dataSplits",e,t,n),eM("separator",e,t,n),eM("nGramWidths",e,t,n),eM("leftPad",e,t,n),eM("rightPad",e,t,n),eM("padWidth",e,t,n),eM("preserveShortSequences",e,t,n));return[a,s]}case"StringSplit":{const{indices:a,values:s,shape:o}=r.string.stringSplit(eM("input",e,t,n),eM("delimiter",e,t,n),eM("skipEmpty",e,t,n));return[a,s,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(eM("input",e,t,n),eM("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Cast":return[r.cast(eM("x",e,t,n),eM("dtype",e,t,n))];case"ExpandDims":{const a=eM("axis",e,t,n);return[r.expandDims(eM("x",e,t,n),a)]}case"Squeeze":{const a=eM("axis",e,t,n);return[r.squeeze(eM("x",e,t,n),a)]}case"Reshape":return[r.reshape(eM("x",e,t,n),eM("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(eM("x",e,t,n),eM("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(eM("x",e,t,n),eM("padding",e,t,n),eM("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(eM("x",e,t,n),eM("padding",e,t,n),eM("constantValue",e,t,n))];case"SpaceToBatchND":{const a=eM("blockShape",e,t,n),s=eM("paddings",e,t,n);return[r.spaceToBatchND(eM("x",e,t,n),a,s)]}case"BatchToSpaceND":{const a=eM("blockShape",e,t,n),s=eM("crops",e,t,n);return[r.batchToSpaceND(eM("x",e,t,n),a,s)]}case"DepthToSpace":{const a=eM("blockSize",e,t,n),s=eM("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(eM("x",e,t,n),a,s)]}case"BroadcastTo":return[r.broadcastTo(eM("x",e,t,n),eM("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(eM("s0",e,t,n),eM("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=eM("keyDType",e,t,n),s=eM("valueDType",e,t,n),o=new JM(a,s);return r.addHashTable(e.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=eM("tableHandle",e,t,n,r),s=eM("keys",e,t,n),o=eM("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const a=eM("tableHandle",e,t,n,r),s=eM("keys",e,t,n),o=eM("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(s,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=eM("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,r);case"custom":const s=QD(e.op);if(s&&s.customExecutor)return s.customExecutor(new WM(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return Ub(s)?s.then((e=>[].concat(e))):[].concat(s)}class eP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function tP(e,t,n,r){const a=new Set,s=[];let o=null,i=null;const c=new Set,l=new Set(Object.keys(e).map((e=>sM(e)[0])));r=r||[];const u=new Set(r.map((e=>sM(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(iP(e)||cP(e)||lP(e))&&null==o&&(o=e,i=o.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(l.has(e.name)||u.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{c.has(e.name)||(c.add(e.name),d.push(e))})):s.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:i}}function nP(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map((e=>sM(e)[0])).map((t=>e.nodes[t])),s=e.initNodes||[],o=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const c=i([...a,...e.weights,...s]).filter(o),l=i([...c,...Object.values(e.nodes)]).filter(o),u=new Map(l.map((e=>[e.name,e]))),d={};for(const m of l){d[m.name]=d[m.name]||0;for(const e of m.children)o(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...p];for(;p.length>0;){const e=p.pop(),t=u.get(e);for(const n of t.children.filter(o))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const s of t.children)n.has(s.name)&&!a.has(s.name)&&(a.add(s.name),r.push(s.name))}const s=e.filter((e=>a.has(e.name)));return s}(h.map((e=>u.get(e))),c);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),a=e=>r.has("string"===typeof e?e:e.name),s=new Set(e.map((e=>e.name))),o=e=>s.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(o)){if(!n.has(e.name))throw new rP("Child ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(i.name)>n.get(e.name))throw new rP("Node ".concat(i.name," is scheduled to run after its child ").concat(e.name,"."))}if(!a(i))for(const e of i.inputs){if(!n.has(e.name))throw new rP("Input ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(e.name)>n.get(i.name))throw new rP("Node ".concat(i.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,c),f}class rP extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const aP=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),sP=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),oP=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function iP(e){return aP.has(e.op)}function cP(e){return sP.has(e.op)}function lP(e){return oP.has(e.op)}class uP{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new uP(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=tP(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:s}=n;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(s,"]"));if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(a,"]. Missing the following inputs: [").concat(r,"]"))}const o=nP(this.graph,n),i=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>iP(e)?n:t)),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},s=e.map(((e,t)=>e.children.map(a).reduce(((e,t)=>Math.max(e,t)),r[t]))),o=new Map;for(let i=0;i<e.length;++i){const t=s[i];if(t===n)continue;const r=e[i],a=e[t];o.has(a.name)||o.set(a.name,[]),o.get(a.name).push(r)}return o}(o);return{orderedNodes:o,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return cS(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[sM(e)[0]])),a=t.map((e=>sM(e)[0])),s=new Set(a);let o=a.map((e=>this.graph.nodes[e]));0===o.length&&(o=this._outputs);const i=this.getCompilationKey(r,o);let c=this.compiledMap.get(i);null==c&&(c=this.compile(e,o),this.compiledMap.set(i,c));try{this.keepIntermediateTensors=Hb().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(L6){this.keepIntermediateTensors=!1,console.warn(L6.message)}const l={},u={};return oS((()=>{const n=new eP(this.weightMap,l,u,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[a,s]=sM(t,n),o=[];o[s]=e[t],r[a]=o,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(o))}));const a=this.getFrozenTensorIds(r),{orderedNodes:o,nodeLiveUntilMap:i}=c;for(const e of o){if(r[e.name])continue;const t=QM(e,r,n,this._resourceManager);if(Ub(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,s,i.get(e.name))}return null==this.parent&&n.dispose(a),t.map((e=>tM(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,s,o){if(!iP(t)&&!s.has(e)){for(const r of n[e])null!=r&&(o[r.id]=(o[r.id]||0)+t.children.length);for(const e of t.inputs){if(iP(e))continue;const t=nM(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,s){function o(e){return iP(e)||a.has(e.name)}if(!iP(e)&&null!=s)for(const i of s){if(o(i))continue;const e=nM(i.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=Hb().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(L6){this.keepIntermediateTensors=!1,console.warn(L6.message)}const s=new eP(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,s,t,n),i=t.map((e=>tM(e,o,s))),c=i.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id)),u=new Set([...c,...l,...this.weightIds]);return Object.values(o).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||u.has(e.id)||e.dispose()}))})),null==this.parent&&s.dispose(u),i}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),s=a.map((e=>this.graph.nodes[sM(e)[0]])),o=n.map((e=>sM(e)[0])),i=new Set(o);let c=o.map((e=>this.graph.nodes[e]));0===c.length&&(c=this._outputs);const{usedNodes:l,missingInputs:u,dynamicNode:d,syncInputs:p}=tP(e,c,this.weightMap,this._initNodes),h=[...s,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=sM(t),a=[];a[r]=e[t],f[n]=a}));const m={},g=this.getFrozenTensorIds(f),y={};for(;h.length>0;){const e=this.processStack(s,h,t,f,y,g,i,m,l);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=c.filter((e=>!iP(e)&&!tM(e.name,f,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(b,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(u,"]. ").concat(e))}return f}processStack(e,t,n,r,a,s,o,i,c){const l=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&eM("isConstant",e.node,r,n)&&([u]=rM(e.node.name,n)),null==r[e.node.name]){const d=QM(e.node,r,n,this._resourceManager);u||([u]=rM(e.node.name,n));const p=n.currentContext;Ub(d)?l.push(d.then((l=>(r[u]=l,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(l)),n.currentContext=p,this.checkTensorForDisposal(u,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,c),l)))):(r[u]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(d)),this.checkTensorForDisposal(u,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,c))}else this.processChildNodes(e.node,t,n,r,a,c)}return l}processChildNodes(e,t,n,r,a,s){e.children.forEach((e=>{const[o]=rM(e.name,n);!a[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!tM(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!tM(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=sM(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));nb(t,(()=>"The shape of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}a.attrParams.dtype&&a.attrParams.dtype.value&&nb(n.dtype===a.attrParams.dtype.value,(()=>"The dtype of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(a.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){var t,n;const r={};for(const a in e){const s=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=s?r[s.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=sM(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=sM(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class dP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const pP="?tfjs-format=file",hP="model.json";class fP{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new dP}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Ub(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await TS(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer),this.executor=new uP(EM.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=EM.Instance.transformGraph(e.modelInitializer);this.initializer=new uP(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof dN?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof dN)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce(((t,n)=>{var a,s,o;const i=null===(o=null===(s=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===s?void 0:s[n])||void 0===o?void 0:o.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&iS(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function mP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(hP).concat(pP)}(e));const r=new fP(e,t,n);return await r.load(),r}function gP(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))}function yP(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}var bP={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"},vP=224,xP={"1.00":"module_apply_default/MobilenetV1/Logits/global_pool","2.00":"module_apply_default/MobilenetV2/Logits/AvgPool"},wP={"1.00":{.25:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_025_224/classification/1",inputRange:[0,1]},"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_050_224/classification/1",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_075_224/classification/1",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_100_224/classification/1",inputRange:[0,1]}},"2.00":{"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_050_224/classification/2",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_075_224/classification/2",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_100_224/classification/2",inputRange:[0,1]}}};var kP=function(){function e(e,t,n,r,a){void 0===r&&(r=-1),void 0===a&&(a=1),this.version=e,this.alpha=t,this.modelUrl=n,this.inputMin=r,this.inputMax=a,this.normalizationConstant=(a-r)/255}return e.prototype.load=function(){return gP(this,void 0,void 0,(function(){var e,t,n,r,a=this;return yP(this,(function(s){switch(s.label){case 0:return this.modelUrl?(e=this,[4,mP(this.modelUrl)]):[3,2];case 1:return e.model=s.sent(),[3,4];case 2:return t=wP[this.version][this.alpha].url,n=this,[4,mP(t,{fromTFHub:!0})];case 3:n.model=s.sent(),s.label=4;case 4:return[4,(r=oS((function(){return a.model.predict(H_([1,vP,vP,3]))}))).data()];case 5:return s.sent(),r.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;return void 0===t&&(t=!1),oS((function(){e instanceof dN||(e=HT(e));var r=CC(IC(kC(e,"float32"),n.normalizationConstant),n.inputMin),a=r;e.shape[0]===vP&&e.shape[1]===vP||(a=jR.resizeBilinear(r,[vP,vP],!0));var s,o=aI(a,[-1,vP,vP,3]);if(t){var i=xP[n.version],c=n.model.execute(o,i);s=QO(c,[1,2])}else{var l=n.model.predict(o);s=lI(l,[0,1],[-1,1e3])}return s}))},e.prototype.classify=function(e,t){return void 0===t&&(t=3),gP(this,void 0,void 0,(function(){var n,r;return yP(this,(function(a){switch(a.label){case 0:return[4,NP(n=this.infer(e),t)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e}();function NP(e,t){return gP(this,void 0,void 0,(function(){var n,r,a,s,o,i,c;return yP(this,(function(l){switch(l.label){case 0:return[4,(n=qO(e)).data()];case 1:for(r=l.sent(),n.dispose(),a=[],c=0;c<r.length;c++)a.push({value:r[c],index:c});for(a.sort((function(e,t){return t.value-e.value})),s=new Float32Array(t),o=new Int32Array(t),c=0;c<t;c++)s[c]=a[c].value,o[c]=a[c].index;for(i=[],c=0;c<o.length;c++)i.push({className:bP[o[c]],probability:s[c]});return[2,i]}}))}))}const SP={kernelName:Zb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,tA(kC(n,"float32"),-1))}}},CP={kernelName:$b,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=OC(kC(n,"float32")),r=_C($C(zC(1),t));return RT(EC(e,r))}}}},TP={kernelName:Jb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=_C($C(OC(kC(n,"float32")),1));return EC(e,t)}}}},EP={kernelName:Qb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{let t=e;const r=tT(n.shape,a);return r.length>0&&(t=i_(t,r)),aI(t,n.shape)},b:()=>{let t=e;const n=tT(r.shape,a);return n.length>0&&(t=i_(t,n)),aI(t,r.shape)}}}},IP={kernelName:ev,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},_P={kernelName:rv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>AC(n)}}},OP={kernelName:av,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>AC(n)}}},AP={kernelName:sv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,_C($C(zC(1),OC(kC(n,"float32")))))}}},RP={kernelName:ov,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=_C(CC(zC(1),OC(kC(n,"float32"))));return EC(e,t)}}}},DP={kernelName:lv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{const t=CC(OC(n),OC(r));let s=IC(e,EC(r,t));const o=tT(n.shape,a);return o.length>0&&(s=i_(s,o)),aI(s,n.shape)},b:()=>{const t=CC(OC(n),OC(r));let s=RT(IC(e,EC(n,t)));const o=tT(r.shape,a);return o.length>0&&(s=i_(s,o)),aI(s,r.shape)}}}},MP={kernelName:iv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,CC(OC(kC(n,"float32")),1))}}},PP={kernelName:cv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,$C(zC(1),OC(kC(n,"float32"))))}}};const FP=qN({avgPool3dGrad_:function(e,t,n,r,a,s){const o=VN(e,"dy","avgPool3dGrad"),i=VN(t,"input","avgPool3dGrad");let c=o,l=i,u=!1;4===i.rank&&(u=!0,c=aI(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=aI(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),nb(5===c.rank,(()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,"."))),nb(5===l.rank,(()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,"."))),rI("avgPool3dGrad",a,s);const d={dy:c,input:l},p={filterSize:n,strides:r,pad:a,dimRoundingMode:s},h=DN.runKernel(hv,d,p);return u?aI(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),jP={kernelName:pv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,pad:o,dimRoundingMode:i}=n;return{x:()=>FP(e,r,a,s,o,i)}}};const LP=qN({avgPoolGrad_:function(e,t,n,r,a){const s=VN(e,"dy","avgPoolGrad"),o=VN(t,"input","avgPoolGrad");nb(o.rank===s.rank,(()=>"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(s.rank,")")));let i=o,c=s,l=!1;3===o.rank&&(l=!0,i=aI(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=aI(s,[1,s.shape[0],s.shape[1],s.shape[2]])),nb(4===c.rank,(()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,"."))),nb(4===i.rank,(()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(i.rank,".")));const u={dy:c,input:i},d={filterSize:n,strides:r,pad:a},p=DN.runKernel(dv,u,d);return l?aI(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),zP={kernelName:uv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,pad:o}=n;return{x:()=>LP(e,r,a,s,o)}}},BP={kernelName:fv,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:s,transposeB:o}=n;return s||o?!s&&o?{a:()=>_T(e,a,!1,!1),b:()=>_T(e,r,!0,!1)}:s&&!o?{a:()=>_T(a,e,!1,!0),b:()=>_T(r,e,!1,!1)}:{a:()=>_T(a,e,!0,!0),b:()=>_T(e,r,!0,!0)}:{a:()=>_T(e,a,!1,!0),b:()=>_T(r,e,!0,!1)}}},UP={kernelName:mv,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>cO(e,r,a)}}},WP={kernelName:bv,gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,s=r.shape,o=Array.from(s);for(let c=a.length-1;c>=0;c--)if(a[c]===s[c])o[c]=1;else if(1!==a[c])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(s,"]."));const i=[];for(let c=0;c<o.length;c++)o[c]>1&&i.push(c);return{x:()=>i_(e,i,!0)}}},VP={kernelName:xv,gradFunc:e=>({x:()=>e.clone()})},GP={kernelName:wv,gradFunc:e=>({x:()=>AC(e)})},HP={kernelName:kv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:s}=n;return{x:()=>GI(M_(v_(r,a),C_(r,s)),e,AC(e))}}},qP={kernelName:Sv,inputsToSave:["x"],gradFunc:SP.gradFunc},KP={kernelName:Cv,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:a}=n,s=gb(a,t[0].shape)[0],o=r.map((e=>e[s]));return ZO(e,o,s).map((e=>()=>e))}},XP={kernelName:Tv,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:s,strides:o,pad:i,dataFormat:c}=n;return nb(QE(s),(()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'"))),{x:()=>_I(r.shape,e,a,o,i,c),filter:()=>IA(r,e,a.shape,o,i,c)}}},YP={kernelName:Iv,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:s,pad:o,dataFormat:i,dimRoundingMode:c}=n;return{dy:()=>EI(e,a,s,o,i,1,c),filter:()=>IA(e,r,a.shape,s,o,i,c)}}};const ZP=qN({conv3DBackpropFilter_:function(e,t,n,r,a){let s=e;4===e.rank&&(s=aI(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;4===o.rank&&(o=aI(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),nb(5===s.rank,(()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(s.shape,"."))),nb(5===o.rank,(()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,"."))),nb(5===n.length,(()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,"."))),nb(s.shape[4]===n[3],(()=>"Error in conv3dDerFilter: depth of input ".concat(s.shape[4],") must ")+"match input depth in filter (".concat(n[3],"."))),nb(o.shape[4]===n[4],(()=>"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")));const i={x:s,dy:o},c={strides:r,pad:a,filterShape:n};return DN.runKernel(Ov,i,c)}}),$P={kernelName:_v,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s}=n;nb(QE(r),(()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")));const[o,i]=t;return{x:()=>RI(o.shape,e,i,a,s),filter:()=>ZP(o,e,i.shape,a,s)}}},JP={kernelName:Rv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(RT(BO(kC(n,"float32"))),e)}}},QP={kernelName:Dv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(UO(kC(n,"float32")),e)}}},eF={kernelName:Pv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:s,reverse:o}=n;return{x:()=>{const t=n_([a],r.rank);let n=jI(e,a,s,!o);return null!=t&&(n=MT(n,t)),n}}}},tF={kernelName:zv,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s,dimRoundingMode:o}=n,i=null==r?[1,1]:r;nb(QE(i),(()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(i,"'")));const[c,l]=t;return nb(4===c.rank,(()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(c.rank,"."))),nb(4===l.rank,(()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(l.rank,"."))),nb(c.shape[3]===l.shape[2],(()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(c.shape[3],") must match the inChannels dimension ")+"in filter ".concat(l.shape[2],"."))),nb(eI(a,i),(()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(i,"'."))),rI("depthwiseConv2d",s,o),{x:()=>PA(c.shape,e,l,a,s,i,o),filter:()=>MA(c,e,l.shape,a,s,i,o)}}},nF={kernelName:Vv,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,s={x:r,filter:a,dy:e},o={x:r,filter:a,dy:e};return{x:()=>DN.runKernel(Gv,s,n),filter:()=>DN.runKernel(Hv,o,n)}}},rF={kernelName:Yv,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>DN.runKernel(Zv,r)}}},aF={kernelName:$v,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=IC(d_(RT(OC(n))),2/Math.sqrt(Math.PI));return{x:()=>IC(e,r)}}},sF={kernelName:Qv,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,n)}}},oF={kernelName:ex,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>aI(e,n.shape)}}},iF={kernelName:tx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,d_(n))}}},cF={kernelName:sx,gradFunc:e=>({x:()=>AC(e)})},lF={kernelName:ox,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{const t=EC(e,kC(r,"float32")),s=tT(n.shape,a);return s.length>0?aI(i_(t,s),n.shape):t},b:()=>{let t=IC(e,kC(n,"float32"));const s=tT(r.shape,a);s.length>0&&(t=aI(i_(t,s),r.shape));const o=OC(r);return RT(EC(t,kC(o,"float32")))}}}},uF={kernelName:ix,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,s,o,i]=t,c=null==i?zC(1):i,l=tT(s.shape,a.shape),u=[];if(1===s.rank){for(let e=0;e<a.shape.length-1;++e)u.push(a.shape[e]);u.push(1)}const d=$C(a,s),p=IC(e,c),h=PO(CC(o,zC(r))),f=IC(IC(IC(h,h),h),zC(-.5));return{x:()=>1===s.rank?aI(IC(IC(e,f_(aI(h,[1,1,1,s.shape[0]]),u)),c),a.shape):aI(IC(IC(e,h),c),a.shape),mean:()=>{let e=IC(IC(h,zC(-1)),p);return 1===s.rank&&(e=i_(e,l)),aI(e,s.shape)},variance:()=>{let e=IC(IC(f,d),p);return 1===s.rank&&(e=i_(e,l)),aI(e,s.shape)},scale:()=>{const t=IC(d,h);let n=IC(e,t);return 1===s.rank&&(n=i_(n,l)),aI(n,s.shape)},offset:()=>{let t=e;return 1===s.rank&&(t=i_(t,l)),aI(t,s.shape)}}}},dF={kernelName:cx,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:s,batchDims:o}=n,i=gb(s,r.shape)[0],c=(e,t,n)=>()=>{const r=e.shape,a=t.size,o=r.slice(0,i),c=o.length,l=r.slice(s,r.length).slice(1),u=l.length,d=pF(0,c),p=pF(c+1,c+1+u),h=hF([o,[a],l]),f=aI(n,h),m=aI(t,[a]),g=hF([[c],d,p]),y=MT(f,g);let b=hA(y,m,e.shape[i]);const v=r_(g);return b=MT(b,v),b};if(1===o){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=eA(n.map(((t,n)=>c(t,a.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>a}}return{x:c(r,a,e),indices:()=>a}}};function pF(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function hF(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const fF={kernelName:dx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>AC(n),b:()=>AC(r)}}},mF={kernelName:px,gradFunc:e=>({x:()=>kC(e,"float32")})},gF={kernelName:mx,gradFunc:e=>({x:()=>AC(e)})},yF={kernelName:gx,gradFunc:e=>({x:()=>AC(e)})},bF={kernelName:yx,gradFunc:e=>({x:()=>AC(e)})},vF={kernelName:bx,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,s=b_(r,0);return{x:()=>GI(s,e,IC(e,a))}}},xF={kernelName:Nx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,CC(n,1))}}},wF={kernelName:kx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,kC(n,"float32"))}}},kF={kernelName:Ix,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const t=d_(r);return $C(e,IC(i_(e,a,!0),t))}}}};const NF=qN({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return DN.runKernel(Ax,r,a)}}),SF={kernelName:Ox,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:s,bias:o,alpha:i,beta:c}=n;return{x:()=>NF(r,a,e,s,o,i,c)}}};function CF(e,t,n,r){return t.rank<n.rank&&(t=aI(t,e_(t.shape,r))),e.rank<n.rank&&(e=aI(e,e_(e.shape,r))),{x:()=>IC(e,kC(VI(n,t),e.dtype))}}const TF={kernelName:Dx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,s=t[0],o=CF(e,t[1],s,gb(a,s.shape));return{x:()=>o.x()}}},EF={kernelName:Mx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>IC(e,kC(v_(n,r),"float32")),b:()=>IC(e,kC(S_(n,r),"float32"))}}};const IF=qN({maxPool3dGrad_:function(e,t,n,r,a,s,o){const i=VN(e,"dy","maxPool3dGrad"),c=VN(t,"input","maxPool3dGrad"),l=VN(n,"output","maxPool3dGrad");let u=i,d=c,p=l,h=!1;4===c.rank&&(h=!0,u=aI(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),d=aI(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),p=aI(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),nb(5===u.rank,(()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,"."))),nb(5===d.rank,(()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,"."))),nb(5===p.rank,(()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(p.rank,"."))),rI("maxPool3dGrad",s,o);const f={dy:u,input:d,output:p},m={filterSize:r,strides:a,pad:s,dimRoundingMode:o},g=DN.runKernel(Lx,f,m);return h?aI(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),_F={kernelName:jx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=n;return{x:()=>IF(e,r,a,s,o,i,c)}}};const OF=qN({maxPoolGrad_:function(e,t,n,r,a,s,o){const i=VN(e,"dy","maxPoolGrad"),c=VN(t,"input","maxPoolGrad"),l=VN(n,"output","maxPoolGrad");nb(c.rank===i.rank,(()=>"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(i.rank,")"))),nb(4===i.rank,(()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(i.rank,"."))),nb(4===c.rank,(()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,"."))),rI("maxPoolGrad",s,o);const u={dy:i,input:c,output:l},d={filterSize:r,strides:a,pad:s,dimRoundingMode:o};return DN.runKernel(Fx,u,d)}}),AF={kernelName:Px,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:o,pad:i}=n;return{x:()=>OF(e,r,a,s,o,i)}}},RF={kernelName:Vx,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>lI(e,s,r.shape)}}},DF={kernelName:Gx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{const t=tT(n.shape,a);return t.length>0?aI(i_(e,t),n.shape):e},b:()=>{const t=IC(e,RT(g_(EC(n,r)))),s=tT(r.shape,a);return s.length>0?aI(i_(t,s),r.shape):t}}}},MF={kernelName:qx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{const t=IC(e,kC(r,"float32")),s=tT(n.shape,a);return s.length>0?aI(i_(t,s),n.shape):t},b:()=>{const t=IC(e,kC(n,"float32")),s=tT(r.shape,a);return s.length>0?aI(i_(t,s),r.shape):t}}}},PF={kernelName:tw,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>lI(e,s,r.shape)}}},FF={kernelName:rw,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,s=n,o=r,i=nT(s.shape,o.shape);return{a:()=>{const t=kC(o,"float32");let n=IC(e,IC(t,ZC(s,$C(t,zC(1)))));const r=tT(s.shape,i);return r.length>0&&(n=i_(n,r)),aI(n,s.shape)},b:()=>{const t=b_(s,0),n=GI(t,I_(s),AC(s));let r=IC(e,IC(a,n));const c=tT(o.shape,i);return c.length>0&&(r=i_(r,c)),aI(r,o.shape)}}}},jF={kernelName:aw,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=b_(n,0);return{x:()=>GI(a,e,IC(e,r)),alpha:()=>{let t=GI(a,AC(e),IC(e,n));const s=tT(r.shape,e.shape);return s.length>0&&(t=i_(t,s)),aI(t,r.shape)}}}};function LF(e,t,n){const r=e.shape.length,a=r-n.length,s=n_(n,r);let o=e;null!=s&&(o=MT(e,s));const i=o.shape.slice(),c=i.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);i.push(c);let l=function(e,t,n){const r=e.shape.slice();r[n]=1;const a=aI(t,r),s=FI(e,n,!0,!1),o=FI(e,n,!0,!0),i=IC(s,o);return IC(a,i)}(o.reshape(i),t,a);if(l=l.reshape(o.shape),null!=s){const e=r_(s);l=MT(l,e)}return l}const zF={kernelName:Kv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{const t=EC(e,kC(r,"float32")),s=tT(n.shape,a);return s.length>0?aI(i_(t,s),n.shape):t},b:()=>{let t=IC(e,kC(n,"float32"));const s=tT(r.shape,a);s.length>0&&(t=aI(i_(t,s),r.shape));const o=OC(r);return RT(EC(t,kC(o,"float32")))}}}},BF={kernelName:Tw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=b_(n,zC(0)),r=zC(oD),a=zC(iD),s=IC(e,a),o=IC(IC(e,r),d_(kC(n,"float32")));return GI(t,s,o)}}}},UF={kernelName:Pw,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>pI(e,r,a)}}},WF={kernelName:Fw,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>iI(e,r)}}},VF={kernelName:Zw,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=nT(n.shape,r.shape);return{a:()=>{let t=e;const r=tT(n.shape,a);return r.length>0&&(t=i_(t,r)),aI(t,n.shape)},b:()=>{let t=e;const n=tT(r.shape,a);return n.length>0&&(t=i_(t,n)),aI(RT(t),r.shape)}}}};const GF=[SP,CP,TP,EP,IP,_P,OP,AP,RP,DP,MP,PP,jP,zP,BP,UP,WP,VP,GP,HP,qP,KP,YP,XP,$P,JP,QP,eF,tF,nF,zF,rF,aF,sF,oF,iF,lF,cF,uF,dF,fF,mF,gF,yF,bF,vF,xF,wF,kF,SF,TF,TF,EF,_F,AF,{kernelName:Bx,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,s=gb(a,r.shape),o=sb(QI(r.shape,s)[1]);return{x:()=>{const t=r.shape.slice();s.forEach((e=>{t[e]=1}));const n=aI(e,t);return EC(IC(n,q_(r.shape,"float32")),o)}}}},{kernelName:Ux,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[s,o]=t,i=CF(e,o,s,gb(a,s.shape));return{x:()=>i.x()}}},{kernelName:Wx,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>IC(e,kC(C_(n,r),"float32")),b:()=>IC(e,kC(b_(n,r),"float32"))}}},RF,DF,MF,{kernelName:Kx,gradFunc:e=>({x:()=>RT(e)})},{kernelName:Qx,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>H_(n.shape,"float32")}}},{kernelName:Jx,gradFunc:e=>({x:()=>AC(e)})},{kernelName:ew,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return fA(e,r).map((e=>()=>e))}},PF,PF,FF,jF,{kernelName:sw,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;let s=[];return s=void 0===a||null===a?r.shape.map(((e,t)=>t)):"number"===typeof a?[a]:a,{x:()=>LF(r,e,s)}}},{kernelName:dw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,RT(OC(n)))}}},{kernelName:bw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=IC(C_(n,6),tA(n));return{x:()=>IC(e,kC(r,"float32"))}}},{kernelName:pw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,kC(tA(n),"float32"))}}},{kernelName:hw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>aI(e,n.shape)}}},{kernelName:gw,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>DN.runKernel(yw,a,n)}}},{kernelName:fw,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>DN.runKernel(mw,a,n)}}},{kernelName:vw,gradFunc:(e,t,n)=>{const{dims:r}=n,a=gb(r,e.shape);return{x:()=>_O(e,a)}}},{kernelName:xw,gradFunc:e=>({x:()=>AC(e)})},{kernelName:ww,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>RT(EC(e,IC(ZC(n,1.5),2)))}}},{kernelName:Cw,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>kC(AC(n),"float32"),t:()=>IC(e,kC(n,e.dtype)),e:()=>IC(e,kC(P_(n),e.dtype))}}},BF,{kernelName:Aw,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,IC(n,$C(zC(1),n)))}}},{kernelName:Ow,gradFunc:e=>({x:()=>AC(e)})},{kernelName:Iw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(MI(kC(n,"float32")),e)}}},{kernelName:_w,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(PI(kC(n,"float32")),e)}}},{kernelName:Ew,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:s}=n,o=r.shape,[i,c]=pE(r,a,s),l=[];for(let u=0;u<e.rank;u++)l.push([i[u],o[u]-i[u]-c[u]]);return{x:()=>rO(e,l)}}},{kernelName:jw,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,s=IC(e,r);return{logits:()=>$C(s,IC(i_(s,[a],true),r))}}},{kernelName:Rw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,cI(n))}}},UF,UF,WF,WF,{kernelName:Dw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,IC(_C(kC(n,"float32")),2))}}},{kernelName:Vw,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=zC(2);return{a:()=>IC(e,IC(a,$C(n,r))),b:()=>IC(e,IC(a,$C(r,n)))}}},{kernelName:Gw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC(e,IC(kC(n,"float32"),2))}}},{kernelName:ck,gradFunc:e=>({x:()=>AC(e)})},VF,{kernelName:Mw,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:s}=n;gb(s,r.shape).forEach((e=>{a[e]=1}));const o=aI(e,a),i=IC(o,q_(r.shape,"float32"));return{x:()=>i}}},{kernelName:$w,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>EC(e,OC(MI(n)))}}},{kernelName:Jw,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>IC($C(zC(1),OC(n)),e)}}},{kernelName:Qw,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let t=AC(r);if(1===r.rank)for(let n=0;n<a[0];++n)t=CC(t,lI(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)t=CC(t,lI(e,[n*r.shape[0],s*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let o=0;o<a[2];++o)t=CC(t,lI(e,[n*r.shape[0],s*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let o=0;o<a[2];++o)for(let i=0;i<a[3];++i)t=CC(t,lI(e,[n*r.shape[0],s*r.shape[1],o*r.shape[2],i*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},{kernelName:nk,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,s=r_(a);return{x:()=>MT(e,s)}}},{kernelName:ak,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>eA(e,a)}}},{kernelName:sk,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=rT(t,AC(t)),r=y_(e,n);let a=v_(t,zC(0,"int32"));const s=r.rank-a.rank;for(let i=0;i<s;++i)a=p_(a,i+1);a=M_(a,q_(r.shape,"bool"));const o=AC(r);return GI(a,r,o)}(e,n)}}},{kernelName:ik,gradFunc:e=>({x:()=>AC(e)})}];for(const n of GF)kk(n);pN().prototype.abs=function(){return this.throwIfDisposed(),QC(this)},pN().prototype.acos=function(){return this.throwIfDisposed(),AE(this)},pN().prototype.acosh=function(){return this.throwIfDisposed(),RE(this)},pN().prototype.add=function(e){return this.throwIfDisposed(),CC(this,e)},pN().prototype.all=function(e,t){return this.throwIfDisposed(),ME(this,e,t)},pN().prototype.any=function(e,t){return this.throwIfDisposed(),PE(this,e,t)},pN().prototype.argMax=function(e){return this.throwIfDisposed(),FE(this,e)},pN().prototype.argMin=function(e){return this.throwIfDisposed(),jE(this,e)},pN().prototype.asScalar=function(){return this.throwIfDisposed(),nb(1===this.size,(()=>"The array must have only 1 element.")),aI(this,[])},pN().prototype.asType=function(e){return this.throwIfDisposed(),kC(this,e)},pN().prototype.as1D=function(){return this.throwIfDisposed(),aI(this,[this.size])},pN().prototype.as2D=function(e,t){return this.throwIfDisposed(),aI(this,[e,t])},pN().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),aI(this,[e,t,n])},pN().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),aI(this,[e,t,n,r])},pN().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),aI(this,[e,t,n,r,a])},pN().prototype.asin=function(){return this.throwIfDisposed(),LE(this)},pN().prototype.asinh=function(){return this.throwIfDisposed(),zE(this)},pN().prototype.atan=function(){return this.throwIfDisposed(),BE(this)},pN().prototype.atan2=function(e){return this.throwIfDisposed(),UE(this,e)},pN().prototype.atanh=function(){return this.throwIfDisposed(),WE(this)},pN().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),sI(this,e,t,n,r)},pN().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),pI(this,e,t)},pN().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),hI(this,e,t,n,r,a)},pN().prototype.broadcastTo=function(e){return this.throwIfDisposed(),xI(this,e)},pN().prototype.cast=function(e){return this.throwIfDisposed(),kC(this,e)},pN().prototype.ceil=function(){return this.throwIfDisposed(),wI(this)},pN().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),kI(this,e,t)},pN().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof dN&&(e=[e]),iI([this,...e],t)},pN().prototype.conv1d=function(e,t,n,r,a,s){return this.throwIfDisposed(),II(this,e,t,n,r,a,s)},pN().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),OI(this,e,t,n,r,a)},pN().prototype.conv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),EI(this,e,t,n,r,a,s)},pN().prototype.cos=function(){return this.throwIfDisposed(),MI(this)},pN().prototype.cosh=function(){return this.throwIfDisposed(),PI(this)},pN().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),FI(this,e,t,n)},pN().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),jI(this,e,t,n)},pN().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),zI(this,e,t)},pN().prototype.depthwiseConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),BI(this,e,t,n,r,a,s)},pN().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),WI(this,e,t,n,r,a)},pN().prototype.divNoNan=function(e){return this.throwIfDisposed(),HI(this,e)},pN().prototype.div=function(e){return this.throwIfDisposed(),EC(this,e)},pN().prototype.dot=function(e){return this.throwIfDisposed(),qI(this,e)},pN().prototype.elu=function(){return this.throwIfDisposed(),XI(this)},pN().prototype.equal=function(e){return this.throwIfDisposed(),VI(this,e)},pN().prototype.erf=function(){return this.throwIfDisposed(),ZI(this)},pN().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),u_(this,e,t)},pN().prototype.exp=function(){return this.throwIfDisposed(),d_(this)},pN().prototype.expandDims=function(e){return this.throwIfDisposed(),p_(this,e)},pN().prototype.expm1=function(){return this.throwIfDisposed(),h_(this)},pN().prototype.fft=function(){return this.throwIfDisposed(),KO(this)},pN().prototype.flatten=function(){return this.throwIfDisposed(),aI(this,[this.size])},pN().prototype.floor=function(){return this.throwIfDisposed(),g_(this)},pN().prototype.floorDiv=function(e){return this.throwIfDisposed(),TC(this,e)},pN().prototype.gather=function(e,t,n){return this.throwIfDisposed(),y_(this,e,t,n)},pN().prototype.greaterEqual=function(e){return this.throwIfDisposed(),v_(this,e)},pN().prototype.greater=function(e){return this.throwIfDisposed(),b_(this,e)},pN().prototype.ifft=function(){return this.throwIfDisposed(),XO(this)},pN().prototype.irfft=function(){return this.throwIfDisposed(),YO(this)},pN().prototype.isFinite=function(){return this.throwIfDisposed(),x_(this)},pN().prototype.isInf=function(){return this.throwIfDisposed(),w_(this)},pN().prototype.isNaN=function(){return this.throwIfDisposed(),k_(this)},pN().prototype.leakyRelu=function(e){return this.throwIfDisposed(),N_(this,e)},pN().prototype.lessEqual=function(e){return this.throwIfDisposed(),C_(this,e)},pN().prototype.less=function(e){return this.throwIfDisposed(),S_(this,e)},pN().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),E_(this,e,t,n,r)},pN().prototype.logSigmoid=function(){return this.throwIfDisposed(),A_(this)},pN().prototype.logSoftmax=function(e){return this.throwIfDisposed(),R_(this,e)},pN().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),D_(this,e,t)},pN().prototype.log=function(){return this.throwIfDisposed(),I_(this)},pN().prototype.log1p=function(){return this.throwIfDisposed(),__(this)},pN().prototype.logicalAnd=function(e){return this.throwIfDisposed(),M_(this,e)},pN().prototype.logicalNot=function(){return this.throwIfDisposed(),P_(this)},pN().prototype.logicalOr=function(e){return this.throwIfDisposed(),F_(this,e)},pN().prototype.logicalXor=function(e){return this.throwIfDisposed(),j_(this,e)},pN().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),_T(this,e,t,n)},pN().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),U_(this,e,t,n,r)},pN().prototype.max=function(e,t){return this.throwIfDisposed(),s_(this,e,t)},pN().prototype.maximum=function(e){return this.throwIfDisposed(),rT(this,e)},pN().prototype.mean=function(e,t){return this.throwIfDisposed(),G_(this,e,t)},pN().prototype.min=function(e,t){return this.throwIfDisposed(),o_(this,e,t)},pN().prototype.minimum=function(e){return this.throwIfDisposed(),X_(this,e)},pN().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Y_(this,e,t)},pN().prototype.mod=function(e){return this.throwIfDisposed(),Z_(this,e)},pN().prototype.mul=function(e){return this.throwIfDisposed(),IC(this,e)},pN().prototype.neg=function(){return this.throwIfDisposed(),RT(this)},pN().prototype.norm=function(e,t,n){return this.throwIfDisposed(),l_(this,e,t,n)},pN().prototype.notEqual=function(e){return this.throwIfDisposed(),eO(this,e)},pN().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),OT(this,e,t,n)},pN().prototype.onesLike=function(){return this.throwIfDisposed(),tO(this)},pN().prototype.pad=function(e,t){return this.throwIfDisposed(),rO(this,e,t)},pN().prototype.pool=function(e,t,n,r,a,s){return this.throwIfDisposed(),lO(this,e,t,n,r,a,s)},pN().prototype.pow=function(e){return this.throwIfDisposed(),ZC(this,e)},pN().prototype.prelu=function(e){return this.throwIfDisposed(),uO(this,e)},pN().prototype.prod=function(e,t){return this.throwIfDisposed(),dO(this,e,t)},pN().prototype.reciprocal=function(){return this.throwIfDisposed(),TO(this)},pN().prototype.relu=function(){return this.throwIfDisposed(),EO(this)},pN().prototype.relu6=function(){return this.throwIfDisposed(),IO(this)},pN().prototype.reshapeAs=function(e){return this.throwIfDisposed(),aI(this,e.shape)},pN().prototype.reshape=function(e){return this.throwIfDisposed(),aI(this,e)},pN().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),lR(this,e,t,n)},pN().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),uR(this,e,t,n)},pN().prototype.reverse=function(e){return this.throwIfDisposed(),_O(this,e)},pN().prototype.rfft=function(){return this.throwIfDisposed(),$O(this)},pN().prototype.round=function(){return this.throwIfDisposed(),MO(this)},pN().prototype.rsqrt=function(){return this.throwIfDisposed(),PO(this)},pN().prototype.selu=function(){return this.throwIfDisposed(),FO(this)},pN().prototype.separableConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),jO(this,e,t,n,r,a,s)},pN().prototype.sigmoid=function(){return this.throwIfDisposed(),cI(this)},pN().prototype.sign=function(){return this.throwIfDisposed(),zO(this)},pN().prototype.sin=function(){return this.throwIfDisposed(),BO(this)},pN().prototype.sinh=function(){return this.throwIfDisposed(),UO(this)},pN().prototype.slice=function(e,t){return this.throwIfDisposed(),lI(this,e,t)},pN().prototype.softmax=function(e){return this.throwIfDisposed(),qO(this,e)},pN().prototype.softplus=function(){return this.throwIfDisposed(),O_(this)},pN().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),cO(this,e,t)},pN().prototype.split=function(e,t){return this.throwIfDisposed(),ZO(this,e,t)},pN().prototype.sqrt=function(){return this.throwIfDisposed(),_C(this)},pN().prototype.square=function(){return this.throwIfDisposed(),OC(this)},pN().prototype.squaredDifference=function(e){return this.throwIfDisposed(),JO(this,e)},pN().prototype.squeeze=function(e){return this.throwIfDisposed(),QO(this,e)},pN().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof dN?[this,e]:[this,...e];return eA(n,t)},pN().prototype.step=function(e){return this.throwIfDisposed(),tA(this,e)},pN().prototype.stridedSlice=function(e,t,n,r,a,s,o,i){return this.throwIfDisposed(),nA(this,e,t,n,r,a,s,o,i)},pN().prototype.sub=function(e){return this.throwIfDisposed(),$C(this,e)},pN().prototype.sum=function(e,t){return this.throwIfDisposed(),i_(this,e,t)},pN().prototype.tan=function(){return this.throwIfDisposed(),rA(this)},pN().prototype.tanh=function(){return this.throwIfDisposed(),uI(this)},pN().prototype.tile=function(e){return this.throwIfDisposed(),f_(this,e)},pN().prototype.toBool=function(){return this.throwIfDisposed(),kC(this,"bool")},pN().prototype.toFloat=function(){return this.throwIfDisposed(),kC(this,"float32")},pN().prototype.toInt=function(){return this.throwIfDisposed(),kC(this,"int32")},pN().prototype.topk=function(e,t){return this.throwIfDisposed(),uA(this,e,t)},pN().prototype.transpose=function(e){return this.throwIfDisposed(),MT(this,e)},pN().prototype.unique=function(e){return this.throwIfDisposed(),pA(this,e)},pN().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),hA(this,e,t)},pN().prototype.unstack=function(e){return this.throwIfDisposed(),fA(this,e)},pN().prototype.where=function(e,t){return this.throwIfDisposed(),GI(e,this,t)},pN().prototype.zerosLike=function(){return this.throwIfDisposed(),AC(this)};class HF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,HF.prototype)}}class qF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qF.prototype)}}class KF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,KF.prototype)}}class XF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,XF.prototype)}}class YF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,YF.prototype)}}Error;class ZF{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function $F(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function JF(e,t){if(!e)throw new YF(t)}function QF(e,t){let n=0;for(const r of e)r===t&&n++;return n}function ej(e){return 1===e.length?e[0]:e}function tj(e){return Array.isArray(e)?e:[e]}function nj(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function rj(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let aj={};function sj(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function oj(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>oj(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?oj(t):e[n]=t.value)}}}function ij(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const a=e;let s;if(a in n)s=n[a];else if(a in aj)s=aj[a];else if(s=t[a],null==s)throw new KF("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return s}{const s=e;if(null==s.className||null==s.config)throw new KF("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");const o=s.className;let i,c;if(o in n?[i,c]=n[o]:o in aj?[i,c]=aj.className:o in t&&([i,c]=t[o]),null==i)throw new KF("Unknown ".concat(r,": ").concat(o,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=c){const e={};for(const n of Object.keys(aj))e[n]=aj[n];for(const a of Object.keys(n))e[a]=n[a];s.config.customObjects=e;const t=Object.assign({},aj);for(const a of Object.keys(n))aj[a]=n[a];oj(s.config);const r=c(i,s.config,n,a);return aj=Object.assign({},t),r}{const e=Object.assign({},aj);for(const r of Object.keys(n))aj[r]=n[r];const t=new i(s.config);return aj=Object.assign({},e),t}}}function cj(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function lj(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function uj(e){if(null==e)throw new KF("Invalid value in obj: ".concat(JSON.stringify(e)));for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function dj(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new KF("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function pj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return JF(n>=0),JF(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function hj(e,t){Array.isArray(e)?(nb(e.length>0,(()=>"".concat(t," is unexpectedly an empty array."))),e.forEach(((e,n)=>hj(e,"element ".concat(n+1," of ").concat(t))))):nb(Number.isInteger(e)&&e>0,(()=>"Expected ".concat(t," to be a positive integer, but got ")+"".concat(fj(e),".")))}function fj(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>fj(e))).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function mj(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let gj=0;function yj(){return gj++}const bj={};function vj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in bj||(bj[e]=0),bj[e]+=1,e+bj[e].toString()}const xj=["channelsFirst","channelsLast"],wj=["nearest","bilinear"],kj=["valid","same","causal"],Nj=["max","avg"],Sj=["sum","mul","concat","ave"],Cj=new Map;function Tj(e){dj(xj,"DataFormat",e)}function Ej(e){dj(kj,"PaddingMode",e)}function Ij(e){dj(Nj,"PoolMode",e)}const _j=[],Oj="/";function Aj(e,t){_j.push(e);try{const e=t();return _j.pop(),e}catch(L6){throw _j.pop(),L6}}function Rj(e){if(!Pj(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===_j.length?"":_j.join(Oj)+Oj)+e}function Dj(e){if(!Pj(e))throw new Error("Not a valid tensor name: '"+e+"'");Cj.has(e)||Cj.set(e,0);const t=Cj.get(e);if(Cj.set(e,Cj.get(e)+1),t>0){const n="".concat(e,"_").concat(t);return Cj.set(n,1),n}return e}const Mj=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Pj(e){return!!e.match(Mj)}function Fj(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function jj(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Lj(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function zj(e,t){if(t<e)throw new KF("end (".concat(t,") < begin (").concat(e,") is forbidden."));const n=[];for(let r=e;r<t;++r)n.push(r);return n}let Bj;function Uj(){return null==Bj&&(Bj=yS().epsilon()),Bj}function Wj(e,t){return kC(e,t)}function Vj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),aI(e,n)}function Gj(e,t,n){return oS((()=>{switch(e.rank){case 1:return WO(e,t,n);case 2:return VO(e,[t,0],[n,e.shape[1]]);case 3:return GO(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return HO(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return lI(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return lI(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new KF("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Hj(e,t,n){return oS((()=>{switch(e.rank){case 1:return WO(e,t,n);case 2:return VO(e,[0,t],[e.shape[0],n]);case 3:return GO(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return HO(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new KF("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function qj(e,t,n,r){return oS((()=>{switch(e.rank){case 1:return WO(e,t,n);case 2:switch(r){case 1:return Gj(e,t,n);case 2:return Hj(e,t,n);default:throw new KF("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Gj(e,t,n);case 2:return GO(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Hj(e,t,n);default:throw new KF("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Gj(e,t,n);case 2:return HO(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return HO(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Hj(e,t,n);default:throw new KF("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new KF("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Kj(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),iI(e,n)}function Xj(e,t){switch(e.rank){case 1:return NI([e,t]);case 2:return SI([e,t],0);case 3:return CI([e,t],0);case 4:return TI([e,t],0);default:throw new KF("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Yj(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new KF("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return f_(e,t)}function Zj(e){return wO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function $j(e,t,n,r){if(e.rank<2||t.rank<2)throw new XF("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new XF("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape))}if(2===e.rank&&2===t.rank){return jA({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?eL(e.rank,r,"channelsLast"):null,activation:n})}{const a=e.shape.slice(),s=a.pop();e=aI(e,[-1,s]);const o=t.shape.slice(),i=o.pop(),c=o.pop(),l=[...o,i],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=aI(MT(t,u),[c,-1]);const d=[...a,...l];return aI(jA({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?eL(e.rank,r,"channelsLast"):null,activation:n}),d)}}function Jj(e,t,n){return oS((()=>(t=Array.isArray(t)?aA(t,"int32"):kC(t,"int32"),y_(e,t,n))))}function Qj(e){return IC(e,e)}function eL(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new KF("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?aI(t,[1,r[0],1,1,1]):aI(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?aI(t,[1,1,1,1,r[0]]):aI(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?aI(t,[1,r[0],1,1]):aI(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?aI(t,[1,1,1,r[0]]):aI(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?aI(t,[1,r[0],1]):aI(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?aI(t,[1,1,r[0]]):aI(t,[1].concat(r))}else if(e<3)return t;throw new KF("Unsupported input rank by biasAdd: ".concat(t.rank))}function tL(e,t,n){return oS((()=>(null==n&&(n="channelsLast"),Tj(n),CC(e,eL(e.rank,t,n)))))}function nL(e,t,n,r){return oS((()=>SA(e,t,n,r)))}function rL(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const aL=["fanIn","fanOut","fanAvg"],sL=["normal","uniform","truncatedNormal"];class oL extends WC{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class iL extends oL{apply(e,t){return H_(e,t)}}iL.className="Zeros",GC(iL);class cL extends oL{apply(e,t){return q_(e,t)}}cL.className="Ones",GC(cL);class lL extends oL{constructor(e){if(super(),"object"!==typeof e)throw new KF("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new KF("config must have value set but got ".concat(e));this.value=e.value}apply(e,t){return oS((()=>IC(zC(this.value),q_(e,t))))}getConfig(){return{value:this.value}}}lL.className="Constant",GC(lL);class uL extends oL{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return NO(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}uL.className="RandomUniform",GC(uL);class dL extends oL{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new XF("randomNormal does not support dType ".concat(t,"."));return Zj(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}dL.className="RandomNormal",GC(dL);class pL extends oL{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new XF("truncatedNormal does not support dType ".concat(t,"."));return dA(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}pL.className="TruncatedNormal",GC(pL);class hL extends oL{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return oS((()=>{if(2!==e.length||e[0]!==e[1])throw new KF("Identity matrix initializer can only be used for 2D square matrices.");return IC(this.gain,m_(e[0]))}))}getConfig(){return{gain:this.gain}}}hL.className="Identity",GC(hL);class fL extends oL{constructor(e){if(super(),e.scale<0)throw new KF("scale must be a positive float. Got: ".concat(e.scale));var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,dj(aL,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){dj(sL,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Tj(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=Fj(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=Fj(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=Fj(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],a=n[1];let s=this.scale;if("fanIn"===this.mode?s/=Math.max(1,r):"fanOut"===this.mode?s/=Math.max(1,a):s/=Math.max(1,(r+a)/2),"normal"===this.distribution){const n=Math.sqrt(s);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new XF("".concat(this.getClassName()," does not support dType ").concat(t,"."));return dA(e,0,n,t,this.seed)}{const n=Math.sqrt(3*s);return NO(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}fL.className="VarianceScaling",GC(fL);class mL extends fL{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fL.className}}mL.className="GlorotUniform",GC(mL);class gL extends fL{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fL.className}}gL.className="GlorotNormal",GC(gL);class yL extends fL{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fL.className}}yL.className="HeNormal",GC(yL);class bL extends fL{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fL.className}}bL.className="HeUniform",GC(bL);class vL extends fL{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fL.className}}vL.className="LeCunNormal",GC(vL);class xL extends fL{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fL.className}}xL.className="LeCunUniform",GC(xL);class wL extends oL{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return oS((()=>{if(e.length<2)throw new XF("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));const n=sb(e.slice(0,-1)),r=e[e.length-1],a=n*r;a>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(a,") elements: ")+"Slowness may result.");const s=Zj([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),o=LR.qr(s,!1);let i=o[0];const c=o[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return i=IC(i,c.sign()),n<r&&(i=i.transpose()),IC(zC(this.gain),i.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}wL.className="Orthogonal",GC(wL);const kL={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function NL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ij(e,VC.getMap().classNameMap,t,"initializer")}function SL(e){return sj(e)}function CL(e){if("string"===typeof e){const t=e in kL?kL[e]:e;if("GlorotNormal"===t)return new gL;if("GlorotUniform"===t)return new mL;if("HeNormal"===t)return new yL;if("HeUniform"===t)return new bL;if("LeCunNormal"===t)return new vL;if("LeCunUniform"===t)return new xL;{const e={};return e.className=t,e.config={},NL(e)}}return e instanceof oL?e:NL(e)}function TL(e){return Array.isArray(e)&&Array.isArray(e[0])}function EL(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function IL(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new KF("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function _L(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new KF("Expected exactly 1 Shape; got ".concat(e.length))}return e}function OL(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const AL="Variable";class RL{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AL,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=yj(),n=null==n?AL:n,this.originalName=Rj(n),this.name=Dj(this.originalName),this.trainable_=r,this.constraint=a,this.val=gA(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function DL(e){return e.map((e=>e.read()))}function ML(e){e.forEach((e=>{e[0].write(e[1])}))}class PL{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class FL{constructor(e,t,n,r,a,s,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=o,this.id=yj(),null!=s&&(this.originalName=Rj(s),this.name=Dj(this.originalName)),this.rank=t.length}}let jL=0;class LL{constructor(e,t){this.callArgs=t,this.id=jL++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let zL=0;class BL extends WC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=zL++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=nj(e)+"_"+vj(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new qF("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new KF("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return ej(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ej(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new HF("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new HF("Layer ".concat(this.name)+" is not connected, no input to return.");return ej(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new HF("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new HF("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return ej(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=tj(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=tj(this.inputSpec);if(t.length!==n.length)throw new KF("Layer ".concat(this.name," expects ").concat(n.length," inputs, ")+"but it received ".concat(t.length," input tensors. ")+"Input received: ".concat(e));for(let r=0;r<t.length;r++){const e=t[r],a=n[r];if(null==a)continue;const s=e.rank;if(null!=a.ndim&&s!==a.ndim)throw new KF("Input ".concat(r," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(s));if(null!=a.maxNDim&&s>a.maxNDim)throw new KF("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(s));if(null!=a.minNDim&&s<a.minNDim)throw new KF("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(s,"."));if(null!=a.dtype&&e.dtype!==a.dtype)throw new KF("Input ".concat(r," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(e.dtype,"."));if(a.axes){const t=e.shape;for(const e in a.axes){const n=Number(e),s=a.axes[e],o=n>=0?t[n]:t[t.length+n];if(null!=s&&-1===[s,null].indexOf(o))throw new KF("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(n," of input shape to ")+"have value ".concat(s," but got shape ").concat(t,"."))}}if(null!=a.shape)for(let t=0;t<a.shape.length;++t){const n=a.shape[t],s=e.shape[t];if(null!=n&&null!=s&&n!==s)throw new KF("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(e.shape,"."))}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=tj(e),r=function(e){let t=!0;for(const n of tj(e))if(!(n instanceof FL)){t=!1;break}return t}(e),a=function(e){let t=!0;for(const n of tj(e))if(n instanceof FL){t=!1;break}return t}(e);if(r===a)throw new KF("Arguments to apply() must be all SymbolicTensors or all Tensors");return Aj(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of tj(e))t.push(n.shape);this.build(ej(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const a=tj(r),s=[];for(let e of a)-1!==n.indexOf(e)&&(e=e.clone()),s.push(e);if(r=ej(s),null!=this.activityRegularizer)throw new XF("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=tj(e);const t=[];for(const n of e)t.push(n.shape);return ej(t)}(e),r=this.computeOutputShape(n);let a;const s="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),a=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new FL(s,n,this,tj(e),t,this.name,r))):new FL(s,r,this,tj(e),t,this.name),this.addInboundNode(e,a,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new XF("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new HF("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new HF("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new qF("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return OL(this.weights)}build(e){this.built=!0}getWeights(){return DL(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){oS((()=>{const t=this.weights;if(t.length!==e.length)throw new KF('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(t.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0===t.length)return;const n=[],r=DL(t);for(let a=0;a<r.length;++a){const s=r[a],o=t[a],i=e[a];if(!cb(s.shape,i.shape))throw new KF("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(i.shape));n.push([o,i])}ML(n)}))}addWeight(e,t,n,r,a,s,o,i){if(-1!==this._addedWeightNames.indexOf(e))throw new KF("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=i?i():CL("zeros"));const c=r.apply(t,n),l=new RL(c,n,e,s,o);return c.dispose(),null!=a&&this.addLoss((()=>a.apply(l.read()))),null==s&&(s=!0),s?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=tj(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((e=>{if(null!=e)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),a=tj(t),s=tj(r);if(a.length!==s.length)throw new Error("".concat(this.name," outputs ").concat(a.length," tensors ")+"but ".concat(a.length," masks for those tensors"));for(let o=0;o<a.length;o++)a[o].kerasMask=s[o]}addInboundNode(e,t,n,r,a,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const i=tj(e);t=tj(t),n=tj(n),r=tj(r),a=EL(a),s=EL(s);const c=[],l=[],u=[];for(const d of i)c.push(d.sourceLayer),l.push(d.nodeIndex),u.push(d.tensorIndex);new LL({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:u,inputTensors:i,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:s},o);for(let d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function UL(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=UL(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class WL extends BL{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:vj("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new KF("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new KF("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new KF("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new FL(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new LL({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new KF("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}WL.className="InputLayer",GC(WL);class VL{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof VL)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new KF("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return kC(t,e.dtype)}catch(z6){throw new KF("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof FL){if(null==this.id2Value[e.id])throw new KF("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new KF("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}}getMask(e){if(e instanceof FL){if(null==this.id2Value[e.id])throw new KF("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new KF("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&iS(this.id2Mask)}}const GL=new ZF,HL=new ZF;function qL(e,t,n,r){const a=null!=n&&n.training,s=Array.isArray(e),o=s?e:[e],i=o.map((e=>e.name)),c=[],l=t.names();for(const f of i)-1!==l.indexOf(f)?c.push(t.getValue(f)):c.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const u=i.join(",")+"|"+t.names().sort().join(",");let d,p=GL.get(u);if(null==p){const e=function(e,t){nb(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const a=XL(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const s of e){const{sorted:e,recipientMap:o}=XL(s,t);for(const t of e)a.has(t.name)||(n.push(t),a.add(t.name));for(const t in o)null==r[t]&&(r[t]=new Set),o[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:KL(r)}}(o,t);p=e.sorted,d=e.recipientCounts,GL.put(u,p),HL.put(u,d)}d={},a||Object.assign(d,HL.get(u));const h=new VL(t);for(let f=0;f<p.length;++f){if(null!=r){const e=aS().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=p[f],s=e.sourceLayer;if(s instanceof WL)continue;const o=[],l=[],u=[];let m=!1;for(const n of e.inputs){const e=h.getValue(n),r=h.getMask(n);o.push(e),l.push(r),null!=r&&(m=!0),a||(d[n.name]--,0!==d[n.name]||t.hasKey(n)||-1!==i.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||u.push(e))}m&&((n=n||{}).mask=l[0]);const g=tj(s.apply(o,n));let y=null;s.supportsMasking&&(y=s.computeMask(o,l));const b=YL(e),v=Array.isArray(b)?b:[b];for(let t=0;t<v.length;++t){h.hasKey(v[t])||h.add(v[t],g[t],Array.isArray(y)?y[0]:y);const e=i.indexOf(v[t].name);-1!==e&&(c[e]=g[t])}a||iS(u)}return h.disposeMasks(),s?c:c[0]}function KL(e){const t={};for(const n in e)t[n]=e[n].size;return t}function XL(e,t){const n=new Set,r=[],a={};for(const i of t.names())n.add(i);const s=[],o=[];for(s.push(e);s.length>0;){const e=s[s.length-1];if(n.has(e.name)){s.pop();continue}const t=o[o.length-1]===s.length-1;if(0===e.inputs.length||t)s.pop(),r.push(e),n.add(e.name),t&&o.pop();else{o.push(s.length-1);for(const t of e.inputs)null==a[t.name]&&(a[t.name]=new Set),a[t.name].add(e.name),n.has(t.name)||s.push(t)}}return{sorted:r,recipientMap:a}}function YL(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function ZL(e,t){return oS((()=>_C(i_(IC(e,e),t,!0))))}Hb().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=GL&&GL.setMaxEntries(e),null!=HL&&HL.setMaxEntries(e)}));class $L extends WC{getConfig(){return{}}}class JL extends $L{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return oS((()=>{const t=ZL(e,this.axis),n=kI(t,0,this.maxValue);return IC(e,EC(n,CC(Uj(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}JL.className="MaxNorm",GC(JL);class QL extends $L{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return oS((()=>EC(e,CC(Uj(),ZL(e,this.axis)))))}getConfig(){return{axis:this.axis}}}QL.className="UnitNorm",GC(QL);class ez extends $L{apply(e){return EO(e)}}ez.className="NonNeg",GC(ez);class tz extends $L{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return oS((()=>{const t=ZL(e,this.axis),n=CC(IC(this.rate,kI(t,this.minValue,this.maxValue)),IC(1-this.rate,t));return IC(e,EC(n,CC(Uj(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}tz.className="MinMaxNorm",GC(tz);const nz={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function rz(e){return sj(e)}function az(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ij(e,VC.getMap().classNameMap,t,"constraint")}function sz(e){if(null==e)return null;if("string"===typeof e){return az({className:e in nz?nz[e]:e,config:{}})}return e instanceof $L?e:az(e)}async function oz(e){if(null==e)return;const t=[],n=[],r=[];for(const a in e){const s=e[a];if("number"!==typeof s){const e=s;t.push(e.data()),n.push(a),r.push(e)}}if(t.length>0){const a=await Promise.all(t);for(let t=0;t<a.length;++t)e[n[t]]=a[t][0];iS(r)}}function iz(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var cz;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(cz||(cz={}));class lz{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class uz{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class dz extends lz{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const a=oS((()=>CC(this.totals[r],IC(e,n))));this.totals[r]=a,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:oS((()=>{const e=IC(EC(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),cS(t[n])})))}}class pz extends lz{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const a in this.history){const r=this.history[a];for(let s=0;s<r.length;++s)if("number"!==typeof r[s]){const o=r[s];e.push(o.data()),t.push(a),n.push(s)}}const r=await Promise.all(e);for(let a=0;a<r.length;++a){this.history[t[a]][n[a]].dispose(),this.history[t[a]][n[a]]=r[a][0]}}}class hz extends lz{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||GR,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");Eb(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,a=null!=n?n():Gk();return function(){const s=null!=n?n():Gk();return s-a<t||(a=s,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await oz(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await oz(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await oz(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await oz(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await oz(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):Eb(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await oz(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await oz(e),await this.trainEnd(e))}}function fz(e,t){if(null==e&&(e={}),e instanceof lz)return[e];if(Array.isArray(e)&&e[0]instanceof lz)return e;return tj(e).map((e=>new hz(e,t)))}class mz{constructor(){}static registerCallbackConstructor(e,t){nb(e>=0&&Number.isInteger(e),(()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e))),mz.checkForDuplicate(t),null==mz.constructors[e]&&(mz.constructors[e]=[]),mz.constructors[e].push(t)}static checkForDuplicate(e){for(const t in mz.constructors){mz.constructors[+t].forEach((t=>{if(t===e)throw new KF("Duplicate callback constructor.")}))}}static clear(){mz.constructors={}}static createCallbacks(e){const t=[];for(const n in mz.constructors){const r=+n;e>=r&&t.push(...mz.constructors[r])}return t.map((e=>new e))}}function gz(e,t,n,r,a,s,o,i,c){const l=new pz,u=[new dz,...mz.createCallbacks(t)];null!=e&&u.push(...e),u.push(l);const d=new uz(u);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:s,batchSize:o,verbose:t,doValidation:i,metrics:c}),{callbackList:d,history:l}}function yz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ij(e,VC.getMap().classNameMap,t,"layer",n)}function bz(e,t){return oS((()=>{"float32"!==e.dtype&&(e=kC(e,"float32"));const n=i_(Qj(e),t,!0),r=XC(n.shape,Uj()),a=_C(rT(n,r));return EC(e,a)}))}function vz(e,t){return oS((()=>G_(Qj($C(t,e)),-1)))}function xz(e,t){return oS((()=>G_(QC($C(t,e)),-1)))}function wz(e,t){return oS((()=>{const n=$C(e,t),r=kI(QC(e),Uj(),Number.MAX_VALUE),a=QC(EC(n,r));return IC(100,G_(a,-1))}))}function kz(e,t){return oS((()=>{const n=kI(t,Uj(),Number.MAX_VALUE),r=I_(CC(1,n)),a=kI(e,Uj(),Number.MAX_VALUE),s=I_(CC(1,a));return G_(Qj($C(r,s)),-1)}))}function Nz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oS((()=>{if(n)t=qO(t);else{const e=i_(t,t.shape.length-1,!0);t=EC(t,e)}return t=kI(t,Uj(),1-Uj()),RT(i_(IC(kC(e,"float32"),I_(t)),t.shape.length-1))}))}function Sz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oS((()=>{const r=kC(g_(function(e){const t=[Fj(e.shape)];return aI(e,t)}(e)),"int32"),a=(t=kI(t,Uj(),1-Uj())).shape;return Nz(aI(OT(r,a[a.length-1]),a),t,n)}))}function Cz(e,t){return oS((()=>{let n;return n=kI(t,Uj(),1-Uj()),n=I_(EC(n,$C(1,n))),G_(function(e,t){if(!cb(e.shape,t.shape))throw new KF("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return oS((()=>{const n=EO(t),r=RT(QC(t));return CC($C(n,IC(t,e)),__(d_(r)))}))}(e,n),-1)}))}function Tz(e,t){return oS((()=>{const n=kI(e,Uj(),1),r=kI(t,Uj(),1);return i_(IC(e,I_(EC(n,r))),-1)}))}function Ez(e,t){return oS((()=>{const n=bz(e,-1),r=bz(t,-1),a=IC(n,r);return RT(i_(a,-1))}))}mz.constructors={};const Iz={meanSquaredError:vz,meanAbsoluteError:xz,meanAbsolutePercentageError:wz,meanSquaredLogarithmicError:kz,squaredHinge:function(e,t){return oS((()=>{const n=rT(0,$C(1,IC(e,t)));return G_(Qj(n),-1)}))},hinge:function(e,t){return oS((()=>{const n=rT(0,$C(1,IC(e,t)));return G_(n,-1)}))},categoricalHinge:function(e,t){return oS((()=>{const n=i_(IC(e,t),-1),r=s_(IC($C(1,e),t),-1);return rT(0,CC(1,$C(r,n)))}))},logcosh:function(e,t){return oS((()=>{const n=Math.log(2),r=$C(t,e),a=$C(CC(r,O_(IC(-2,r))),n);return G_(a,-1)}))},categoricalCrossentropy:Nz,sparseCategoricalCrossentropy:Sz,binaryCrossentropy:Cz,kullbackLeiblerDivergence:Tz,poisson:function(e,t){return oS((()=>{const n=I_(CC(Uj(),t));return G_($C(t,IC(e,n)),-1)}))},cosineProximity:Ez};function _z(e){if("string"===typeof e){if(e in Iz)return Iz[e];let t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new KF(t)}return e}function Oz(e,t){return oS((()=>{const n=IC(.5,tO(t)),r=Wj(b_(t,n),e.dtype);return G_(VI(e,r),-1)}))}function Az(e,t){return oS((()=>Wj(VI(FE(e,-1),FE(t,-1)),"float32")))}function Rz(e,t){return oS((()=>kC(i_(M_(VI(e,1),VI(t,1))),"float32")))}function Dz(e,t){return Cz(e,t)}function Mz(e,t){return e.rank===t.rank&&(e=QO(e,[e.rank-1])),(t=FE(t,-1)).dtype!==e.dtype&&(t=kC(t,e.dtype)),kC(VI(e,t),"float32")}const Pz=Nz,Fz=Sz,jz={binaryAccuracy:Oz,categoricalAccuracy:Az,precision:function(e,t){return oS((()=>{const n=Rz(e,t),r=function(e,t){return oS((()=>kC(i_(M_(VI(e,0),VI(t,1))),"float32")))}(e,t),a=CC(n,r);return kC(GI(b_(a,0),EC(n,a),0),"float32")}))},categoricalCrossentropy:Pz,sparseCategoricalCrossentropy:Fz,mse:vz,MSE:vz,mae:xz,MAE:xz,mape:wz,MAPE:wz,cosine:Ez};function Lz(e){if("string"===typeof e&&e in jz)return jz[e];if("string"!==typeof e&&null!=e)return e;throw new KF("Unknown metric ".concat(e))}function zz(e){if(JF(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;{let t;for(const n of Object.keys(Iz))if(Iz[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(jz))if(jz[n]===e){t=n;break}return void 0!==t?t:e.name}}const Bz=1048576;function Uz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Wz(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>Bz&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(n.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(Bz,"."))}}function Wz(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!Wz(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!Wz(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Vz(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const a=function(e){let t=!0;const n=[],r=[];for(const a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(const a of n){if(a.length>1||1===a.length&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(const a of e.layers){let e=!1;for(const n of a.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),s=["Layer (type)","Input Shape","Output shape","Param #"];let o;if(a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!a){s.push("Receives inputs"),o=[];for(const t in e.nodesByDepth)o.push(...e.nodesByDepth[t])}r("_".repeat(t)),Gz(s,n,r),r("=".repeat(t));const i=e.layers;for(let u=0;u<i.length;++u)a?Hz(i[u],n,r):qz(i[u],n,o,r),r((u===i.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const c=function(e){let t;t=null!=e.collectedTrainableWeights?OL(e.collectedTrainableWeights):OL(e.trainableWeights);return t}(e),l=OL(e.nonTrainableWeights);r("Total params: ".concat(c+l)),r("Trainable params: ".concat(c)),r("Non-trainable params: ".concat(l)),r("_".repeat(t))}function Gz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Hz(e,t,n){let r,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(z6){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(z6){r="multiple"}const s=e.name,o=e.getClassName();Gz(["".concat(s," (").concat(o,")"),a,r,e.countParams().toString()],t,n)}function qz(e,t,n,r){let a,s;try{s=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(z6){s="multiple"}try{a=JSON.stringify(e.outputShape)}catch(z6){a="multiple"}const o=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],r=u.tensorIndices[e];o.push("".concat(t,"[").concat(n,"][").concat(r,"]"))}const i=e.name,c=e.getClassName(),l=0===o.length?"":o[0];Gz(["".concat(i," (").concat(c,")"),s,a,e.countParams().toString(),l],t,r);for(let u=1;u<o.length;++u)Gz(["","","","",o[u]],t,r)}function Kz(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function Xz(e,t){if(null===e)return null;if("string"===typeof e)return rj(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];Kz(t,a,r)?n.push(r):n.push(Xz(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=rj(n);t[e]=Xz(r,e)}}return t}}function Yz(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return nj(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];Kz(t,a,r)?n.push(r):n.push(Yz(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],a=nj(n);t[a]="name"!==n&&"className"!==n||"string"!==typeof r?Yz(r,n):r}return t}}const Zz="4.19.0";class $z extends BL{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=vj(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],lj(this.inputs).length!==this.inputs.length)throw new KF("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map((e=>e.name))));lj(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map((e=>e.name)))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;JF(0===t,"input layer has >1 nodes"),JF(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof WL))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(y," (0-based) originates ")+"from layer type ".concat(t.getClassName(),"."));this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},a={},s={},o=[],i=(e,t,n,r,a,c)=>{null!=r&&null!=a&&null!=c||(r=e.sourceLayer,a=e.nodeIndex,c=e.tensorIndex);const l=r.inboundNodes[a];if(-1!==n.indexOf(l))throw new qF("The tensor ".concat(e.name,' at layer "').concat(r.name,'" ')+"is part of a cycle.");if(-1!==t.indexOf(l))return;this.containerNodes.add($z.nodeKey(r,a)),r.id in s||(s[r.id]=Object.keys(s).length),-1===n.indexOf(l)&&n.push(l);const u=l.inboundLayers.length;for(let s=0;s<u;s++){const e=l.inputTensors[s],r=l.inboundLayers[s],a=l.nodeIndices[s],o=l.tensorIndices[s];i(e,t,n,r,a,o)}for(t.push(l);n.indexOf(l)>=0;)n.splice(n.indexOf(l),1);o.push(l)},c=[],l=[];for(const y of this.outputs)i(y,c,l);const u=o.slice().reverse();for(const y of u){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const s=null==r[y.outboundLayer.id]?0:r[y.outboundLayer.id];e=Math.max(e,s),r[y.outboundLayer.id]=e,a[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let r=0;r<y.inboundLayers.length;r++){const a=y.inboundLayers[r],s=y.nodeIndices[r],o=a.inboundNodes[s],i=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(e+1,i),n[o.id]=o}}const d={};for(const y in t){const e=t[y];e in d||(d[e]=[]),d[e].push(n[y])}const p={};for(const y in r){const e=r[y];e in p||(p[e]=[]),p[e].push(a[y])}let h=Object.keys(p).map((e=>parseInt(e,10))).sort(cj);this.layers=[];for(const y of h){const e=p[y];e.sort(((e,t)=>{const n=s[e.id],r=s[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof $z&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=p,h=Object.keys(d).map((e=>parseInt(e,10))).sort(cj);const f=this.inputs.slice(),m=[];for(const y of h)for(const e of d[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new qF("Graph disconnected: cannot obtain value for tensor ".concat(n)+' at layer "'.concat(t.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(m));for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new qF('The name "'.concat(y,'" is used ').concat(e," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new LL({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new KF("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const a=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);a&&this.parseWeights(e);for(const o of this.layers)for(const[e,t]of o.weights.entries()){const s=a?"".concat(t.name.split("/").slice(0,-1).join("/")+"/").concat(e):t.originalName;if(null!=n[s])throw new KF("Duplicate weight name: ".concat(s));n[s]=t,r++}const s=[];for(const o in e){let r=o;if(null==n[o]){const e=o.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])s.push([n[r],e[o]]);else if(t)throw new KF("Provided weight data has no target variable: ".concat(o));delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new KF("".concat(e.length," of ").concat(r," weights are not set: ")+"".concat(e))}ML(s)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],a=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");a!==t&&(e[a]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(Zz),t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Yz(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return oS((()=>{e=tj(e);const n=new VL;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return qL(this.outputs,n,t)}))}computeMask(e,t){return oS((()=>{let n;return e=tj(e),n=null==t?$F(null,e.length):tj(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=EL(e);if(t.length!==this.inputLayers.length)throw new KF("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const n={};for(let o=0;o<t.length;o++){const e=this.inputLayers[o],r=t[o];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(cj);if(r.length>1)for(const o of r){const e=this.nodesByDepth[o];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let o=0;o<t.inboundLayers.length;o++){const e=t.inboundLayers[o],a=t.nodeIndices[o],s=t.tensorIndices[o],i=n["".concat(e.name,"_").concat(a,"_").concat(s)];r.push(i)}const a=EL(e.computeOutputShape(ej(r))),s=e.inboundNodes.indexOf(t);for(let t=0;t<a.length;t++){n["".concat(e.name,"_").concat(s,"_").concat(t)]=a[t]}}}const a=[],s=[];for(let o=0;o<this.outputLayers.length;o++){const e=this.outputLayers[o],t=this.outputLayersNodeIndices[o],n=this.outputLayersTensorIndices[o],r="".concat(e.name,"_").concat(t,"_").concat(n);s.push(r)}for(let o=0;o<s.length;o++){const e=s[o];JF(e in n),a.push(n[e])}return ej(a)}runInternalGraph(e,t){null==t&&(t=$F(null,e.length));const n={};for(let i=0;i<this.inputs.length;++i){const r=this.inputs[i],a=e[i],s=t[i];n[r.id]=[a,s]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(cj);for(const i of r){const e=this.nodesByDepth[i];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,a=t.outputTensors,s=new Array;for(const t of r)t.id in n&&s.push(n[t.id]);if(s.length===r.length){let r,o,i,c,l={};if(null!=t.callArgs&&(l=t.callArgs),1===s.length){const[t,n]=s[0];null==l.mask&&(l.mask=n),i=tj(e.call(t,l)),c=tj(e.computeMask(t,n)),r=[t],o=[n]}else r=s.map((e=>e[0])),o=s.map((e=>e[1])),null==l.mask&&(l.mask=o),i=tj(e.call(r,l)),c=tj(e.computeMask(r,o));if(e.activityRegularizer)throw new XF("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<a.length;++e){const t=a[e],r=i[e],s=c[e];n[t.id]=[r,s]}}}}const a=[],s=[],o=[];for(const i of this.outputs){JF(i.id in n,"Could not compute output ".concat(i.name," : ").concat(i.id));const[e,t]=n[i.id];o.push(e.shape),a.push(e),s.push(t)}return[a,s,o]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof $z?1:0;for(let e=0;e<r.inboundNodes.length;e++){const a=$z.nodeKey(r,e);this.containerNodes.has(a)&&(t[a]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new KF("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new KF("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new KF("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return oS((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=$z.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const s of this.layers){const e=s.getClassName(),r=s.getConfig(),a=[];for(let n=0;n<s.inboundNodes.length;n++){const e=s.inboundNodes[n],r=$z.nodeKey(s,n);let o={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),o=e.callArgs}catch(z6){console.warn("Layer ".concat(s.name," was passed ")+"non-serializable keyword arguments: "+"".concat(e.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),o={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const a=e.inboundLayers[r],s=e.nodeIndices[r],i=e.tensorIndices[r];let c=t[$z.nodeKey(a,s)];null==c&&(c=0),n.push([a.name,c,i,o])}a.push(n)}}}const o={};o.name=s.name,o.className=e,o.config=r,o.inboundNodes=a,n.push(o)}e.layers=n;const r=[];for(let s=0;s<this.inputLayers.length;s++){const e=this.inputLayers[s],n=this.inputLayersNodeIndices[s],a=$z.nodeKey(e,n);if(!this.containerNodes.has(a))continue;let o=t[a];null!==o&&void 0!==o||(o=0);const i=this.inputLayersTensorIndices[s];r.push([e.name,o,i])}e.inputLayers=r;const a=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],n=this.outputLayersNodeIndices[s],r=$z.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let o=t[r];null!==o&&void 0!==o||(o=0);const i=this.outputLayersTensorIndices[s];a.push([e.name,o,i])}return e.outputLayers=a,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},a={};function s(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){const n=[];let a;for(const o of t){const i=o[0],c=o[1],l=o[2];if(a=null==o[3]?{}:o[3],!(i in r))return void s(e,t);const u=r[i];if(u.inboundNodes.length<=c)return void s(e,t);const d=u.inboundNodes[c];n.push(d.outputTensors[l])}n.length>0&&e.apply(ej(n),a)}function i(e){const a=e.name,o=yz(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new KF("Corrupted configuration, expected array for nodeData: ".concat(e));s(o,e)}))}const c=t.name,l=t.layers;for(const f of l)i(f);for(;!uj(a);)for(const e of l){const t=r[e.name];if(t.name in a){const e=a[t.name];delete a[t.name];for(const n of e)o(t,n)}}const u=[],d=[],p=t.inputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];JF(e in r);const a=r[e].inboundNodes[t].outputTensors;u.push(a[n])}const h=t.outputLayers;for(const f of h){const e=f[0],t=f[1],n=f[2];JF(e in r);const a=r[e].inboundNodes[t].outputTensors;d.push(a[n])}return new e({inputs:u,outputs:d,name:c})}get stateful(){if(this._stateful)throw new KF("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){oS((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function Jz(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function Qz(e,t){return Jz(e,t,"classWeight")}async function eB(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=oS((()=>{if(1===e.shape.length)return NC(e);if(2===e.shape.length){if(e.shape[1]>1){return FE(e,1)}if(1===e.shape[1])return aI(e,[e.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(e.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(e.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),r=Array.from(await t.data());iS(t);const a=[];return r.forEach((e=>{if(null==n[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");a.push(n[e])})),aA(a,"float32")}return null}function tB(e,t){return IC(e,t)}function nB(e,t){let n,r;const a=t;n=a.xs,r=a.ys,nb(null!=n&&null!=r,(()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)));const s=rB("input",e.inputNames,n),o=rB("output",e.outputNames,r),i=s[0].shape[0];nb(s.length===e.inputs.length,(()=>"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(s.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")"))),nb(o.length===e.outputs.length,(()=>"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(o.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")));for(let c=0;c<s.length;c++)nb(s[c].shape[0]===i,(()=>"Batch size mismatch: input "+"".concat(e.inputNames[c]," has ").concat(s[c].shape[0],"; ")+"expected  ".concat(i," based on input ").concat(e.inputNames[0],".")));for(let c=0;c<o.length;c++)nb(o[c].shape[0]===i,(()=>"Batch size mismatch: output "+"".concat(e.outputNames[c]," has ").concat(o[c].shape[0],"; ")+"expected  ".concat(i," based on input ").concat(e.inputNames[0],".")));return{xs:s,ys:o}}function rB(e,t,n){if(n instanceof dN)return[n];if(Array.isArray(n))return nb(n.length===t.length,(()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,"."))),n;{const r=[];for(const a of t){if(null==n[a])throw new KF("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(a,"'."));r.push(n[a])}return r}}async function aB(e,t,n){const r=null!=n.batchesPerEpoch;if(nb(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),nb(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),nb(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs))),nb(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch))),nb(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=null!=n.validationData;let s,o;if(a)if(sB(n.validationData))nb(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches)));else{const e=function(e){if(3===e.length)throw new XF("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);s=e.xs,o=e.ys}const i=e.makeTrainFunction(),c=e.getDedupedMetricsNames();let l;l=a?c.slice().concat(c.map((e=>"val_"+e))):c.slice();const u=fz(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:p,history:h}=gz(u,d,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,a,l);p.setModel(e),e.history=h,await p.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const l={};await p.onEpochBegin(f);let u=0,d=0;for(r||(m=await t.iterator());!r||u<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(u," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:a}=nB(e,t.value),s={};s.batch=d,s.size=r[0].shape[0],await p.onBatchBegin(d,s);const o=[];if(null!=n.classWeight){const t=Qz(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)o.push(await eB(a[e],null,t[e]))}const l=r.concat(a).concat(o),h=i(l);iS(l);for(let e=0;e<c.length;++e){const t=c[e],n=h[e];s[t]=n,cS(n)}await p.onBatchEnd(d,s),iz(s),d++,u++}if(r?u>=n.batchesPerEpoch:t.done){if(a){let t;t=sB(n.validationData)?tj(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):tj(e.evaluate(s,o,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)l["val_".concat(e.metricsNames[n])]=t[n]}break}if(e.stopTraining_)break}if(await p.onEpochEnd(f,l),f++,e.stopTraining_)break}return await p.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function sB(e){return"function"===typeof e.iterator}function oB(e){nb(e>0&&Number.isInteger(e),(()=>"batchSize is required to be a positive integer, but got ".concat(e)))}function iB(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>Gj(e,t,n-t))):Gj(e,t,n-t)}function cB(e,t){return oS((()=>null==e?null:Array.isArray(e)?e.map((e=>cB(e,t))):Jj(e,"int32"===t.dtype?t:kC(t,"int32"))))}function lB(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function uB(e){const t=[];e instanceof dN&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(Vj(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function dB(e,t){if(null==e)return;const n=[];if(t instanceof dN)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const a in t){const e=t[a];n.push(e.id)}const r=[];if(e instanceof dN)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const a in e){const t=e[a];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function pB(e){return Array.isArray(e)}function hB(e){return!function(e){return e instanceof dN}(e)&&!pB(e)}function fB(e,t,n){let r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(pB(e)&&e.length>0)t=!0;else if(hB(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new KF("Error when checking model ".concat(s," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((e=>null));if(hB(e)){r=[];for(const n of t){if(null==e[n])throw new KF('No data provided for "'.concat(n,'". Need data for each key in: ')+"".concat(t));r.push(e[n])}}else if(pB(e)){if(e.length!==t.length)throw new KF("Error when checking model ".concat(s,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new KF("The model ".concat(s," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=uB(r),null!=n)for(let o=0;o<t.length;++o){if(null==n[o])continue;const e=r[o];if(e.shape.length!==n[o].length)throw new KF("Error when checking ".concat(s,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s). but got array with ")+"shape ".concat(e.shape));for(let t=0;t<n[o].length;++t){if(0===t&&!a)continue;const r=e.shape[t],i=n[o][t];if(null!=i&&i>=0&&r!==i)throw new KF("".concat(s," expected a batch of elements where each ")+"example has shape [".concat(n[o].slice(1,n[o].length),"] ")+"(i.e.,tensor shape [*,".concat(n[o].slice(1,n[o].length),"])")+" but the ".concat(s," received an input with ").concat(e.shape[0])+" examples, each with shape [".concat(e.shape.slice(1,e.shape.length),"]")+" (tensor shape [".concat(e.shape,"])"))}}return r}function mB(e,t,n){let r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new KF("Error when checking model ".concat(s,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new KF("The model expects ".concat(t.length," ").concat(s," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(let o=0;o<t.length;++o){if(null==n[o])continue;const e=r[o];if(e.shape.length!==n[o].length)throw new KF("Error when checking ".concat(s,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(e.shape)));for(let r=0;r<n[o].length;++r){if(0===r&&!a)continue;const i=e.shape[r],c=n[o][r];if(null!=c&&c!==i)throw new KF("Error when checking ".concat(s,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(e.shape),"."))}}}class gB extends $z{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new KF("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Vz(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>WR.adagrad(.01),Adadelta:()=>WR.adadelta(1,.95,Uj()),Adam:()=>WR.adam(.001,.9,.999,Uj()),Adamax:()=>WR.adamax(.002,.9,.999,Uj(),0),RMSProp:()=>WR.rmsprop(.001,.9,0,Uj()),SGD:()=>WR.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new KF("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof qC))throw new KF("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new KF("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));const n=e.loss;t=n.map((e=>_z(e)))}else{const n=_z(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new KF('Unknown entry in loss dictionary: "'.concat(t,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const n of this.outputNames)null==e.loss[n]&&console.warn('Output "'.concat(n,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(n," during training")),t.push(_z(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let s=0;s<this.outputs.length;++s){const e=this.internalOutputShapes[s],t=this.outputNames[s];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[s])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Aj("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),a=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Aj("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,s;for(const o of t){if("string"===typeof o&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(o)){const t=this.internalOutputShapes[e];let a;1===t[t.length-1]||this.lossFunctions[e]===Cz?-1!==["accuracy","acc"].indexOf(o)?r=Oz:-1!==["crossentropy","ce"].indexOf(o)&&(r=Dz):this.lossFunctions[e]===Sz?-1!==["accuracy","acc"].indexOf(o)?r=Mz:-1!==["crossentropy","ce"].indexOf(o)&&(r=Fz):-1!==["accuracy","acc"].indexOf(o)?r=Az:-1!==["crossentropy","ce"].indexOf(o)&&(r=Pz),-1!==["accuracy","acc"].indexOf(o)?a="acc":-1!==["crossentropy","ce"].indexOf(o)&&(a="ce"),s=r,n=""+a}else{const e=Lz(o);s=e,n=""+zz(o)}let t;Aj(n,(()=>{t=s})),a(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;oB(r);const a=this.standardizeUserDataXY(e,t,!0,r);try{const e=a[0].concat(a[1]);this.makeTestFunction();const t=this.testFunction;return ej(this.testLoop(t,e,r,n.verbose,n.steps))}finally{dB(a[0],e),dB(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,a=e.testFunction;let s=[];if(n.verbose>0)throw new XF("Verbose mode is not implemented yet.");nb(!r||n.batches>0&&Number.isInteger(n.batches),(()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches))));const o="function"===typeof t.next?t:await t.iterator();let i=0,c=0;for(;!r||c<n.batches;){const t=await o.next();if(s=oS((()=>{if(t.value){const{xs:n,ys:r}=nB(e,t.value),o=n.concat(r),l=oS((()=>a(o)));if(iS(o),0===c)for(let e=0;e<l.length;++e)s.push(zC(0));const u=o[0].shape[0];for(let e=0;e<l.length;++e){const t=l[e],n=s[e];s[e]=oS((()=>CC(s[e],IC(u,t)))),c>0&&iS(n)}iS(l),i+=u,++c}return s})),t.done){r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let l=0;l<s.length;++l){const e=s[l];s[l]=EC(s[l],i),iS(e)}return ej(s)}(this,e,t)}checkNumSamples(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new KF("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new KF("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new KF("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),s=new VL;if(e instanceof dN&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new KF("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let t=0;t<this.inputs.length;++t)s.add(this.inputs[t],e[t])}else for(const i of this.inputs){const t=e[i.name];if(null==t)throw new KF("No value is provided for the model's input ".concat(i.name));s.add(i,t)}const o=qL(a,s);return n?o:o[0]}retrieveSymbolicTensors(e){const t=$F(null,e.length);let n=e.length;for(const r of this.layers){const a=Array.isArray(r.output)?r.output:[r.output],s=a.map((e=>e.name));for(let r=0;r<e.length;++r){const o=s.indexOf(e[r]);if(-1!==o&&(t[r]=a[o],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new KF("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(n)))}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oS((()=>{const r=this.checkNumSamples(e);if(n)throw new XF("Verbose predictLoop() is not implemented yet.");const a=lB(r,t),s=this.outputs.map((e=>[]));for(let t=0;t<a.length;++t){oS((()=>{const n=a[t][0],r=a[t][1],s=iB(e,n,r),o=[];if(Array.isArray(s))for(let e=0;e<s.length;++e)o.push({key:this.inputs[e],value:s[e]});else o.push({key:this.inputs[0],value:s});const i=new VL(o);return qL(this.outputs,i)})).forEach(((e,t)=>s[t].push(e)))}return ej(s.map((e=>iI(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=uB(e);mB(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return oB(e),this.predictLoop(n,e)}finally{dB(n,e)}}predictOnBatch(e){mB(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new qF("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let a=0;a<this.feedOutputShapes.length;++a){const e=this.feedOutputShapes[a];this.feedLossFns[a]===Sz?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t,n){const r=lj(e.map((e=>e.shape[0])));r.sort();const a=lj(t.map((e=>e.shape[0])));if(a.sort(),r.length>1)throw new KF("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((e=>e.shape)))));if(a.length>1)throw new KF("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((e=>e.shape)))));if(r.length>0&&a.length>0&&!cb(r,a))throw new KF("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}(e=fB(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=fB(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[vz,Cz,Nz];for(let a=0;a<e.length;++a){const s=e[a],o=t[a],i=n[a];if(null!=o){if(o===Nz&&1===s.shape[s.shape.length-1])throw new KF("You are passing a target array of shape ".concat(s.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o)){const e=s.shape.slice(1),t=i.slice(1);for(let n=0;n<e.length;++n){const r=e[n],a=t[n];if(null!=a&&r!==a)throw new KF("A target Tensor with shape ".concat(s.shape," was passed for an ")+"output of shape ".concat(i,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new KF("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}async standardizeUserData(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0;const[o,i]=this.standardizeUserDataXY(e,t,a,s);if(null!=n)throw new Error("sample weight is not supported yet.");let c=null;if(null!=r){const e=Qz(r,this.outputNames);c=[];for(let t=0;t<e.length;++t)c.push(await eB(i[t],null,e[t]))}return[o,i,c]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0;return oS((()=>{const s=this.checkNumSamples(t,n,a,"steps"),o=[];if(r>0)throw new XF("Verbose mode is not implemented yet.");if(null!=a)throw new XF("steps mode in testLoop() is not implemented yet");{const r=lB(s,n),a=aA(zj(0,s));for(let n=0;n<r.length;++n){const s=r[n][0],i=r[n][1],c=Gj(a,s,i-s),l=cB(t,c),u=e(l);if(0===n)for(let e=0;e<u.length;++e)o.push(zC(0));for(let e=0;e<u.length;++e){const t=u[e];o[e]=CC(o[e],IC(i-s,t))}}for(let e=0;e<o.length;++e)o[e]=EC(o[e],s)}return o}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let a=r;if(QF(e,r)>1){const t=QF(e.slice(0,n),r);a+="_".concat(t)}t.push(a)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),s=[],o=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const o=new VL(e),i=qL(this.outputs,o,{training:!0});let c;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],i[n]);null!=a[n]&&(e=tB(e,a[n]));const s=G_(e);t.push(s),c=0===n?e:CC(c,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],a=this.metricsTensors[n][1];e=G_(t(r[a],i[a]))}cS(e),s.push(e)}return c=G_(c),this.calculateLosses().forEach((e=>{c=CC(c,e)})),c}),!0,o)].concat(s)}}makeTestFunction(){this.testFunction=e=>oS((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let e=0;e<this.inputs.length;++e)s.push({key:this.inputs[e],value:r[e]});const o=new VL(s),i=qL(this.outputs,o);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],s=G_(r(a[e],i[e]));n=0===e?s:CC(n,s),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],s=G_(n(a[r],i[r]));t.push(s)}return t}))}async fit(e,t){let n,r,a,s,o,i,c,l,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const p=null==d.batchSize?32:d.batchSize;oB(p);const h=!1,f=await this.standardizeUserData(e,t,d.sampleWeight,d.classWeight,h,p);n=f[0],r=f[1],u=f[2];let m,g=!1;if(null!=d.validationData&&d.validationData.length>0){if(g=!0,2!==d.validationData.length)throw 3===d.validationData.length?new XF("validationData including sample weights is not supported yet."):new KF("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(d.validationData," is invalid."));o=d.validationData[0],i=d.validationData[1];const e=!0,t=await this.standardizeUserData(o,i,null,null,e,p);c=t[0],l=t[1],m=c.concat(l)}else if(null!=d.validationSplit&&d.validationSplit>0&&d.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-d.validationSplit)),t=n[0].shape[0];c=iB(n,e,t),a=n,n=iB(n,0,e),l=iB(r,e,t),s=r,r=iB(r,0,e),m=c.concat(l)}else null!=d.validationSteps&&(g=!0);const y=n.concat(r).concat(u);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let x,w;g?(this.makeTestFunction(),x=this.testFunction,w=v.slice().concat(v.map((e=>"val_"+e)))):(x=null,m=[],w=v.slice());const k=fz(d.callbacks,d.yieldEvery);return await this.fitLoop(b,y,v,p,d.epochs,d.verbose,k,x,m,d.shuffle,w,d.initialEpoch,null,null)}finally{this.isTraining=!1,dB(n,e),dB(r,t),dB(a,e),dB(s,t),dB(c,o),dB(l,i),null!=u&&iS(u)}}async fitLoop(e,t,n,r,a,s,o,i,c,l,u,d,p,h){null==r&&(r=32),null==a&&(a=1),null==l&&(l=!0),null==d&&(d=0);let f=!1;if(null!=i&&null!=c&&(f=!0),null!=h&&(f=!0,null==p))throw new KF("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,p,"steps_per_epoch");let g;null!=m&&(g=zj(0,m)),null==s&&(s=1);const{callbackList:y,history:b}=gz(o,s,a,d,m,p,r,f,u);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let v=d;v<a;++v){await y.onEpochBegin(v);const a={};if(null!=p)throw new XF("stepsPerEpoch mode is not implemented yet.");{if("batch"===l)throw new XF("batch shuffling is not implemneted yet");l&&Xy(g);const s=aA(g),o=lB(m,r);for(let l=0;l<o.length;++l){const u={};if(await y.onBatchBegin(l,u),oS((()=>{const d=o[l][0],p=o[l][1],h=Gj(s,d,p-d);u.batch=l,u.size=p-d;const m=cB(t,h),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];u[t]=r,cS(r)}if(l===o.length-1&&f){const e=this.testLoop(i,c,r);for(let t=0;t<n.length;++t){const r=n[t],s=e[t];cS(s),a["val_"+r]=s}}})),await y.onBatchEnd(l,u),iz(u),this.stopTraining_)break}s.dispose()}if(await y.onEpochEnd(v,a),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return aB(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],a=n[1],s=this.makeTrainFunction()(r.concat(a)),o=[];for(const i of s){const e=await i.data();o.push(e[0])}return iS(s),dB(n[0],e),dB(n[1],t),ej(o)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n);for(let s=0;s<r.length;++s)n&&!r[s].trainable||t.push({name:r[s].originalName,tensor:a[s]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=aS().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-aS().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=nj(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>nj(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=nj(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[nj(zz(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>nj(zz(e))));{const e={};for(const t in this.metrics)e[t]=nj(zz(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=yz(Xz(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=rj(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>rj(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=rj(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>rj(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=rj(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=BS(e);if(0===t.length)throw new KF("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new KF("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new KF("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await xS(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(Zz),convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){r.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:a}=await xS(await this.optimizer.getWeights(),e);n.specs.push(...a),n.data=OS([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;Uz(this.userDefinedMetadata,this.name,e),r.userDefinedMetadata=this.userDefinedMetadata}return r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){Uz(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}gB.className="Model",GC(gB);class yB extends gB{}yB.className="Functional",GC(yB);class bB extends gB{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:vj("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new KF("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const t=e instanceof bB||e instanceof gB;let n;if(t){if(n=e,1!==n.outputs.length)throw new KF("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new KF("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new KF("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new KF("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new WL({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new KF("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new KF("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=UL(this.outputs[0])}this.inboundNodes=[],new LL({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:$F(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(_L(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new gB({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new qF("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new qF("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new qF("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new qF("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new KF("Legacy serialization format not supported yet.");n=t}else nb(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,a=t;const s=new e(a);if(!(s instanceof bB))throw new XF("Sequential.fromConfig called on non-Sequential input: ".concat(s));for(const o of n){const e=yz(o,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),s.add(e)}return s}set stopTraining(e){if(null==this.model)throw new KF("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new KF("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}bB.className="Sequential",GC(bB);class vB extends WC{getConfig(){return{}}}class xB extends vB{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new XF("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return XI(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}xB.className="elu",GC(xB);class wB extends vB{apply(e){return FO(e)}}wB.className="selu",GC(wB);class kB extends vB{apply(e){return EO(e)}}kB.className="relu",GC(kB);class NB extends vB{apply(e){return oS((()=>X_(6,EO(e))))}}NB.className="relu6",GC(NB);class SB extends vB{apply(e){return e}}SB.className="linear",GC(SB);class CB extends vB{apply(e){return cI(e)}}CB.className="sigmoid",GC(CB);class TB extends vB{apply(e){return function(e){return oS((()=>{const t=CC(.5,IC(.2,e));return kI(t,0,1)}))}(e)}}TB.className="hardSigmoid",GC(TB);class EB extends vB{apply(e){return O_(e)}}EB.className="softplus",GC(EB);class IB extends vB{apply(e){return function(e){return oS((()=>EC(e,CC(QC(e),1))))}(e)}}IB.className="softsign",GC(IB);class _B extends vB{apply(e){return uI(e)}}_B.className="tanh",GC(_B);class OB extends vB{apply(e){return qO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}OB.className="softmax",GC(OB);class AB extends vB{apply(e){return R_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}AB.className="logSoftmax",GC(AB);class RB extends vB{apply(e){return oS((()=>oS((()=>{const t=Math.sqrt(2),n=IC(.5,CC(1,ZI(EC(e,t))));return IC(e,n)}))))}}RB.className="gelu",GC(RB);class DB extends vB{apply(e){return oS((()=>IC(.5,IC(e,CC(1,uI(IC(_C(EC(2,Math.PI)),CC(e,IC(.044715,ZC(e,3))))))))))}}DB.className="gelu_new",GC(DB);class MB extends vB{apply(e){return oS((()=>IC(e,uI(O_(e)))))}}MB.className="mish",GC(MB);class PB extends vB{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return oS((()=>IC(cI(IC(e,t)),e)))}}function FB(e){return e.getClassName()}function jB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ij(e,VC.getMap().classNameMap,t,"activation")}function LB(e){if(null==e){const e={className:"linear",config:{}};return jB(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},jB(t)}return e instanceof vB?e:jB(e)}function zB(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}PB.className="swish",GC(PB);class BB extends WC{}class UB extends BB{constructor(e){super(),zB(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return oS((()=>{let t=H_([1]);return this.hasL1&&(t=CC(t,i_(IC(this.l1,QC(e))))),this.hasL2&&(t=CC(t,i_(IC(this.l2,Qj(e))))),aI(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}UB.className="L1L2",GC(UB);const WB={l1l2:"L1L2"};function VB(e){return sj(e)}function GB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ij(e,VC.getMap().classNameMap,t,"regularizer")}function HB(e){if(null==e)return null;if("string"===typeof e){return GB({className:e in WB?WB[e]:e,config:{}})}return e instanceof BB?e:GB(e)}class qB extends BL{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=IL(e);let n=EO(e);return null!=this.maxValue&&(n=kI(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}qB.className="ReLU",GC(qB);class KB extends BL{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=IL(e);return N_(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}KB.className="LeakyReLU",GC(KB);class XB extends BL{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=CL(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=HB(e.alphaRegularizer),this.alphaConstraint=sz(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new KF("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=_L(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new PL({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=IL(e),uO(e,this.alpha.read())}getConfig(){const e={alphaInitializer:SL(this.alphaInitializer),alphaRegularizer:VB(this.alphaRegularizer),alphaConstraint:rz(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}XB.className="PReLU",GC(XB);class YB extends BL{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new XF("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=IL(e);return XI(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}YB.className="ELU",GC(YB);class ZB extends BL{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=IL(e);return IC(n,kC(b_(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}ZB.className="ThresholdedReLU",GC(ZB);class $B extends BL{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new OB).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return oS((()=>{let n=IL(e);const r=t.mask;if(null!=r){const e=IC($C(q_(n.shape),kC(r,n.dtype)),zC(-1e9));n=CC(n,e)}return this.axis instanceof Array?this.axis.length>1?d_($C(n,D_(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function JB(e,t,n){if("number"===typeof e)return $F(e,t);if(e.length!==t)throw new KF("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(let a=0;a<t;++a){const s=e[a];if((r=s)!==parseInt(r.toString(),10))throw new KF("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(s))}return e;var r}function QB(e,t,n,r){if(null==e)return e;let a;return a="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((a+r-1)/r)}function eU(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Lj([n-t,0]);else{if("same"!==r)throw new KF("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function tU(e,t){return oS((()=>(Tj(t),"channelsFirst"===t?MT(e,[0,2,3,1]):e)))}function nU(e,t){return oS((()=>(Tj(t),"channelsFirst"===t?MT(e,[0,2,3,4,1]):e)))}function rU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return oS((()=>{if(null==s&&(s="channelsLast"),Tj(s),3!==e.shape.length)throw new KF("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new KF("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new KF("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if("channelsFirst"===s&&(e=MT(e,[0,2,1])),"causal"===a)throw new XF("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let i=II(e,t,r,"same"===a?"same":"valid","NWC",o);return null!=n&&(i=tL(i,n)),i}))}function aU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return oS((()=>{if(null==s&&(s="channelsLast"),Tj(s),3!==e.rank&&4!==e.rank)throw new KF("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new KF("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));let c=tU(e,s);if("causal"===a)throw new XF("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=DA({x:c,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:i}),"channelsFirst"===s&&(c=MT(c,[0,3,1,2])),c}))}function sU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return oS((()=>{if(null==s&&(s="channelsLast"),Tj(s),4!==e.rank&&5!==e.rank)throw new KF("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new KF("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));let i=nU(e,s);if("causal"===a)throw new XF("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return i=AI(i,t,r,"same"===a?"same":"valid","NDHWC",o),null!=n&&(i=tL(i,n)),"channelsFirst"===s&&(i=MT(i,[0,4,1,2,3])),i}))}$B.className="Softmax",GC($B);class oU extends BL{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",oU.verifyArgs(t),this.rank=e,hj(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new XF("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=JB(t.kernelSize,e,"kernelSize"),this.strides=JB(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Ej(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Tj(this.dataFormat),this.activation=LB(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=CL(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=sz(t.biasConstraint),this.biasRegularizer=HB(t.biasRegularizer),this.activityRegularizer=HB(t.activityRegularizer),this.dilationRate=JB(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new KF("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new KF("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new KF("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}static verifyArgs(e){if(JF("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!pj(e.kernelSize,"number",1,3))throw new KF("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:FB(this.activation),useBias:this.useBias,biasInitializer:SL(this.biasInitializer),biasRegularizer:VB(this.biasRegularizer),activityRegularizer:VB(this.activityRegularizer),biasConstraint:rz(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class iU extends oU{constructor(e,t){super(e,t),this.kernel=null,iU.verifyArgs(t),this.filters=t.filters,hj(this.filters,"filters"),this.kernelInitializer=CL(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=sz(t.kernelConstraint),this.kernelRegularizer=HB(t.kernelRegularizer)}build(e){e=_L(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new KF("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return oS((()=>{let t;e=IL(e);const n=null==this.bias?null:this.bias.read(),r=mj(this.activation.getClassName());if(null!=r&&2===this.rank)t=aU(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=rU(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=aU(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new XF("convolutions greater than 3D are not implemented yet.");t=sU(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=_L(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let a=0;a<n.length;++a){const e=QB(n[a],this.kernelSize[a],this.padding,this.strides[a],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:SL(this.kernelInitializer),kernelRegularizer:VB(this.kernelRegularizer),kernelConstraint:rz(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new KF("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class cU extends iU{constructor(e){super(2,e),cU.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!pj(e.kernelSize,"number",1,2))throw new KF("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}cU.className="Conv2D",GC(cU);class lU extends iU{constructor(e){super(3,e),lU.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new KF("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}lU.className="Conv3D",GC(lU);class uU extends cU{constructor(e){if(super(e),this.inputSpec=[new PL({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new KF("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(4!==(e=_L(e)).length)throw new KF("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new KF("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new PL({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return oS((()=>{let t=IL(e);if(4!==t.shape.length)throw new KF("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let a,s;"channelsFirst"===this.dataFormat?(a=2,s=3):(a=1,s=2);const o=n[a],i=n[s],c=this.kernelSize[0],l=this.kernelSize[1],u=this.strides[0],d=this.strides[1],p=[r,eU(o,u,c,this.padding),eU(i,d,l,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=MT(t,[0,2,3,1]));let h=OI(t,this.kernel.read(),p,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(h=MT(h,[0,3,1,2])),null!=this.bias&&(h=tL(h,this.bias.read(),this.dataFormat)),null!=this.activation&&(h=this.activation.apply(h)),h}))}computeOutputShape(e){const t=(e=_L(e)).slice();let n,r,a;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3):(n=3,r=1,a=2);const s=this.kernelSize[0],o=this.kernelSize[1],i=this.strides[0],c=this.strides[1];return t[n]=this.filters,t[r]=eU(t[r],i,s,this.padding),t[a]=eU(t[a],c,o,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}uU.className="Conv2DTranspose",GC(uU);class dU extends lU{constructor(e){if(super(e),this.inputSpec=[new PL({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new KF("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(5!==(e=_L(e)).length)throw new KF("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new KF("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new PL({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return oS((()=>{let t=IL(e);if(5!==t.shape.length)throw new KF("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let a,s,o;"channelsFirst"===this.dataFormat?(o=2,a=3,s=4):(o=1,a=2,s=3);const i=n[o],c=n[a],l=n[s],u=this.kernelSize[0],d=this.kernelSize[1],p=this.kernelSize[2],h=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,eU(i,h,u,this.padding),eU(c,f,d,this.padding),eU(l,m,p,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=MT(t,[0,2,3,4,1]));let y=DI(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=MT(y,[0,4,1,2,3])),null!==this.bias&&(y=tL(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=_L(e)).slice();let n,r,a,s;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3,s=4):(n=4,r=1,a=2,s=3);const o=this.kernelSize[0],i=this.kernelSize[1],c=this.kernelSize[2],l=this.strides[0],u=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[r]=eU(t[r],l,o,this.padding),t[a]=eU(t[a],u,i,this.padding),t[s]=eU(t[s],d,c,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}dU.className="Conv3DTranspose",GC(dU);class pU extends iU{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new KF("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new KF("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new KF("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(t.padding)));this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=CL(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=HB(t.depthwiseRegularizer),this.depthwiseConstraint=sz(t.depthwiseConstraint),this.pointwiseInitializer=CL(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=HB(t.pointwiseRegularizer),this.pointwiseConstraint=sz(t.pointwiseConstraint)}build(e){if((e=_L(e)).length<this.rank+2)throw new KF("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new KF("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[];for(let o=0;o<this.rank;++o)a.push(1);a.push(n*this.depthMultiplier,this.filters);const s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new PL({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return oS((()=>{let t;if(e=IL(e),1===this.rank)throw new XF("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=MT(e,[0,2,3,1])),t=jO(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=tL(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=MT(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=SL(this.depthwiseInitializer),e.pointwiseInitializer=SL(this.pointwiseInitializer),e.depthwiseRegularizer=VB(this.depthwiseRegularizer),e.pointwiseRegularizer=VB(this.pointwiseRegularizer),e.depthwiseConstraint=rz(this.depthwiseConstraint),e.pointwiseConstraint=rz(this.pointwiseConstraint),e}}pU.className="SeparableConv";class hU extends pU{constructor(e){super(2,e)}}hU.className="SeparableConv2D",GC(hU);class fU extends iU{constructor(e){super(1,e),fU.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!pj(e.kernelSize,"number",1,1))throw new KF("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}fU.className="Conv1D",GC(fU);class mU extends BL{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return oS((()=>{if(e=IL(e),"channelsLast"===this.dataFormat){const t=qj(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return qj(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=qj(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return qj(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}mU.className="Cropping2D",GC(mU);class gU extends BL{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Tj(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,dj(wj,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return oS((()=>{let t=IL(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=MT(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],a="nearest"===this.interpolation?jR.resizeNearestNeighbor(t,[e,r]):jR.resizeBilinear(t,[e,r]);return MT(a,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?jR.resizeNearestNeighbor(t,[e,r]):jR.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}gU.className="UpSampling2D",GC(gU);class yU extends oU{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=CL(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=sz(e.depthwiseConstraint),this.depthwiseRegularizer=HB(e.depthwiseRegularizer)}build(e){if((e=_L(e)).length<4)throw new KF("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new KF("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return oS((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return oS((()=>{null==a&&(a="channelsLast"),Tj(a);let o=tU(e,a);if(4!==e.rank)throw new KF("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new KF("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return o=BI(o,t,n,"same"===r?"same":"valid","NHWC",s),"channelsFirst"===a&&(o=MT(o,[0,3,1,2])),o}))}(e=IL(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=tL(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=_L(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=QB(t,this.kernelSize[0],this.padding,this.strides[0]),s=QB(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,s]:[e[0],a,s,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=SL(this.depthwiseInitializer),e.depthwiseRegularizer=VB(this.depthwiseRegularizer),e.depthwiseConstraint=rz(this.depthwiseRegularizer),e}}function bU(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new KF("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function vU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return oS((()=>{const c=t.shape.length;if(c<3)throw new KF("Input should be at least 3D, but is ".concat(c,"D."));const l=[1,0].concat(zj(2,c));if(t=MT(t,l),null!=s)throw new XF("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&(a=kC(kC(a,"bool"),"float32"),a.rank===c-1&&(a=p_(a,-1)),a=MT(a,l)),r&&(t=_O(t,0),null!=a&&(a=_O(a,0)));const u=[];let d,p=n;const h=t.shape[0],f=fA(t);let m,g;null!=a&&(m=fA(a));for(let t=0;t<h;++t){const n=f[t],r=oS((()=>e(n,p)));if(null==a)d=r[0],p=r[1];else{const e=oS((()=>{const e=m[t],n=$C(tO(e),e);return{output:CC(IC(r[0],e),IC(p[0],n)),newStates:p.map(((t,a)=>CC(IC(r[1][a],e),IC(t,n))))}}));d=e.output,p=e.newStates}i&&u.push(d)}if(i){g=eA(u,1)}return[d,g,p]}))}yU.className="DepthwiseConv2D",GC(yU);class xU extends BL{constructor(e){let t;if(super(e),null==e.cell)throw new KF("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new IU({cells:e.cell}):e.cell,null==t.stateSize)throw new KF("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new PL({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return zj(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){TL(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return oS((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new XF("Constants support is not implemented in RNN yet.");TL(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new PL({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let a;if(this.cell.build(r),a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!cb(this.stateSpec.map((e=>e.shape[e.shape.length-1])),a))throw new KF("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=a.map((e=>new PL({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];oS((()=>{if(!this.stateful)throw new HF("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new KF("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>H_([n,e]))):this.states_=[H_([n,this.cell.stateSize])];else if(null==e)iS(this.states_),null!=this.keptStates&&(iS(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>H_([n,e]))):this.states_[0]=H_([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new KF("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===t?this.keptStates.push(this.states_.slice()):iS(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,s=[n,a];if(!cb(r.shape,s))throw new KF("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(s,", received shape=").concat(r.shape));this.states_[t]=r}}this.states_=this.states_.map((e=>cS(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=bU(e,n,r,this.numConstants);e=a.inputs,n=a.initialState,r=a.constants;let s=[],o=[];if(null!=n){t.initialState=n,s=s.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new PL({shape:e.shape}));o=o.concat(this.stateSpec)}null!=r&&(t.constants=r,s=s.concat(r),this.numConstants=r.length);if(s[0]instanceof FL){const n=[e].concat(s),r=this.inputSpec.concat(o),a=this.inputSpec;this.inputSpec=r;const i=super.apply(n,t);return this.inputSpec=a,i}return super.apply(e,t)}call(e,t){return oS((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let a=null==t?null:t.initialState;e=IL(e),null==a&&(a=this.stateful?this.states_:this.getInitialState(e));const s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==s)throw new KF("RNN Layer has ".concat(s," state(s) but was passed ")+"".concat(a.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:r},i=vU(((e,t)=>{const n=this.cell.call([e].concat(t),o);return[n[0],n.slice(1)]}),e,a,this.goBackwards,n,null,this.unroll,this.returnSequences),c=i[0],l=i[1],u=i[2];this.stateful&&this.resetStates(u,r);const d=this.returnSequences?l:c;return this.returnState?[d].concat(u):d}))}getInitialState(e){return oS((()=>{let t=H_(e.shape);return t=i_(t,[1,2]),t=Vj(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?Yj(t,[1,e]):t)):this.cell.stateSize>1?[Yj(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===xU.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=yz(t.cell,n);return new e(Object.assign(t,{cell:r}))}}xU.className="RNN",GC(xU);class wU extends BL{}class kU extends wU{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,hj(this.units,"units"),this.activation=LB(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=CL(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=CL(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=CL(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=HB(e.kernelRegularizer),this.recurrentRegularizer=HB(e.recurrentRegularizer),this.biasRegularizer=HB(e.biasRegularizer),this.kernelConstraint=sz(e.kernelConstraint),this.recurrentConstraint=sz(e.recurrentConstraint),this.biasConstraint=sz(e.biasConstraint),this.dropout=jj([1,Lj([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=jj([1,Lj([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=_L(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return oS((()=>{if(2!==e.length)throw new KF("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let n=e[1];e=e[0];const r=null!=t.training&&t.training;let a;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=_U({ones:()=>tO(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=_U({ones:()=>tO(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=this.recurrentDropoutMask;a=$j(null!=s?IC(e,s):e,this.kernel.read()),null!=this.bias&&(a=tL(a,this.bias.read())),null!=o&&(n=IC(n,o));let i=CC(a,$j(n,this.recurrentKernel.read()));return null!=this.activation&&(i=this.activation.apply(i)),[i,i]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:FB(this.activation),useBias:this.useBias,kernelInitializer:SL(this.kernelInitializer),recurrentInitializer:SL(this.recurrentInitializer),biasInitializer:SL(this.biasInitializer),kernelRegularizer:VB(this.kernelRegularizer),recurrentRegularizer:VB(this.recurrentRegularizer),biasRegularizer:VB(this.biasRegularizer),activityRegularizer:VB(this.activityRegularizer),kernelConstraint:rz(this.kernelConstraint),recurrentConstraint:rz(this.recurrentConstraint),biasConstraint:rz(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}kU.className="SimpleRNNCell",GC(kU);class NU extends xU{constructor(e){e.cell=new kU(e),super(e)}call(e,t){return oS((()=>{null!=this.cell.dropoutMask&&(iS(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(iS(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return new e(t)}}NU.className="SimpleRNN",GC(NU);class SU extends wU{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new KF("GRUCell does not support reset_after parameter set to true.");this.units=e.units,hj(this.units,"units"),this.activation=LB(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=LB(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=CL(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=CL(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=CL(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=HB(e.kernelRegularizer),this.recurrentRegularizer=HB(e.recurrentRegularizer),this.biasRegularizer=HB(e.biasRegularizer),this.kernelConstraint=sz(e.kernelConstraint),this.recurrentConstraint=sz(e.recurrentConstraint),this.biasConstraint=sz(e.biasConstraint),this.dropout=jj([1,Lj([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=jj([1,Lj([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=_L(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return oS((()=>{if(2!==e.length)throw new KF("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=_U({ones:()=>tO(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=_U({ones:()=>tO(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,s=this.recurrentDropoutMask;let o,i,c;0<this.dropout&&this.dropout<1&&(e=IC(e,a[0]));let l=$j(e,this.kernel.read());this.useBias&&(l=tL(l,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=IC(r,s[0]));const u=this.recurrentKernel.read(),[d,p]=ZO(u,[2*this.units,this.units],u.rank-1),h=$j(r,d),[f,m,g]=ZO(l,3,l.rank-1),[y,b]=ZO(h,2,h.rank-1);o=this.recurrentActivation.apply(CC(f,y)),i=this.recurrentActivation.apply(CC(m,b));const v=$j(IC(i,r),p);c=this.activation.apply(CC(g,v));const x=CC(IC(o,r),IC(CC(1,RT(o)),c));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:FB(this.activation),recurrentActivation:FB(this.recurrentActivation),useBias:this.useBias,kernelInitializer:SL(this.kernelInitializer),recurrentInitializer:SL(this.recurrentInitializer),biasInitializer:SL(this.biasInitializer),kernelRegularizer:VB(this.kernelRegularizer),recurrentRegularizer:VB(this.recurrentRegularizer),biasRegularizer:VB(this.biasRegularizer),activityRegularizer:VB(this.activityRegularizer),kernelConstraint:rz(this.kernelConstraint),recurrentConstraint:rz(this.recurrentConstraint),biasConstraint:rz(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}SU.className="GRUCell",GC(SU);class CU extends xU{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new SU(e),super(e)}call(e,t){return oS((()=>{null!=this.cell.dropoutMask&&(iS(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(iS(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}CU.className="GRU",GC(CU);class TU extends wU{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,hj(this.units,"units"),this.activation=LB(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=LB(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=CL(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=CL(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=CL(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=HB(e.kernelRegularizer),this.recurrentRegularizer=HB(e.recurrentRegularizer),this.biasRegularizer=HB(e.biasRegularizer),this.kernelConstraint=sz(e.kernelConstraint),this.recurrentConstraint=sz(e.recurrentConstraint),this.biasConstraint=sz(e.biasConstraint),this.dropout=jj([1,Lj([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=jj([1,Lj([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=_L(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends oL{apply(t,r){const a=e.apply([n]),s=(new cL).apply([n]),o=e.apply([2*n]);return Xj(Xj(a,s),o)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return oS((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new KF("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let r=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=_U({ones:()=>tO(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=_U({ones:()=>tO(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=this.recurrentDropoutMask;let i,c,l,u;0<this.dropout&&this.dropout<1&&(e=IC(e,s[0]));let d=$j(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=IC(r,o[0])),d=CC(d,$j(r,this.recurrentKernel.read())),this.useBias&&(d=tL(d,this.bias.read()));const[p,h,f,m]=ZO(d,4,d.rank-1);i=this.recurrentActivation.apply(p),c=this.recurrentActivation.apply(h),l=CC(IC(c,a),IC(i,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=IC(u,this.activation.apply(l));return[g,g,l]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:FB(this.activation),recurrentActivation:FB(this.recurrentActivation),useBias:this.useBias,kernelInitializer:SL(this.kernelInitializer),recurrentInitializer:SL(this.recurrentInitializer),biasInitializer:SL(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:VB(this.kernelRegularizer),recurrentRegularizer:VB(this.recurrentRegularizer),biasRegularizer:VB(this.biasRegularizer),activityRegularizer:VB(this.activityRegularizer),kernelConstraint:rz(this.kernelConstraint),recurrentConstraint:rz(this.recurrentConstraint),biasConstraint:rz(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}TU.className="LSTMCell",GC(TU);class EU extends xU{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new TU(e),super(e)}call(e,t){return oS((()=>{null!=this.cell.dropoutMask&&(iS(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(iS(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}EU.className="LSTM",GC(EU);class IU extends wU{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return oS((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const a=[];let s;for(let o=0;o<this.cells.length;++o){const i=this.cells[o];n=r[o],s=0===o?[e[0]].concat(n):[s[0]].concat(n),s=i.call(s,t),a.push(s.slice(1))}n=[];for(const e of a.slice().reverse())n.push(...e);return[s[0]].concat(n)}))}build(e){let t;TL(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{Aj("RNNCell_".concat(r),(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const a of t.cells)r.push(yz(a,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return DL(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,a=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],a[e]])}ML(t)}}function _U(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:s}=e,o=()=>null!=s?s(t(),n):nL(t(),n),i=()=>rL(o,t,r);if(!a||a<=1)return cS(i().clone());return Array(a).fill(void 0).map(i).map((e=>cS(e.clone())))}IU.className="StackedRNNCells",GC(IU);var OU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class AU extends xU{constructor(e){if(e.unroll)throw new XF("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new XF("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new PL({ndim:5})]}call(e,t){return oS((()=>{if(null!=this.cell.dropoutMask&&(iS(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(iS(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new KF("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return oS((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),a=H_([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(a):[a]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];oS((()=>{if(!this.stateful)throw new HF("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)];if(null==n[0])throw new KF("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>H_(a))):this.states_=[H_(a)];else if(null==e)iS(this.states_),null!=this.keptStates&&(iS(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>H_(a))):this.states_[0]=H_(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new KF("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));t?this.keptStates.push(this.states_.slice()):iS(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=a;if(!cb(n.shape,r))throw new KF("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(r,", received shape=").concat(n.shape));this.states_[t]=n}}this.states_=this.states_.map((e=>cS(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:a,strides:s,dilationRate:o}=this.cell,i="channelsFirst"===t,c=e[i?3:2],l=e[i?4:3],u=QB(c,r[0],a,s[0],o[0]),d=QB(l,r[1],a,s[1],o[1]);return[...e.slice(0,2),...i?[n,u,d]:[u,d,n]]}}AU.className="ConvRNN2D";class RU extends TU{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:a,dataFormat:s,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,hj(this.filters,"filters"),this.kernelSize=JB(n,2,"kernelSize"),this.kernelSize.forEach((e=>hj(e,"kernelSize"))),this.strides=JB(r||1,2,"strides"),this.strides.forEach((e=>hj(e,"strides"))),this.padding=a||"valid",Ej(this.padding),this.dataFormat=s||"channelsLast",Tj(this.dataFormat),this.dilationRate=JB(o||1,2,"dilationRate"),this.dilationRate.forEach((e=>hj(e,"dilationRate")))}build(e){var t;e=_L(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new KF("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends oL{apply(e,t){return Kj([n.apply([r]),q_([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return oS((()=>{if(3!==e.length)throw new KF("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=t.training||!1,r=e[0],a=e[1],s=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=_U({ones:()=>tO(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=(e,t,n)=>t&&t[n]?IC(t[n],e):e;let c=i(r,o,0),l=i(r,o,1),u=i(r,o,2),d=i(r,o,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=_U({ones:()=>tO(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let h=i(a,p,0),f=i(a,p,1),m=i(a,p,2),g=i(a,p,3);const[y,b,v,x]=ZO(this.kernel.read(),4,3),[w,k,N,S]=this.useBias?ZO(this.bias.read(),4):[null,null,null,null];c=this.inputConv(c,y,w,this.padding),l=this.inputConv(l,b,k,this.padding),u=this.inputConv(u,v,N,this.padding),d=this.inputConv(d,x,S,this.padding);const[C,T,E,I]=ZO(this.recurrentKernel.read(),4,3);h=this.recurrentConv(h,C),f=this.recurrentConv(f,T),m=this.recurrentConv(m,E),g=this.recurrentConv(g,I);const _=this.recurrentActivation.apply(CC(c,h)),O=this.recurrentActivation.apply(CC(l,f)),A=CC(IC(O,s),IC(_,this.activation.apply(CC(u,m)))),R=IC(this.recurrentActivation.apply(CC(d,g)),this.activation.apply(A));return[R,R,A]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=OU(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const a=EI(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?tL(a,n,this.dataFormat):a}recurrentConv(e,t){return EI(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}RU.className="ConvLSTM2DCell",GC(RU);class DU extends AU{constructor(e){const t=new RU(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}DU.className="ConvLSTM2D",GC(DU);class MU extends BL{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return rL((()=>nL(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}MU.className="Dropout",GC(MU);class PU extends MU{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}PU.className="SpatialDropout1D",GC(PU);class FU extends BL{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,hj(this.units,"units"),this.activation=LB(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=CL(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=CL(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=sz(e.kernelConstraint),this.biasConstraint=sz(e.biasConstraint),this.kernelRegularizer=HB(e.kernelRegularizer),this.biasRegularizer=HB(e.biasRegularizer),this.activityRegularizer=HB(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=_L(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=_L(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e),r=mj(this.activation.getClassName());let a;return null!=r?a=$j(n,this.kernel.read(),r,this.bias?this.bias.read():null):(a=$j(n,this.kernel.read()),null!=this.bias&&(a=tL(a,this.bias.read())),null!=this.activation&&(a=this.activation.apply(a))),a}))}getConfig(){const e={units:this.units,activation:FB(this.activation),useBias:this.useBias,kernelInitializer:SL(this.kernelInitializer),biasInitializer:SL(this.biasInitializer),kernelRegularizer:VB(this.kernelRegularizer),biasRegularizer:VB(this.biasRegularizer),activityRegularizer:VB(this.activityRegularizer),kernelConstraint:rz(this.kernelConstraint),biasConstraint:rz(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}FU.className="Dense",GC(FU);class jU extends BL{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=_L(e);for(const t of e.slice(1))if(null==t)throw new KF('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],Fj(e,1)]}call(e,t){return oS((()=>{this.invokeCallHook(e,t);let n=IL(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=MT(n,e)}return function(e){if(e.rank<=1)throw new KF("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));const t=[e.shape[0],Fj(e.shape,1)];return aI(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}jU.className="Flatten",GC(jU);class LU extends BL{constructor(e){super(e),this.supportsMasking=!0,this.activation=LB(e.activation)}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e);return this.activation.apply(n)}))}getConfig(){const e={activation:FB(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}LU.className="Activation",GC(LU);class zU extends BL{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return oS((()=>{return e=IL(e),t=e,n=this.n,oS((()=>{if(2!==t.shape.length)throw new KF("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return Yj(Vj(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}zU.className="RepeatVector",GC(zU);class BU extends BL{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let a=1,s=null;for(let i=0;i<r.length;++i){const e=r[i];if(this.isUnknown(e)){if(null!==s)throw new KF("Can only specifiy one unknown dimension.");s=i}else a*=e}const o=Fj(e);if(null!==s){if(0===a||o%a!==0)throw new KF(n);r[s]=o/a}else if(o!==a)throw new KF(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e),r=n.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return aI(n,a)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}BU.className="Reshape",GC(BU);class UU extends BL{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const t=zj(1,e.dims.length+1);if(!cb(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new PL({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=_L(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return MT(IL(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}UU.className="Permute",GC(UU);class WU extends BL{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=IL(e);return PE(eO(n,this.maskValue),-1)}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e),r=PE(eO(n,this.maskValue),-1,!0);return IC(n,kC(r,n.dtype))}))}}WU.className="Masking",GC(WU);class VU extends BL{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(tj(e.inputLength))}this.inputDim=e.inputDim,hj(this.inputDim,"inputDim"),this.outputDim=e.outputDim,hj(this.outputDim,"outputDim"),this.embeddingsInitializer=CL(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=HB(e.embeddingsRegularizer),this.activityRegularizer=HB(e.activityRegularizer),this.embeddingsConstraint=sz(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return oS((()=>this.maskZero?(e=IL(e),eO(e,AC(e))):null))}computeOutputShape(e){if(e=_L(e),null==this.inputLength)return[...e,this.outputDim];const t=tj(this.inputLength);if(t.length!==e.length-1)throw new KF('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let n=0;for(let r=0;r<t.length;++r){const a=t[r],s=e[r+1];if(null!=a&&null!=s&&a!==s)throw new KF('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=s),n++}}return[e[0],...t,this.outputDim]}call(e,t){return oS((()=>{this.invokeCallHook(e,t);let n=IL(e);"int32"!==n.dtype&&(n=Wj(n,"int32"));const r=Jj(this.embeddings.read(),aI(n,[n.size]));return aI(r,_L(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:SL(this.embeddingsInitializer),embeddingsRegularizer:VB(this.embeddingsRegularizer),activityRegularizer:VB(this.activityRegularizer),embeddingsConstraint:rz(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}VU.className="Embedding",GC(VU);class GU extends BL{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new XF}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const a=e[e.length-t.length+r],s=t[r];if(null==a||null==s||a<0||s<0)n.push(null);else if(1===a)n.push(s);else if(1===s)n.push(a);else{if(a!==s)throw new KF("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[_L(e)]),e.length<2)throw new KF("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let t=[];for(const a of e)null!=a&&null!==a[0]&&t.push(a[0]);if(t=lj(t),t.length>1)throw new KF("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let n=null==e[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){const t=null==e[a]?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===lj(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return oS((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=Lj(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=Vj(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const s of e){const e=s.rank;if(null==e){const e=s.shape,r=e[0],a=e.slice(1).concat([r]);let o=aI(s,[r].concat(Fj(e.slice(1))));o=MT(o,[1,0]),o=aI(o,a),t.push(o),n=!0}else if(e>1){const r=zj(1,e).concat([0]);t.push(MT(s,r)),n=!0}else t.push(s)}let r=this.mergeFunction(t);const a=r.rank;if(n)if(null==a){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=aI(MT(aI(r,[-1,t]),[1,0]),n)}else if(a>1){const e=[a-1].concat(zj(0,a-1));r=MT(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=lj(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return oS((()=>{if(null==t)return null;if(!Array.isArray(t))throw new KF("`mask` should be an Array");if(!Array.isArray(e))throw new KF("`inputs` should be an Array");if(t.length!==e.length)throw new KF("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:p_(e,0))))[0];for(let e=1;e<t.length-1;++e)n=M_(n,t[e]);return n}))}}class HU extends GU{constructor(e){super(e)}mergeFunction(e){return oS((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=CC(t,e[n]);return t}))}}HU.className="Add",GC(HU);class qU extends GU{constructor(e){super(e)}mergeFunction(e){return oS((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=IC(t,e[n]);return t}))}}qU.className="Multiply",GC(qU);class KU extends GU{constructor(e){super(e)}mergeFunction(e){return oS((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=CC(t,e[n]);return IC(1/e.length,t)}))}}KU.className="Average",GC(KU);class XU extends GU{constructor(e){super(e)}mergeFunction(e){return oS((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=rT(t,e[n]);return t}))}}XU.className="Maximum",GC(XU);class YU extends GU{constructor(e){super(e)}mergeFunction(e){return oS((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=X_(t,e[n]);return t}))}}YU.className="Minimum",GC(YU);class ZU extends GU{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new KF("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let a=!1;for(const e of n)if(cb(e,t)){a=!0;break}a||n.push(t)}if(n.length>1)throw new KF("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return oS((()=>Kj(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new KF("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const a of t.slice(1)){if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new KF("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new KF("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new KF("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return oS((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let s=0;s<e.length;++s)null==t[s]?r.push(kC(tO(e[s]),"bool")):t[s].rank<e[s].rank?r.push(p_(t[s],-1)):r.push(t[s]);const a=iI(r,this.axis);return ME(a,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function $U(e,t){for(;e<0;)e+=t;return e}ZU.className="Concatenate",GC(ZU);class JU extends GU{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){nb(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new XF("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new KF("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}mergeFunction(e){if(2!==e.length)throw new KF("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>$U(t,e[n].shape.length))):[$U(this.axes,n.shape.length),$U(this.axes,r.shape.length)],this.normalize&&(n=bz(n,t[0]),r=bz(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new XF("batchDot is not implemented for tensors of 4D or higher rank yet");if(nb(e.shape.length>=2,(()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length))),nb(e.shape.length>=2,(()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length))),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new XF("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);const s=n;return oS((()=>{let n,o;if(r>a){n=r-a;const e=[];for(let t=0;t<n;++t)e.push(1);t=aI(t,t.shape.concat(e))}else if(a>r){n=a-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=aI(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=s[0]===s[1]?i_(IC(e,t),s[0]):i_(IC(MT(e,[1,0]),t),s[1]);else{const n=s[0]!==e.shape.length-1,r=s[1]===t.shape.length-1;o=_T(e,t,n,r)}if(n>0){let e;e=r>a?r+a-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);o=QO(o,t)}return 1===o.shape.length&&(o=p_(o,1)),o}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[$U(this.axes,e.length),$U(this.axes,t.length)],n}computeOutputShape(e){nb(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new XF("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const a=t.concat(n);return 1===a.length&&a.push(1),a}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}JU.className="Dot",GC(JU);class QU extends BL{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e);return rL((()=>CC(Zj(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}QU.className="GaussianNoise",GC(QU);class eW extends BL{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return oS((()=>{this.invokeCallHook(e,t);const n=IL(e);if(this.rate>0&&this.rate<1){return rL((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return IC(n,Zj(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}eW.className="GaussianDropout",GC(eW);class tW extends BL{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||IL(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return oS((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=IL(e),r=-1.7580993408473766;let a=v_(NO(n),this.rate);a=Wj(a,"float32");const s=((1-this.rate)*(1+this.rate*r**2))**-.5,o=-s*r*this.rate,i=CC(IC(t,a),IC(CC(a,-1),r));return CC(IC(i,s),o)};return rL(r,(()=>IL(e)),t.training||!1)}return e}))}}function nW(e,t,n,r,a){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)s=fI(e,t,n,r,a,o);else if(3===e.rank)s=mI(e,t,n,r,a,o);else{if(4!==e.rank)throw new XF("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");s=gI(e,t,n,r,a,o)}return s}function rW(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return cb(r.slice().sort(),zj(0,e.rank-1))?function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return oS((()=>{const s=$_(e,r),o=s.mean,i=s.variance;return[nW(e,o,i,n,t,a),o,i]}))}(e,t,n,r,a):function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return oS((()=>{const s=$_(e,r),o=s.mean,i=s.variance,c=[];for(const t of zj(0,e.rank))-1!==r.indexOf(t)?c.push(1):c.push(e.shape[t]);const l=aI(o,c),u=aI(i,c),d=null==t?null:aI(t,c),p=null==n?null:aI(n,c);return[nW(e,l,u,p,d,a),o,i]}))}(e,t,n,r,a)}tW.className="AlphaDropout",GC(tW);class aW extends BL{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=CL(e.betaInitializer||"zeros"),this.gammaInitializer=CL(e.gammaInitializer||"ones"),this.movingMeanInitializer=CL(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=CL(e.movingVarianceInitializer||"ones"),this.betaConstraint=sz(e.betaConstraint),this.gammaConstraint=sz(e.gammaConstraint),this.betaRegularizer=HB(e.betaRegularizer),this.gammaRegularizer=HB(e.gammaRegularizer)}build(e){e=_L(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new KF("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new PL({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return oS((()=>{const n=null!=t.training&&t.training,r=IL(e),a=r.shape,s=a.length,o=zj(0,s),i=this.axis>=0?this.axis:this.axis+s;o.splice(i,1);const c=$F(1,s);c[i]=a[i];const l=o.slice();l.sort();const u=!cb(l,zj(0,s).slice(0,s-1));if(!n)return(()=>{if(u){const e=aI(this.movingMean.read(),c),t=aI(this.movingVariance.read(),c),n=this.center?aI(this.beta.read(),c):null,a=this.scale?aI(this.gamma.read(),c):null;return nW(r,e,t,n,a,this.epsilon)}return nW(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,p,h]=rW(r,this.gamma.read(),this.beta.read(),o,this.epsilon),f=(e,t,n)=>{oS((()=>{const r=1-n,a=e.read(),s=IC($C(a,t),r);e.write($C(a,s))}))};return(()=>{f(this.movingMean,p,this.momentum),f(this.movingVariance,h,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:SL(this.betaInitializer),gammaInitializer:SL(this.gammaInitializer),movingMeanInitializer:SL(this.movingMeanInitializer),movingVarianceInitializer:SL(this.movingVarianceInitializer),betaRegularizer:VB(this.betaRegularizer),gammaRegularizer:VB(this.gammaRegularizer),betaConstraint:rz(this.betaConstraint),gammaConstraint:rz(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}aW.className="BatchNormalization",GC(aW);class sW extends BL{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else{if(!Array.isArray(this.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));for(const e of this.axis)if(!Number.isInteger(e))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=CL(e.betaInitializer||"zeros"),this.gammaInitializer=CL(e.gammaInitializer||"ones"),this.betaRegularizer=HB(e.betaRegularizer),this.gammaRegularizer=HB(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=_L(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=t);for(const a of this.axis)if(a<0||a>=t)throw new Error("Invalid axis: ".concat(a));if(this.axis.length!==lj(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=IL(e),r=n.shape,a=r.length;return oS((()=>{let{mean:e,variance:t}=$_(n,this.axis,!0);const s=$F(1,a);for(const n of this.axis)s[n]=r[n];const o=e=>null!=e&&e.shape.length!==a?aI(e,s):e;let i=this.scale?o(this.gamma.read()):null,c=this.center?o(this.beta.read()):null;const l=[],u=[];for(let n=0;n<a;++n)-1!==this.axis.indexOf(n)?(l.push(r[n]),u.push(1)):(l.push(1),u.push(r[n]));return e=f_(e,l),t=f_(t,l),null!=i&&(i=f_(i,u)),null!=c&&(c=f_(c,u)),nW(n,e,t,c,i,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:SL(this.betaInitializer),gammaInitializer:SL(this.gammaInitializer),betaRegularizer:VB(this.betaRegularizer),gammaRegularizer:VB(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}sW.className="LayerNormalization",GC(sW);class oW extends BL{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new KF("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new KF("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(t=e.padding[0],2!==e.padding[1].length)throw new KF("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new PL({ndim:4})]}computeOutputShape(e){let t,n;return e=_L(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return oS((()=>{return t=IL(e),n=this.padding,r=this.dataFormat,oS((()=>{if(4!==t.rank)throw new KF("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new KF("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r="channelsLast"),"channelsLast"!==r&&"channelsFirst"!==r)throw new KF("Unknown data format: ".concat(r,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let e;return e="channelsFirst"===r?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],rO(t,e)}));var t,n,r}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function iW(e,t,n,r,a,s){return oS((()=>{let o;Tj(a),Ij(s),Ej(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==s&&(s="max"),e=tU(e,a);const i="same"===r?"same":"valid";return o="max"===s?U_(e,t,n,i):sI(e,t,n,i),"channelsFirst"===a&&(o=MT(o,[0,3,1,2])),o}))}function cW(e,t,n,r,a,s){return oS((()=>{let o;Tj(a),Ij(s),Ej(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==s&&(s="max"),e=nU(e,a);const i="same"===r?"same":"valid";return o="max"===s?W_(e,t,n,i):oI(e,t,n,i),"channelsFirst"===a&&(o=MT(o,[0,4,1,2,3])),o}))}oW.className="ZeroPadding2D",GC(oW);class lW extends BL{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new KF("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));this.poolSize=e.poolSize}if(hj(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new KF("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));this.strides=e.strides}hj(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Ej(this.padding),this.inputSpec=[new PL({ndim:3})]}computeOutputShape(e){const t=QB((e=_L(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return oS((()=>{this.invokeCallHook(e,t),e=Vj(IL(e),2);const n=this.poolingFunction(IL(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return QO(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class uW extends lW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),iW(e,t,n,r,a,"max")}}uW.className="MaxPooling1D",GC(uW);class dW extends lW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),iW(e,t,n,r,a,"avg")}}dW.className="AveragePooling1D",GC(dW);class pW extends BL{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new KF("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];hj(this.poolSize,"poolSize"),hj(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Tj(this.dataFormat),Ej(this.padding),this.inputSpec=[new PL({ndim:4})]}computeOutputShape(e){e=_L(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=QB(t,this.poolSize[0],this.padding,this.strides[0]),n=QB(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return oS((()=>(this.invokeCallHook(e,t),this.poolingFunction(IL(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class hW extends pW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),iW(e,t,n,r,a,"max")}}hW.className="MaxPooling2D",GC(hW);class fW extends pW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),iW(e,t,n,r,a,"avg")}}fW.className="AveragePooling2D",GC(fW);class mW extends BL{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new KF("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];hj(this.poolSize,"poolSize"),hj(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Tj(this.dataFormat),Ej(this.padding),this.inputSpec=[new PL({ndim:5})]}computeOutputShape(e){e=_L(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=QB(t,this.poolSize[0],this.padding,this.strides[0]),n=QB(n,this.poolSize[1],this.padding,this.strides[1]),r=QB(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return oS((()=>(this.invokeCallHook(e,t),this.poolingFunction(IL(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class gW extends mW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),cW(e,t,n,r,a,"max")}}gW.className="MaxPooling3D",GC(gW);class yW extends mW{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Tj(a),Ej(r),cW(e,t,n,r,a,"avg")}}yW.className="AveragePooling3D",GC(yW);class bW extends BL{constructor(e){super(e),this.inputSpec=[new PL({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new XF}}class vW extends bW{constructor(e){super(e||{})}call(e,t){return oS((()=>{const t=IL(e);return G_(t,1)}))}}vW.className="GlobalAveragePooling1D",GC(vW);class xW extends bW{constructor(e){super(e||{})}call(e,t){return oS((()=>{const t=IL(e);return s_(t,1)}))}}xW.className="GlobalMaxPooling1D",GC(xW);class wW extends BL{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Tj(this.dataFormat),this.inputSpec=[new PL({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new XF}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class kW extends wW{call(e,t){return oS((()=>{const t=IL(e);return"channelsLast"===this.dataFormat?G_(t,[1,2]):G_(t,[2,3])}))}}kW.className="GlobalAveragePooling2D",GC(kW);class NW extends wW{call(e,t){return oS((()=>{const t=IL(e);return"channelsLast"===this.dataFormat?s_(t,[1,2]):s_(t,[2,3])}))}}NW.className="GlobalMaxPooling2D",GC(NW);class SW extends BL{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=yz(t.layer,n);delete t.layer;const a={layer:r};return Object.assign(a,t),new e(a)}}class CW extends SW{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=_L(e)).length<3)throw new KF("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=_L(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return oS((()=>vU(((e,n)=>[IL(this.layer.call(e,t)),[]]),e=IL(e),[],!1,null,null,!1,!0)[1]))}}CW.className="TimeDistributed",GC(CW);class TW extends SW{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=yz(n),t.goBackwards=!0!==t.goBackwards;const r={};var a;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=yz(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,a=this.mergeMode,dj(Sj,"BidirectionalMergeMode",a),e.weights)throw new XF("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ej(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=bU(e,n,r,this.numConstants);if(e=a.inputs,n=a.initialState,r=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const s=[],o=[];if(null!=n){const e=n.length;if(e%2>0)throw new KF("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,s.push(...n);const r=n.map((e=>new PL({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),o.push(...r)}if(null!=r)throw new XF("Support for constants in Bidirectional layers is not implemented yet.");const i=s[0]instanceof FL;for(const c of s)if(c instanceof FL!==i)throw new KF("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(i){const n=[e].concat(s),r=this.inputSpec.concat(o),a=this.inputSpec;this.inputSpec=r;const i=super.apply(n,t);return this.inputSpec=a,i}return super.apply(e,t)}call(e,t){return oS((()=>{const n=t.initialState;let r,a,s,o;if(null==n)r=this.forwardLayer.call(e,t),a=this.backwardLayer.call(e,t);else{const s=n.slice(0,n.length/2),o=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:s})),a=this.backwardLayer.call(e,Object.assign(t,{initialState:o}))}return this.returnState&&(Array.isArray(r)&&(s=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=_O(a,1)),"concat"===this.mergeMode?o=Kj([r,a]):"sum"===this.mergeMode?o=CC(r,a):"ave"===this.mergeMode?o=IC(.5,CC(r,a)):"mul"===this.mergeMode?o=IC(r,a):null==this.mergeMode&&(o=[r,a]),this.returnState?null==this.mergeMode?o.concat(s):[o].concat(s):o}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Aj(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Aj(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=yz(t.layer);if(delete t.layer,null!=t.numConstants)throw new XF("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}TW.className="Bidirectional",GC(TW);class EW extends BL{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return oS((()=>("float32"!==(e=IL(e)).dtype&&(e=Wj(e,"float32")),CC(IC(e,this.scale),this.offset))))}}EW.className="Rescaling",GC(EW);const{resizeBilinear:IW,cropAndResize:_W}=jR;class OW extends BL{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,a,s,o,i){return oS((()=>{let c,l=!1;const u=[t/s,n/o,(r+t)/s,(a+n)/o],d=[];3===e.rank?(l=!0,c=eA([e])):c=e;for(let e=0;e<c.shape[0];e++)d.push(u);const p=YN(d,[d.length,4]),h=CO(0,d.length,1,"int32"),f=_W(c,p,h,[r,a],"nearest");return Wj(l?IL(fA(f)):f,i)}))}upsize(e,t,n,r){return oS((()=>Wj(IW(e,[t,n]),r)))}call(e,t){return oS((()=>{const t=IL(e),n=t.dtype,r=t.shape,a=r[r.length-3],s=r[r.length-2];let o=0;a!==this.height&&(o=Math.floor((a-this.height)/2));let i=0;return s!==this.width&&(i=Math.floor((s-this.width)/2),0===i&&(i=1)),o>=0&&i>=0?this.centerCrop(t,o,i,this.height,this.width,a,s,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=_L(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}OW.className="CenterCrop",GC(OW);class AW extends BL{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=_L(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return oS((()=>{let n;if("int32"!==(e=IL(e)).dtype&&(e=Wj(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new KF("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));n=IL(t.countWeights)}const r=s_(e),a=o_(e),s=b_(this.numTokens,r).bufferSync().get(0),o=v_(a,0).bufferSync().get(0);if(!s||!o)throw new KF("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return function(e,t,n,r){let a=IL(e);if("int32"!==a.dtype&&(a=Wj(a,"int32")),"int"===t)return a;const s=a.shape;if(0===a.rank&&(a=p_(a,-1)),"oneHot"===t&&1!==a.shape[a.shape.length-1]&&(a=p_(a,-1)),a.rank>2)throw new KF("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(s)+" which would result in output rank ".concat(a.rank,"."));const o=["multiHot","oneHot"].includes(t),i=a;let c;if(c=LI(i,"undefined"!==typeof r&&"count"===t?r:[],n,o),"tfIdf"!==t)return c;if(r)return IC(c,r);throw new KF("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}AW.className="CategoryEncoding",GC(AW);const RW=new Set(["bilinear","nearest"]);class DW extends BL{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!RW.has(e.interpolation))throw new KF("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=_L(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return oS((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return jR.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return jR.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...RW]," are supported"))}))}}DW.className="Resizing",GC(DW);class MW{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}MW.className="RandomSeed";class PW extends BL{constructor(e){super(e),this.randomGenerator=new MW(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}PW.className="BaseRandomLayer";const FW=new Set(["bilinear","nearest"]);class jW extends PW{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new KF("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new KF("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new KF("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(n){if(!FW.has(n))throw new KF("Invalid interpolation parameter: ".concat(n," is not implemented"));this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=_L(e))[2];return[this.imgHeight,-1,t]}call(e,t){return oS((()=>{const t=IL(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=NO([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const a=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return jR.resizeBilinear(e,a);case"nearest":return jR.resizeNearestNeighbor(e,a);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...FW]," are supported"))}}))}}jW.className="RandomWidth",GC(jW);function LW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(WW(e)){const a=Array.isArray(e)?[]:{};r.add(e);for(const s in e){const o=LW(e[s],t,n,r);a[s]=o}return r.delete(e),e.__proto__&&(a.__proto__=e.__proto__),a}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function zW(e){return BW(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:UW)}function BW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(WW(r)){const a=Array.isArray(r)?[]:{};n.add(r);for(const s in r){const r=BW(e.map((e=>e[s])),t,n);a[s]=r}return n.delete(r),a}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function UW(e){return null===e?null:WW(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function WW(e){let t=!1;if(Hb().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:r}=n(551);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof dN)&&!(e instanceof Promise)&&!t)}function VW(e){return function(e,t){return LW(e,t)}(e,GW)}function GW(e){return e instanceof dN?{value:e.clone(),recurse:!1}:WW(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class HW{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class qW extends HW{constructor(){super(qW.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function KW(e){return new $W(e)}function XW(e,t){return new cV(e,t)}qW.INITIAL_CAPACITY=32;class YW{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new aV(this,e)}filter(e){return new nV(this,e)}map(e){return new rV(this,e)}mapAsync(e){return new sV(this,e)}serialMapAsync(e){return new sV(this,e).serial()}flatmap(e){return new iV(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new tV(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UW;return this.rowMajorBatch(e,t).map((e=>zW(e,n)))}concatenate(e,t){return new cV(new ZW([this,e]),t)}take(e){return e<0||null==e?this:new eV(this,e)}skip(e){return e<0||null==e?this:new QW(this,e)}prefetch(e){return new uV(this,e)}shuffle(e,t){return new dV(this,e,t)}serial(){return new JW(this)}}class ZW extends YW{constructor(e){super(),this.items=e,this.trav=0}summary(){return"Array of ".concat(this.items.length," items")}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:VW(e),done:!1}}}class $W extends YW{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(L6){throw L6.message="Error thrown while iterating through a dataset: ".concat(L6.message),L6}}}class JW extends YW{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Serial")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class QW extends YW{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Skip")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;iS(e.value)}return this.upstream.next()}}class eV extends YW{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return"".concat(this.upstream.summary()," -> Take")}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class tV extends YW{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class nV extends YW{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Filter")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;iS(e.value)}}}class rV extends YW{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Map")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=EN(e.value),n=this.transform(e.value),r=EN(n);for(const a of t)TN(a,r)||a.dispose();return{value:n,done:!1}}}class aV extends YW{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> handleErrors")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(L6){if(!this.handler(L6))return{value:null,done:!0}}}}class sV extends YW{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> AsyncMap")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=EN(e.value),n=await this.transform(e.value),r=EN(n);for(const a of t)TN(a,r)||a.dispose();return{value:n,done:!1}}}class oV extends YW{constructor(){super(),this.outputQueue=new qW,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class iV extends oV{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Flatmap")}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=EN(e.value),n=this.transform(e.value),r=EN(n);this.outputQueue.pushAll(n);for(const a of t)TN(a,r)||a.dispose();return!0}}class cV extends YW{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var lV;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(lV||(lV={}));class uV extends YW{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new HW(t)}summary(){return"".concat(this.upstream.summary()," -> Prefetch")}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class dV extends uV{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=gO.alea(n||Gk().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class pV{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return nb(e>0,(()=>"batchSize needs to be positive, but it is\n      ".concat(e))),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),hV((async()=>(await n.iterator()).columnMajorBatch(e,t,fV)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,hV((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,hV((async()=>(await t.iterator()).filter((t=>oS((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return hV((async()=>(await t.iterator()).map((t=>oS((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return hV((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return hV((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,hV((async()=>XW(KW((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,hV((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));const r=this,a=gO.alea(t||Gk().toString());return hV((async()=>{let t=a.int32();return n&&(t+=a.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,hV((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function hV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends pV{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function fV(e){if(null===e)return null;if(function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof dN||Xk(e);var t}(e[0])){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof dN?eA(e):YN(e)}(e),recurse:!1}}return{value:null,recurse:!0}}pV.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function mV(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&nb("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}const gV=yA;class yV extends qy{nextDataId(){return yV.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Hy(this,rS())}write(e,t,n){this.firstUse&&(this.firstUse=!1,Hb().get("IS_NODE")&&fk("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Cb(n[0])){const a=n.map((e=>qk(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return fD(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return Mb(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>Kk(e)));return wC(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return wC(e.shape,e.dtype,t)}makeOutput(e,t,n){return rS().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Gk();e();return{kernelMs:Gk()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){mV([e],"where");const t=this.readSync(e.dataId);return gV(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}yV.nextDataId=0;function bV(e){return(t,n,r)=>{const a=vb(n,t.length);for(let s=0;s<t.length;++s)a[s]=e(t[s],r);return a}}function vV(e,t,n){return xV(e,bV(t),n)}function xV(e,t,n){return r=>{let{inputs:a,attrs:s,backend:o}=r;const{x:i}=a;mV(i,e);const c=o,l=c.data.get(i.dataId).values;let u;if("string"===i.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=XD(l)}else u=l;const d=n||i.dtype,p=t(u,d,s);return c.makeTensorInfo(i.shape,d,p)}}gS("cpu",(()=>new yV),1);const wV=vV(Yv,(e=>e>=0?e:Math.exp(e)-1)),kV={kernelName:Yv,backendName:"cpu",kernelFunc:wV};function NV(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const SV={kernelName:px,backendName:"cpu",kernelFunc:NV};function CV(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:s}=r;mV([a],"leakyRelu");const o=sb(a.shape),i=n.data.get(a.dataId).values,c=bb("float32",o);for(let l=0;l<i.length;l++)c[l]=i[l]<0?s*i[l]:i[l];return n.makeTensorInfo(a.shape,"float32",c)}const TV={kernelName:bx,backendName:"cpu",kernelFunc:CV};function EV(e){return(t,n,r,a,s)=>{const o=nT(t,n),i=o.length,c=Ab(o),l=bb(s,sb(o)),u=t.length,d=n.length,p=Ab(t),h=Ab(n),f=eT(t,o),m=eT(n,o);if(f.length+m.length===0)for(let g=0;g<l.length;++g)l[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<l.length;++g){const t=Bb(g,i,c),n=t.slice(-u);f.forEach((e=>n[e]=0));const s=zb(n,u,p),o=t.slice(-d);m.forEach((e=>o[e]=0));const y=zb(o,d,h);l[g]=e(r[s],a[y])}return[l,o]}}const IV=EV(((e,t)=>e<0?t*e:e));function _V(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;mV([r,a],"prelu");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,[i,c]=IV(r.shape,a.shape,s,o,"float32");return n.makeTensorInfo(c,"float32",i)}const OV={kernelName:aw,backendName:"cpu",kernelFunc:_V},AV=vV(pw,(e=>Math.max(0,e))),RV={kernelName:pw,backendName:"cpu",kernelFunc:AV},DV=vV(bw,(e=>Math.min(Math.max(0,e),6))),MV={kernelName:bw,backendName:"cpu",kernelFunc:DV},PV=bV((e=>1/(1+Math.exp(-e)))),FV=vV(Aw,(e=>1/(1+Math.exp(-e)))),jV={kernelName:Aw,backendName:"cpu",kernelFunc:FV};function LV(e,t,n,r,a){if("linear"===n)return NV({inputs:{x:t},backend:e});if("relu"===n)return AV({inputs:{x:t},backend:e});if("elu"===n)return wV({inputs:{x:t},backend:e});if("relu6"===n)return DV({inputs:{x:t},backend:e});if("prelu"===n)return _V({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return CV({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return FV({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function zV(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,i=n.makeTensorInfo(r.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",s),imag:n.makeTensorInfo(a.shape,"float32",o)},i}const BV={kernelName:Nv,backendName:"cpu",kernelFunc:zV};function UV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return zV({inputs:{real:UV(e,t,"float32"),imag:UV(e,t,"float32")},backend:e})}const r=Fb(sb(t),n);return e.makeTensorInfo(t,n,r)}function WV(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const VV={kernelName:uw,backendName:"cpu",kernelFunc:WV};function GV(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=Vk([0],n),[a,s]=EV(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[s,"bool",a]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}function HV(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:s}=r;if("complex64"===s){if("complex64"===a.dtype)return NV({inputs:{x:a},backend:n});const e=UV(n,a.shape,a.dtype),t=HV({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=zV({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=WV({inputs:{input:a},backend:n}),t=HV({inputs:{x:e},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(e),t}if(!kb(a.dtype,s)){const e=NV({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:s}}const o=n.data.get(a.dataId).values,[i,c,l]=GV(o,a.shape,a.dtype,s);return n.makeTensorInfo(i,c,l)}const qV={kernelName:xv,backendName:"cpu",kernelFunc:HV};function KV(e,t,n,r){return null==n?n=>{let{inputs:a,backend:s}=n;const{a:o,b:i}=a,c=s;mV([o,i],e);const l=c.data.get(o.dataId).values,u=c.data.get(i.dataId).values,d="string"===o.dtype?XD(l):l,p="string"===o.dtype?XD(u):u,h=r||o.dtype,[f,m]=t(o.shape,i.shape,d,p,h);return c.makeTensorInfo(m,h,f)}:e=>{let{inputs:a,backend:s}=e;const{a:o,b:i}=a,c=s;if("complex64"===o.dtype||"complex64"===i.dtype){const e=HV({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),t=c.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,s=c.data.get(r.dataId).values,l=c.data.get(a.dataId).values,u=HV({inputs:{x:i},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(u.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=c.data.get(p.dataId).values,m=c.data.get(h.dataId).values,[g,y,b]=n(o.shape,i.shape,s,l,f,m),v=c.makeTensorInfo(b,"float32",g),x=c.makeTensorInfo(b,"float32",y),w=zV({inputs:{real:v,imag:x},backend:c});return c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(u),c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(x),w}{const e=c.data.get(o.dataId).values,n=c.data.get(i.dataId).values,a=r||o.dtype,[s,l]=t(o.shape,i.shape,e,n,a);return c.makeTensorInfo(l,a,s)}}}function XV(e){return(t,n,r,a,s,o)=>{const i=nT(t,n),c=sb(i),l=i.length,u=Ab(i),d=bb("float32",c),p=bb("float32",c),h=eT(t,i),f=eT(n,i),m=fD(r,a),g=fD(s,o),y=t.length,b=Ab(t),v=n.length,x=Ab(n);if(h.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=r.real,p[w]=r.imag}else for(let w=0;w<d.length;w++){const t=Bb(w,l,u),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=zb(n,y,b),a=t.slice(-v);f.forEach((e=>a[e]=0));const s=zb(a,v,x),o=e(m[2*r],m[2*r+1],g[2*s],g[2*s+1]);d[w]=o.real,p[w]=o.imag}return[d,p,i]}}const YV=EV(((e,t)=>e+t)),ZV=XV(((e,t,n,r)=>({real:e+n,imag:t+r}))),$V=KV(Qb,YV,ZV),JV={kernelName:Qb,backendName:"cpu",kernelFunc:$V};function QV(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:s}=r,o=sb(a.shape),i=mb(s,o),c=sb(i);nb(o===c,(()=>"The new shape (".concat(i,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(o," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(a.dataId);const l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){const e=l.complexTensorInfos.real,t=l.complexTensorInfos.imag;e.shape=i,t.shape=i}return{dataId:a.dataId,shape:i,dtype:a.dtype}}const eG={kernelName:hw,backendName:"cpu",kernelFunc:QV};function tG(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:s}=t,{transposeA:o,transposeB:i}=r;mV([a,s],"matMul");const c=a.shape.length,l=s.shape.length,u=o?a.shape[c-2]:a.shape[c-1],d=i?s.shape[l-1]:s.shape[l-2],p=o?a.shape[c-1]:a.shape[c-2],h=i?s.shape[l-2]:s.shape[l-1],f=a.shape.slice(0,-2),m=s.shape.slice(0,-2),g=sb(f),y=sb(m),b=nT(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([p,h]);nb(u===d,(()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(s.shape," and transposeA=").concat(o)+" and transposeB=".concat(i," must match.")));const v=i?[y,h,d]:[y,d,h],x=QV({inputs:{x:a},backend:n,attrs:{shape:o?[g,u,p]:[g,p,u]}}),w=QV({inputs:{x:s},backend:n,attrs:{shape:v}}),k=o?x.shape[1]:x.shape[2],N=o?x.shape[2]:x.shape[1],S=i?w.shape[1]:w.shape[2],C=Math.max(g,y),T=n.data.get(x.dataId).values,E=n.data.get(w.dataId).values,I=Ab(x.shape),_=Ab(w.shape),[O,A,R]=o?[I[0],1,I[1]]:[I[0],I[1],1],[D,M,P]=i?[1,_[1],_[0]]:[_[1],1,_[0]],F=N*S,j=wC([C,N,S],x.dtype),L=j.values,z=n.blockSize;for(let B=0;B<C;B++){const e=B%g,t=B%y;for(let n=0;n<N;n+=z){const r=Math.min(n+z,N);for(let a=0;a<S;a+=z){const s=Math.min(a+z,S);for(let o=0;o<k;o+=z){const i=Math.min(o+z,k);for(let c=n;c<r;c++)for(let n=a;n<s;n++){let r=0;for(let a=o;a<i;a++){r+=T[e*O+c*A+a*R]*E[a*D+n*M+t*P]}L[B*F+(c*S+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(b,j.dtype,j.values)}const nG={kernelName:fv,backendName:"cpu",kernelFunc:tG};const rG={kernelName:dk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:s,bias:o,preluActivationWeights:i}=t,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=tG({inputs:{a:a,b:s},attrs:{transposeA:c,transposeB:l},backend:n}),o&&(h=$V({inputs:{a:p,b:o},backend:n}),m.push(p),p=h),u&&(f=LV(n,p,u,i,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}};function aG(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const sG={kernelName:Zb,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;mV(t,"abs");let r=new Float32Array(sb(t.shape));return r=aG(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},oG=vV($b,(e=>Math.acos(e))),iG={kernelName:$b,backendName:"cpu",kernelFunc:oG},cG=vV(Jb,(e=>Math.acosh(e))),lG={kernelName:Jb,backendName:"cpu",kernelFunc:cG};const uG={kernelName:ev,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;mV(t,"addN");const a=r.map((e=>n.data.get(e.dataId).values)),s=wC(r[0].shape,r[0].dtype),o=s.values;for(let i=0;i<r.length;i++){const e=a[i];for(let t=0;t<o.length;t++)o[t]+=e[t]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}};function dG(e,t,n,r,a){const s=t.length,o=sb(t),i=Ab(t),c=Ab(a),l=bb(n,sb(a));for(let u=0;u<o;++u){const t=Bb(u,s,i),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];l[zb(n,s,c)]=e[u]}return l}function pG(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:s}=n;mV(a,"transpose");const o=a.shape.length,i=new Array(o);for(let l=0;l<i.length;l++)i[l]=a.shape[s[l]];const c=dG(r.data.get(a.dataId).values,a.shape,a.dtype,s,i);return{dataId:r.write(c,i,a.dtype),shape:i,dtype:a.dtype}}const hG={kernelName:nk,backendName:"cpu",kernelFunc:pG};const fG={kernelName:tv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;mV(a,"all");const i=gb(s,a.shape);let c=i;const l=n_(c,a.shape.length);let u=a;null!=l&&(u=pG({inputs:{x:a},backend:n,attrs:{perm:l}}),c=a_(c.length,a.shape.length)),t_("all",c,u.shape.length);const[d,p]=QI(u.shape,c),h=sb(p),f=Fb(sb(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=QV({inputs:{x:g},backend:n,attrs:{shape:e_(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const mG={kernelName:nv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;mV(a,"any");const i=gb(s,a.shape);let c=i;const l=n_(c,a.shape.length);let u=a;null!=l&&(u=pG({inputs:{x:a},backend:n,attrs:{perm:l}}),c=a_(c.length,a.shape.length)),t_("any",c,u.shape.length);const[d,p]=QI(u.shape,c),h=sb(p),f=Fb(sb(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=QV({inputs:{x:g},backend:n,attrs:{shape:e_(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const gG={kernelName:rv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;mV(a,"argMax");let o=gb(s,a.shape);const i=n_(o,a.shape.length);let c=a;const l=[];null!=i&&(c=pG({inputs:{x:a},backend:n,attrs:{perm:i}}),l.push(c),o=a_(o.length,c.shape.length)),o=[o[0]],t_("argMax",o,c.shape.length);const[u,d]=QI(c.shape,o),p=Fb(sb(u),"int32"),h=sb(d),f=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a>t&&(t=a,n=r)}p[m]=n}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",p)}};const yG={kernelName:av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;mV(a,"argMin");let o=gb(s,a.shape);const i=n_(o,a.shape.length);let c=a;const l=[];null!=i&&(c=pG({inputs:{x:a},backend:n,attrs:{perm:i}}),l.push(c),o=a_(o.length,c.shape.length)),o=[o[0]],t_("argMin",o,c.shape.length);const[u,d]=QI(c.shape,o),p=Fb(sb(u),"int32"),h=sb(d),f=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a<t&&(t=a,n=r)}p[m]=n}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",p)}},bG=vV(sv,(e=>Math.asin(e))),vG={kernelName:sv,backendName:"cpu",kernelFunc:bG},xG=vV(ov,(e=>Math.asinh(e))),wG={kernelName:ov,backendName:"cpu",kernelFunc:xG},kG=vV(iv,(e=>Math.atan(e))),NG={kernelName:iv,backendName:"cpu",kernelFunc:kG},SG=EV(((e,t)=>Math.atan2(e,t))),CG=KV(lv,SG),TG={kernelName:lv,backendName:"cpu",kernelFunc:CG},EG=vV(cv,(e=>Math.atanh(e))),IG={kernelName:cv,backendName:"cpu",kernelFunc:EG};function _G(e,t,n,r,a,s){const o=a.strideHeight,i=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,u=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,f="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=wC(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],v=a.outShape[3];for(let x=0;x<a.batchSize;++x){const t=x*y,n=x*r[0];for(let m=0;m<a.inChannels;++m)for(let y=0;y<a.outHeight;++y){const x=y*o-p,w=Math.max(0,x),k=Math.min(a.inHeight,u+x),N=t+y*b;for(let t=0;t<a.outWidth;++t){const o=t*i-h,u=Math.max(0,o),p=Math.min(a.inWidth,d+o);let y=f,b=0,x=0;for(let t=w;t<k;t+=c){const a=n+t*r[1];for(let t=u;t<p;t+=l){const n=e[a+t*r[2]+m];"max"===s&&n>y?y=n:"avg"===s&&(b+=n,x++)}if(isNaN(y))break}g[N+t*v+m]="avg"===s?b/x:y}}}return m}function OG(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=wC(r.outShape,"int32"),i=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=wC(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*i-h;let y=n;for(;y<0;)y+=l;const b=Math.min(r.inHeight,d+n);for(let i=0;i<r.outWidth;++i){const d=i*c-f;let h=d;for(;h<0;)h+=u;const v=Math.min(r.inWidth,p+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let t=y;t<b;t+=l){const o=t-n;for(let n=h;n<v;n+=u){const i=n-d,c=m.get(g,t,n,e);c>x&&(x=c,w=a?s?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:o*p+i)}}o.set(w,g,t,i,e)}}return o}function AG(e,t,n,r,a,s){const o=a.strideDepth,i=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,u=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,f=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=wC(a.outShape,n),x=v.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],N=a.outShape[3]*a.outShape[4],S=a.outShape[4];for(let C=0;C<a.batchSize;++C){const t=C*w,n=C*r[0];for(let v=0;v<a.inChannels;++v)for(let w=0;w<a.outDepth;++w){const C=w*o-m;let T=C;for(;T<0;)T+=l;const E=Math.min(a.inDepth,p+C),I=t+w*k;for(let t=0;t<a.outHeight;++t){const o=t*i-g;let p=o;for(;p<0;)p+=u;const m=Math.min(a.inHeight,h+o),w=I+t*N;for(let t=0;t<a.outWidth;++t){const o=t*c-y;let i=o;for(;i<0;)i+=d;const h=Math.min(a.inWidth,f+o),g=w+t*S;let k=b,N=0,C=0;for(let t=T;t<E;t+=l){const a=n+t*r[1];for(let t=p;t<m;t+=u){const n=a+t*r[2];for(let t=i;t<h;t+=d){const a=e[n+t*r[3]+v];if("max"===s&&a>k?k=a:"avg"===s&&(N+=a,C++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}x[g+v]="avg"===s?N/Math.max(C,1):k}}}}return v}const RG={kernelName:uv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;mV(a,"avgPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r;nb(eI(o,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const l=GE(a.shape,s,o,1,i,c);let u;if(1===l.filterWidth&&1===l.filterHeight&&cb(l.inShape,l.outShape))u=NV({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Ab(a.shape),r=_G(e,a.shape,a.dtype,t,l,"avg");u=n.makeTensorInfo(l.outShape,a.dtype,r.values)}return u}};const DG={kernelName:pv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:l}=r;mV(a,"avgPool3d");const u=HE(a.shape,s,o,1,i,c,l),d=AG(n.data.get(a.dataId).values,a.shape,a.dtype,Ab(a.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const MG={kernelName:hv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,{filterSize:o,strides:i,pad:c,dimRoundingMode:l}=r;mV([a,s],"avgPool3DGrad");const u=HE(s.shape,o,i,1,c,l),d=u.strideDepth,p=u.strideHeight,h=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,b=u.dilationHeight,v=u.dilationWidth,x=u.effectiveFilterDepth,w=u.effectiveFilterHeight,k=u.effectiveFilterWidth,N=x-1-u.padInfo.front,S=k-1-u.padInfo.left,C=w-1-u.padInfo.top,T=wC(s.shape,"float32"),E=1/(f*m*g),I=n.bufferSync(a);for(let _=0;_<u.batchSize;++_)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const a=t-N,s=n-C,o=r-S;let i=0;for(let t=0;t<x;t+=y){const n=(a+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=b){const r=(s+t)/p;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let t=0;t<k;t+=v){const a=(o+t)/h;if(a<0||a>=u.outWidth||Math.floor(a)!==a)continue;i+=I.get(_,n,r,a,e)}}}T.set(i*E,_,t,n,r,e)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};const PG={kernelName:dv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,o=s;mV([a,s],"avgPoolGrad");const{filterSize:i,strides:c,pad:l}=r,u=GE(o.shape,i,c,1,l),d=u.strideHeight,p=u.strideWidth,h=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,b=u.effectiveFilterWidth,v=b-1-u.padInfo.left,x=y-1-u.padInfo.top,w=wC(o.shape,"float32"),k=1/(h*f),N=n.data.get(a.dataId).values,S=wC(a.shape,"float32",N);for(let C=0;C<u.batchSize;++C)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const r=t-x,a=n-v;let s=0;for(let t=0;t<y;t+=m){const n=(r+t)/d;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<b;t+=g){const r=(a+t)/p;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;s+=S.get(C,n,r,e)}}w.set(s*k,C,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const FG={kernelName:ix,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:s,offset:o,mean:i,variance:c}=t;nb(i.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),nb(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),nb(null==s||i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),mV([a,i,c,s,o],"batchNorm");let{varianceEpsilon:l}=r;null==l&&(l=.001);const u=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=n.data.get(c.dataId).values,h=s?n.data.get(s.dataId).values:new Float32Array([1]),f=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=h.length,b=p.length,v=d.length;let x=0,w=0,k=0,N=0;for(let S=0;S<u.length;++S)m[S]=f[x++]+(u[S]-d[w++])*h[k++]/Math.sqrt(p[N++]+l),x>=g&&(x=0),w>=v&&(w=0),k>=y&&(k=0),N>=b&&(N=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function jG(e,t,n,r,a){const s=uE(r,t,n),o=sb(n),i=Ab(r);if(s){const n=dE(t,i);return"string"===a?e.slice(n,n+o):e.subarray(n,n+o)}const c=wC(r,a,"string"===a?XD(e):e),l=wC(n,a);for(let u=0;u<l.size;++u){const e=l.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));l.set(c.get(...n),...e)}return"string"===a?YD(l.values):l.values}function LG(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,size:o}=r;mV(a,"slice");const[i,c]=pE(a,s,o);JT(a,i,c);const l=jG(n.data.get(a.dataId).values,i,c,a.shape,a.dtype);return n.makeTensorInfo(c,a.dtype,l)}const zG={kernelName:Ew,backendName:"cpu",kernelFunc:LG};const BG={kernelName:mv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,crops:o}=r;mV([a],"batchToSpaceND");const i=s.reduce(((e,t)=>e*t)),c=tD(a.shape,s,i),l=nD(c.length,s.length),u=rD(a.shape,s,i),d=aD(o,s.length),p=sD(u,o,s.length),h=QV({inputs:{x:a},backend:n,attrs:{shape:c}}),f=pG({inputs:{x:h},backend:n,attrs:{perm:l}}),m=QV({inputs:{x:f},backend:n,attrs:{shape:u}}),g=LG({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function UG(e,t,n,r,a){const s=sb(r),o=Fb(a,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(o[n]+=s>0?t[i]:1)}return o}function WG(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e.shape[0],s=e.shape[1],o=wC([a,n],t.dtype);for(let i=0;i<a;i++)for(let a=0;a<s;a++){const s=e.get(i,a);if(s<0)throw new Error("Input x must be non-negative!");s>=n||(r?o.set(1,i,s):t.size>0?o.set(o.get(i,s)+t.get(i,a),i,s):o.set(o.get(i,s)+1,i,s))}return o}const VG={kernelName:gv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:o}=r,i=UG(n.data.get(a.dataId).values,n.data.get(s.dataId).values,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,i)}},GG=EV(((e,t)=>e&t)),HG=KV(yv,GG),qG={kernelName:yv,backendName:"cpu",kernelFunc:HG};const KG={kernelName:vv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,i=nT(Array.from(s),Array.from(o));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},XG=bV((e=>Math.ceil(e))),YG=xV(wv,XG),ZG={kernelName:wv,backendName:"cpu",kernelFunc:YG},$G=vV(kv,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),JG={kernelName:kv,backendName:"cpu",kernelFunc:$G},QG={kernelName:Sv,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(sb(t.shape)),a=n.data.get(t.dataId),s=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,i=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values;for(let l=0;l<i.length;l++){const e=i[l],t=c[l];r[l]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function eH(e,t,n,r){const a=vb(n,sb(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=sb(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const s="string"===n?XD(e.vals):e.vals;let o=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[i+t]=s[o++]}r+=e.shape[1]}))}return a}function tH(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const nH={kernelName:fx,backendName:"cpu",kernelFunc:tH};function rH(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,s=gb(a,t[0].shape)[0];HR(t.map((e=>e.shape)),s);let o=qR(t.map((e=>e.shape)),s);if(0===sb(o))return n.makeTensorInfo(o,t[0].dtype,[]);const i=t.filter((e=>sb(e.shape)>0));if(1===i.length)return NV({inputs:{x:i[0]},backend:n});if("complex64"===i[0].dtype){const e=i.map((e=>WV({inputs:{input:e},backend:n}))),t=i.map((e=>tH({inputs:{input:e},backend:n}))),r=rH({inputs:e,backend:n,attrs:{axis:s}}),a=rH({inputs:t,backend:n,attrs:{axis:s}}),o=zV({inputs:{real:r,imag:a},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),o}const c=i.map((e=>{const t=sb(e.shape.slice(s));return QV({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),l=c.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));o=qR(c.map((e=>e.shape)),1);const u=1===c[0].shape[0],d=eH(l,o,t[0].dtype,u),p=qR(i.map((e=>e.shape)),s),h=n.makeTensorInfo(p,t[0].dtype,d);return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}const aH={kernelName:Cv,backendName:"cpu",kernelFunc:rH};function sH(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dataFormat:c,dilations:l,dimRoundingMode:u}=r;mV([a,s],"conv2d");const d=nI(c),p=qE(a.shape,s.shape,o,l,i,u,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,y=p.padInfo.left,b=p.padInfo.top,v="channelsLast"===p.dataFormat,x=new iN(p.outShape,a.dtype),w=Ab(a.shape),k=Ab(s.shape),N=w[0],S=v?w[1]:w[2],C=v?w[2]:1,T=v?1:w[1],E=x.strides[0],I=v?x.strides[1]:x.strides[2],_=v?x.strides[2]:1,O=v?1:x.strides[1],A=n.data.get(a.dataId).values,R=n.data.get(s.dataId).values,D=x.values;for(let M=0;M<p.batchSize;++M){const e=M*N,t=M*E;for(let n=0;n<p.outHeight;++n){const r=t+n*I,a=n*p.strideHeight-b;for(let t=0;t<h;++t){const n=a+t*m;if(n<0||n>=p.inHeight)continue;const s=t*k[0],o=e+n*S;for(let e=0;e<p.outWidth;++e){const t=r+e*_,n=e*p.strideWidth-y;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const a=o+r*C;let i=s+e*k[1];for(let e=0;e<p.inChannels;++e){const n=A[a+e*T];for(let e=0;e<p.outChannels;++e)D[t+e*O]+=n*R[i+e];i+=p.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,D)}const oH={kernelName:Tv,backendName:"cpu",kernelFunc:sH};const iH={kernelName:Ev,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,pad:i,dataFormat:c,dimRoundingMode:l,filterShape:u}=r;mV([a,s],"conv2dBackpropFilter");const d=nI(c),p=qE(a.shape,u,o,1,i,l,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,y="channelsLast"===p.dataFormat,b=new iN(p.filterShape,"float32"),v=p.padInfo.left,x=p.padInfo.top,w=n.data.get(a.dataId).values,k=n.data.get(s.dataId).values,N=new iN(a.shape,a.dtype,w),S=new iN(s.shape,s.dtype,k);for(let C=0;C<m;++C){const e=Math.max(0,Math.ceil((x-C)/h)),t=Math.min(p.outHeight,(p.inHeight+x-C)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((v-n)/f)),a=Math.min(p.outWidth,(p.inWidth+v-n)/f);for(let s=0;s<p.inChannels;++s)for(let o=0;o<p.outChannels;++o){let i=0;for(let c=0;c<p.batchSize;++c)for(let l=e;l<t;++l){const e=C+l*h-x;for(let t=r;t<a;++t){const r=n+t*f-v;i+=y?N.get(c,e,r,s)*S.get(c,l,t,o):N.get(c,s,e,r)*S.get(c,o,l,t)}}b.set(i,C,n,s,o)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const cH={kernelName:Iv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{inputShape:o,strides:i,pad:c,dataFormat:l,dimRoundingMode:u}=r;mV([a,s],"conv2dBackpropInput");const d=Ab(s.shape),p=Ab(a.shape);let h=nI(l);const f=qE(o,s.shape,i,1,c,u,!1,h),m=new iN(f.inShape,"float32"),g=m.values,y=n.data.get(a.dataId).values,b=n.data.get(s.dataId).values,[v,x,w]=d,{batchSize:k,filterHeight:N,filterWidth:S,inChannels:C,inHeight:T,inWidth:E,outChannels:I,outHeight:_,outWidth:O,strideHeight:A,strideWidth:R}=f;h=f.dataFormat;const D=N-1-f.padInfo.top,M=S-1-f.padInfo.left,P="channelsLast"===h,F=m.strides[0],j=P?m.strides[1]:m.strides[2],L=P?m.strides[2]:1,z=P?1:m.strides[1],B=p[0],U=P?p[1]:p[2],W=P?p[2]:1,V=P?1:p[1];for(let G=0;G<k;++G)for(let e=0;e<C;++e)for(let t=0;t<T;++t){const n=t-D,r=Math.max(0,Math.ceil(n/A)),a=Math.min(_,(N+n)/A);for(let s=0;s<E;++s){const o=s-M,i=Math.max(0,Math.ceil(o/R)),c=Math.min(O,(S+o)/R);let l=0;for(let t=r;t<a;++t){const r=t*A-n;for(let n=i;n<c;++n){const a=B*G+U*t+W*n,s=v*(N-1-r)+x*(S-1-(n*R-o))+w*e;for(let e=0;e<I;++e){l+=y[a+V*e]*b[s+e]}}}g[F*G+j*t+L*s+z*e]=l}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const lH={kernelName:_v,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dilations:c}=r;mV([a,s],"conv3d");const l=KE(a.shape,s.shape,o,c,i),{filterDepth:u,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=l,y=g.front,b=g.left,v=g.top,x=new iN(l.outShape,a.dtype),w=n.data.get(a.dataId).values,k=n.data.get(s.dataId).values,N=x.values,S=Ab(a.shape),C=Ab(s.shape);for(let T=0;T<l.batchSize;++T){const e=T*S[0],t=T*x.strides[0];for(let n=0;n<l.outDepth;++n){const r=t+n*x.strides[1],a=n*l.strideDepth-y;for(let t=0;t<u;++t){const n=a+t*h;if(n<0||n>=l.inDepth)continue;const s=t*C[0],o=e+n*S[1];for(let e=0;e<l.outHeight;++e){const t=r+e*x.strides[2],n=e*l.strideHeight-v;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=l.inHeight)continue;const a=s+e*C[1],i=o+r*S[2];for(let e=0;e<l.outWidth;++e){const n=t+e*l.outChannels,r=e*l.strideWidth-b;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=l.inWidth)continue;const s=a+e*C[2],o=i+t*l.inChannels;let c=s;for(let e=0;e<l.inChannels;++e){const t=w[o+e];for(let e=0;e<l.outChannels;++e)N[n+e]+=t*k[c+e];c+=l.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const uH={kernelName:Ov,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,pad:i,filterShape:c}=r;mV([a,s],"conv3dBackpropFilterV2");const l=Ab(a.shape),u=Ab(s.shape),d=KE(a.shape,c,o,1,i),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,b=new iN(d.filterShape,"float32"),v=b.values,[x,w,k,N]=b.strides,S=n.data.get(s.dataId).values,[C,T,E,I]=u,_=n.data.get(a.dataId).values,[O,A,R,D]=l,M=d.padInfo.front,P=d.padInfo.left,F=d.padInfo.top;for(let j=0;j<m;++j){const e=Math.max(0,Math.ceil((M-j)/p)),t=Math.min(d.outDepth,(d.inDepth+M-j)/p),n=j*x;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((F-r)/h)),s=Math.min(d.outHeight,(d.inHeight+F-r)/h),o=r*w+n;for(let n=0;n<y;++n){const i=Math.max(0,Math.ceil((P-n)/f)),c=Math.min(d.outWidth,(d.inWidth+P-n)/f),l=n*k+o;for(let o=0;o<d.inChannels;++o){const u=o*N+l;for(let l=0;l<d.outChannels;++l){let m=0;for(let u=0;u<d.batchSize;++u){const d=u*O,g=u*C;for(let u=e;u<t;++u){const e=(j+u*p-M)*A+d,t=u*T+g;for(let u=a;u<s;++u){const a=(r+u*h-F)*R+e,s=u*E+t;for(let e=i;e<c;++e){const t=e*I+s;m+=_[(n+e*f-P)*D+a+o]*S[t+l]}}}}v[u+l]=m}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const dH={kernelName:Av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{pad:o,strides:i,inputShape:c}=r;mV([a],"conv3dBackpropInputV2");const l=Ab(a.shape),u=Ab(s.shape),d=KE(c,s.shape,i,1,o),p=new iN(d.inShape,"float32"),h=p.values,[f,m,g,y]=p.strides,b=n.data.get(a.dataId).values,[v,x,w,k]=l,N=n.data.get(s.dataId).values,[S,C,T,E]=u,{batchSize:I,filterDepth:_,filterHeight:O,filterWidth:A,inChannels:R,inDepth:D,inHeight:M,inWidth:P,outChannels:F,outDepth:j,outHeight:L,outWidth:z,strideDepth:B,strideHeight:U,strideWidth:W}=d,V=_-1-d.padInfo.front,G=O-1-d.padInfo.top,H=A-1-d.padInfo.left;for(let q=0;q<I;++q)for(let e=0;e<R;++e)for(let t=0;t<D;++t){const n=t-V,r=Math.max(0,Math.ceil(n/B)),a=Math.min(j,(_+n)/B);for(let s=0;s<M;++s){const o=s-G,i=Math.max(0,Math.ceil(o/U)),c=Math.min(L,(O+o)/U);for(let l=0;l<P;++l){const u=l-H,d=Math.max(0,Math.ceil(u/W)),p=Math.min(z,(A+u)/W);let I=0;for(let t=r;t<a;++t){const r=t*B-n;for(let n=i;n<c;++n){const a=n*U-o;for(let s=d;s<p;++s){const o=v*q+x*t+w*n+k*s,i=S*(_-1-r)+C*(O-1-a)+T*(A-1-(s*W-u))+E*e;for(let e=0;e<F;++e){I+=b[o+e]*N[i+e]}}}}h[f*q+m*t+g*s+y*l+e]=I}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},pH=vV(Rv,(e=>Math.cos(e))),hH={kernelName:Rv,backendName:"cpu",kernelFunc:pH},fH=vV(Dv,(e=>Math.cosh(e))),mH={kernelName:Dv,backendName:"cpu",kernelFunc:fH};const gH={kernelName:Fv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:s,boxInd:o}=t,{cropSize:i,method:c,extrapolationValue:l}=r,[u,d,p,h]=a.shape,f=s.shape[0],[m,g]=i,y=wC([f,m,g,h],"float32"),b=n.data.get(s.dataId).values,v=n.data.get(o.dataId).values,x=n.data.get(a.dataId).values,w=Ab(a.shape),k=Ab(y.shape);for(let N=0;N<f;N++){const e=4*N,t=b[e],n=b[e+1],r=b[e+2],a=b[e+3],s=v[N];if(s>=u)continue;const o=m>1?(r-t)*(d-1)/(m-1):0,i=g>1?(a-n)*(p-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(d-1)+u*o:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*k[2]+u*k[1]+N*k[0];y.values[n]=l}else if("bilinear"===c){const t=Math.floor(e),r=Math.ceil(e),o=e-t;for(let e=0;e<g;e++){const c=g>1?n*(p-1)+e*i:.5*(n+a)*(p-1);if(c<0||c>p-1){for(let t=0;t<h;t++){const n=t+e*k[2]+u*k[1]+N*k[0];y.values[n]=l}continue}const d=Math.floor(c),f=Math.ceil(c),m=c-d;for(let n=0;n<h;n++){let a=n+d*w[2]+t*w[1]+s*w[0];const i=x[a];a=n+f*w[2]+t*w[1]+s*w[0];const c=x[a];a=n+d*w[2]+r*w[1]+s*w[0];const l=x[a];a=n+f*w[2]+r*w[1]+s*w[0];const p=i+(c-i)*m,h=l+(x[a]-l)*m;a=n+e*k[2]+u*k[1]+N*k[0],y.values[a]=p+(h-p)*o}}}else for(let t=0;t<g;++t){const r=g>1?n*(p-1)+t*i:.5*(n+a)*(p-1);if(r<0||r>p-1){for(let e=0;e<h;e++){const n=e+t*k[2]+u*k[1]+N*k[0];y.values[n]=l}continue}const o=Math.round(r),c=Math.round(e);for(let e=0;e<h;e++){const n=e+o*w[2]+c*w[1]+s*w[0],r=e+t*k[2]+u*k[1]+N*k[0];y.values[r]=x[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const yH={kernelName:Mv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r;mV(a,"cumprod");const c=n_([s],a.shape.length);let l=a;null!=c&&(l=pG({inputs:{x:a},backend:n,attrs:{perm:c}}));const u=a_(1,a.shape.length)[0];if(u!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(u));const d=xN(l.dtype,"int32"),p=Pb(sb(l.shape),d),h=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=o?1:h[t];else{const n=m(y,e-1);p[t]=o?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(l.shape,d,p);if(null!=c){const e=pG({inputs:{x:g},backend:n,attrs:{perm:r_(c)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(l),e}return g}};const bH={kernelName:Pv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r;mV(a,"cumsum");const c=n_([s],a.shape.length);let l=a;null!=c&&(l=pG({inputs:{x:a},backend:n,attrs:{perm:c}}));const u=a_(1,a.shape.length)[0];if(u!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(u));const d=xN(l.dtype,"int32"),p=Fb(sb(l.shape),d),h=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=o?0:h[t];else{const n=m(y,e-1);p[t]=o?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(l.shape,d,p);if(null!=c){const e=pG({inputs:{x:g},backend:n,attrs:{perm:r_(c)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(l),e}return g}};const vH={kernelName:jv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:o,binaryOutput:i}=r;if(1===a.shape.length){const e=UG(n.data.get(a.dataId).values,n.data.get(s.dataId).values,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,e)}if(2===a.shape.length){const e=WG(n.bufferSync(a),n.bufferSync(s),o,i);return n.makeTensorInfo(e.shape,s.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};const xH={kernelName:Lv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:s,dataFormat:o}=r;nb("NHWC"===o,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(o)));const i=a.shape[0],c=a.shape[1],l=a.shape[2],u=a.shape[3],d=c*s,p=l*s,h=u/(s*s),f=n.data.get(a.dataId).values,m=new Float32Array(i*d*p*h);let g=0;for(let y=0;y<i;++y)for(let e=0;e<d;++e){const t=Math.floor(e/s),n=e%s;for(let e=0;e<p;++e){const r=Math.floor(e/s),a=(n*s+e%s)*h;for(let e=0;e<h;++e){const n=e+a+u*(r+l*(t+c*y));m[g++]=f[n]}}}return n.makeTensorInfo([i,d,p,h],a.dtype,m)}};function wH(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dilations:c,dimRoundingMode:l}=r;mV([a,s],"depthwiseConv2DNative");const u=Ab(a.shape),d=Ab(s.shape);let p=c;null==p&&(p=[1,1]),nb(eI(o,p),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(p,"'")));const h=qE(a.shape,s.shape,o,p,i,l,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:b}=h,v=b.left,x=b.top,w=h.outChannels/h.inChannels,k=new iN(h.outShape,a.dtype),N=n.data.get(a.dataId).values,S=n.data.get(s.dataId).values,C=k.values;for(let T=0;T<h.batchSize;++T){const e=T*u[0],t=T*k.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*k.strides[1],a=n*h.strideHeight-x;for(let t=0;t<f;++t){const n=a+t*g;if(n<0||n>=h.inHeight)continue;const s=t*d[0],o=e+n*u[1];for(let e=0;e<h.outWidth;++e){const t=r+e*k.strides[2],n=e*h.strideWidth-v;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=h.inWidth)continue;const a=s+e*d[1],i=o+r*h.inChannels;let c=t,l=a;for(let e=0;e<h.inChannels;++e){const t=N[i+e];for(let e=0;e<w;++e)C[c+e]+=t*S[l+e];c+=w,l+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const kH={kernelName:zv,backendName:"cpu",kernelFunc:wH};const NH={kernelName:Bv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,dilations:i,pad:c,dimRoundingMode:l,filterShape:u}=r;mV([a,s],"depthwiseConv2dNativeBackpropFilter");const d=qE(a.shape,u,o,i,c,l,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new iN(d.filterShape,"float32"),y=d.padInfo.left,b=d.padInfo.top,v=d.outChannels/d.inChannels,x=n.data.get(a.dataId).values,w=new iN(a.shape,a.dtype,x),k=n.data.get(s.dataId).values,N=new iN(s.shape,s.dtype,k);for(let S=0;S<f;++S){const e=Math.max(0,Math.ceil((b-S)/p)),t=Math.min(d.outHeight,(d.inHeight+b-S)/p);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/h)),a=Math.min(d.outWidth,(d.inWidth+y-n)/h);for(let s=0;s<d.outChannels;++s){const o=Math.trunc(s/v),i=s%v;let c=0;for(let l=0;l<d.batchSize;++l)for(let i=e;i<t;++i){const e=S+i*p-b;for(let t=r;t<a;++t){const r=n+t*h-y;c+=w.get(l,e,r,o)*N.get(l,i,t,s)}}g.set(c,S,n,o,i)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const SH={kernelName:Uv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{strides:o,dilations:i,pad:c,dimRoundingMode:l,inputShape:u}=r;mV([a,s],"depthwiseConv2DNativeBackpropInput");const d=Ab(a.shape),p=Ab(s.shape),h=qE(u,s.shape,o,i,c,l,!0),f=new iN(h.inShape,"float32"),m=f.values,[g,y,b]=f.strides,v=n.data.get(a.dataId).values,[x,w,k]=d,N=n.data.get(s.dataId).values,[S,C,T]=p,{batchSize:E,filterHeight:I,filterWidth:_,inChannels:O,inHeight:A,inWidth:R,outChannels:D,outHeight:M,outWidth:P,strideHeight:F,strideWidth:j}=h,L=I-1-h.padInfo.top,z=_-1-h.padInfo.left,B=D/O;for(let U=0;U<E;++U)for(let e=0;e<O;++e)for(let t=0;t<A;++t){const n=t-L,r=Math.max(0,Math.ceil(n/F)),a=Math.min(M,(I+n)/F);for(let s=0;s<R;++s){const o=s-z,i=Math.max(0,Math.ceil(o/j)),c=Math.min(P,(_+o)/j);let l=0;for(let t=r;t<a;++t){const r=t*F-n;for(let n=i;n<c;++n){const a=x*U+w*t+k*n,s=S*(I-1-r)+C*(_-1-(n*j-o))+T*e;for(let t=0;t<B;++t){l+=v[a+(e*B+t)]*N[s+t]}}}m[g*U+y*t+b*s+e]=l}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const CH={kernelName:Wv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=sb(r.shape),s=n.data.get(r.dataId).values,o=wC([a,a],r.dtype),i=o.values;for(let l=0;l<s.length;l++)i[l*a+l]=s[l];const c=[...r.shape,...r.shape];return n.makeTensorInfo(c,o.dtype,o.values)}},TH={kernelName:Vv,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:s}=t,{strides:o,pad:i,dilations:c}=r,l=n,u=l.data.get(a.dataId).values,d=a.shape.length,p=l.data.get(s.dataId).values,h=s.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:b,outWidth:v,padInfo:x,strideHeight:w,strideWidth:k,filterHeight:N,filterWidth:S,dilationHeight:C,dilationWidth:T,outShape:E}=VE(a.shape,s.shape,o,i,"NHWC",c),I=sb(E),_=E.length,O=vb(a.dtype,I);for(let A=0;A<f;++A)for(let e=0;e<b;++e){const t=e*w-x.top;for(let n=0;n<v;++n){const r=n*k-x.left;for(let o=0;o<y;++o){let i=Number.MIN_SAFE_INTEGER;for(let e=0;e<N;++e){const n=t+e*C;if(n>=0&&n<m)for(let t=0;t<S;++t){const c=r+t*T;if(c>=0&&c<g){const r=zb([A,n,c,o],d,Ab(a.shape)),l=zb([e,t,o],h,Ab(s.shape)),f=u[r]+p[l];f>i&&(i=f)}}}O[zb([A,e,n,o],_,Ab(E))]=i}}}return{dataId:l.write(Vk(O,a.dtype),E,a.dtype),shape:E,dtype:a.dtype}}},EH={kernelName:Hv,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:s,dy:o}=t,{strides:i,pad:c,dilations:l}=r,u=n,d=Db(a.shape,u.data.get(a.dataId).values),p=Db(s.shape,u.data.get(s.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:N,dilationHeight:S,dilationWidth:C,outShape:T}=VE(a.shape,s.shape,i,c,"NHWC",l);nb(o.rank===T.length,(()=>"Error in ".concat(Hv,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank)));const E=Db(T,u.data.get(o.dataId).values),I=jb(s.shape,s.dtype);for(let _=0;_<h;++_)for(let e=0;e<y;++e){const t=e*x-v.top;for(let n=0;n<b;++n){const r=n*w-v.left;for(let a=0;a<g;++a){let s=Number.MIN_SAFE_INTEGER,o=0,i=0;for(let e=0;e<k;++e){const n=t+e*S;if(n>=0&&n<f)for(let t=0;t<N;++t){const c=r+t*C;if(c>=0&&c<m){const r=d[_][n][c][a]+p[e][t][a];r>s&&(s=r,o=e,i=t)}}}I[o][i][a]+=E[_][e][n][a]}}}return{dataId:u.write(Vk(I,a.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},IH={kernelName:Gv,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:s,dy:o}=t,{strides:i,pad:c,dilations:l}=r,u=n,d=Db(a.shape,u.data.get(a.dataId).values),p=Db(s.shape,u.data.get(s.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:N,dilationHeight:S,dilationWidth:C,outShape:T}=VE(a.shape,s.shape,i,c,"NHWC",l);nb(o.rank===T.length,(()=>"Error in ".concat(Gv,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank)));const E=Db(T,u.data.get(o.dataId).values),I=jb(a.shape,a.dtype);for(let _=0;_<h;++_)for(let e=0;e<y;++e){const t=e*x-v.top;for(let n=0;n<b;++n){const r=n*w-v.left;for(let a=0;a<g;++a){let s=Number.MIN_SAFE_INTEGER,o=t<0?0:t,i=r<0?0:r;for(let e=0;e<k;++e){const n=t+e*S;if(n>=0&&n<f)for(let t=0;t<N;++t){const c=r+t*C;if(c>=0&&c<m){const r=d[_][n][c][a]+p[e][t][a];r>s&&(s=r,o=n,i=c)}}}I[_][o][i][a]+=E[_][e][n][a]}}}return{dataId:u.write(Vk(I,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const _H={kernelName:qv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:s,options:o}=r,{contextOptions:i,imageOptions:c}=o||{},l=(null===c||void 0===c?void 0:c.alpha)||1,u=(null===i||void 0===i?void 0:i.contextType)||"2d";if("2d"!==u)throw new Error("Context type ".concat(i.contextType," is not supported by the CPU backend."));const d=s.getContext(u,(null===i||void 0===i?void 0:i.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(u," type."));const[p,h]=a.shape.slice(0,2),f=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,y=new Uint8ClampedArray(h*p*4);for(let v=0;v<p*h;++v){const e=[0,0,0,255*l];for(let n=0;n<f;n++){const t=m[v*f+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===a.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*v;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}s.width=h,s.height=p;const b=new ImageData(y,h,p);return d.putImageData(b,0,0),a}},OH=EV(((e,t)=>e*t)),AH=XV(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),RH=KV(qx,OH,AH),DH={kernelName:qx,backendName:"cpu",kernelFunc:RH};function MH(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;let i;mV(a,"sum"),i="bool"===a.dtype?HV({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):NV({inputs:{x:a},backend:n});const c=i.shape.length,l=gb(s,i.shape),u=n_(l,c);let d=l,p=i;null!=u&&(p=pG({inputs:{x:i},backend:n,attrs:{perm:u}}),d=a_(d.length,c)),t_("sum",d,p.shape.length);const[h,f]=QI(p.shape,d);let m=UV(n,h,xN(p.dtype,"int32"));const g=sb(f),y=n.data.get(m.dataId).values,b=n.data.get(p.dataId).values;for(let v=0;v<y.length;++v){const e=v*g;let t=0;for(let n=0;n<g;++n)t+=b[e+n];y[v]=t}if(o){const e=m;m=QV({inputs:{x:m},backend:n,attrs:{shape:e_(m.shape,l)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(i),null!=u&&n.disposeIntermediateTensorInfo(p),m}const PH={kernelName:Mw,backendName:"cpu",kernelFunc:MH};const FH={kernelName:Xv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,s=t,{allDims:o,summedDims:i,idDims:c}=TD(a,s.length);ID(o.length,c,s);const{path:l,steps:u}=_D(i,c),d=u.length;let p=null,h=o.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=ED(h,c[e]);let a;OD(t)?a=s[e]:(a=pG({inputs:{x:s[e]},backend:n,attrs:{perm:t}}),f.push(a));const o=a.shape.slice();for(let e=0;e<r.length;++e)o.splice(r[e],0,1);cb(a.shape,o)||(a=QV({inputs:{x:a},backend:n,attrs:{shape:o}}),f.push(a)),null===p?p=a:(p=RH({inputs:{a:a,b:p},backend:n}),f.push(p))}m<d-1&&(l[m]>=0&&(p=MH({inputs:{x:p},backend:n,attrs:{axis:l[m]-(o.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const jH={kernelName:Zv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;mV([r,a],"eluGrad");const s=new Float32Array(sb(a.shape)),o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values;for(let c=0;c<o.length;++c){const e=o[c];s[c]=e>=0?i[c]:i[c]*(e+1)}return n.makeTensorInfo(a.shape,"float32",s)}},LH=EV(((e,t)=>e===t?1:0)),zH=KV(Jv,LH,null,"bool"),BH={kernelName:Jv,backendName:"cpu",kernelFunc:zH},UH=cD,WH=lD,VH=uD,GH=dD,HH=pD,qH=hD,KH=vV($v,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+UH*n);return t*(1-((((qH*r+HH)*r+GH)*r+VH)*r+WH)*r*Math.exp(-n*n))})),XH={kernelName:$v,backendName:"cpu",kernelFunc:KH},YH=bV((e=>Math.exp(e))),ZH=xV(Qv,YH,"float32"),$H={kernelName:Qv,backendName:"cpu",kernelFunc:ZH};function JH(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:s}=r,o=a.shape.length,i=a.shape.slice();let c=s;return s<0&&(nb(-(o+1)<=s,(()=>"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]"))),c=o+s+1),i.splice(c,0,1),QV({inputs:{x:a},backend:n,attrs:{shape:i}})}const QH={kernelName:ex,backendName:"cpu",kernelFunc:JH},eq=bV((e=>Math.expm1(e))),tq=xV(tx,eq),nq={kernelName:tx,backendName:"cpu",kernelFunc:tq},rq=EV(((e,t)=>e/t)),aq=KV(Kv,rq),sq={kernelName:Kv,backendName:"cpu",kernelFunc:aq},oq=EV(((e,t)=>e-t)),iq=XV(((e,t,n,r)=>({real:e-n,imag:t-r}))),cq=KV(Zw,oq,iq),lq={kernelName:Zw,backendName:"cpu",kernelFunc:cq};function uq(e,t,n){const r=e.shape,a=r[0],s=r[1],o=n.data.get(e.dataId),i=o.complexTensorInfos.real,c=o.complexTensorInfos.imag,l=[a,s],u=sb(l),d=bb("float32",u),p=bb("float32",u);for(let g=0;g<a;g++){const e=LG({inputs:{x:i},backend:n,attrs:{begin:[g,0],size:[1,s]}}),r=LG({inputs:{x:c},backend:n,attrs:{begin:[g,0],size:[1,s]}}),a=zV({inputs:{real:e,imag:r},backend:n}),{real:o,imag:l}=dq(a,t,n),u=fD(o,l);for(let t=0;t<s;t++){const e=bD(u,t);d[g*s+t]=e.real,p[g*s+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(l,"float32",d),f=n.makeTensorInfo(l,"float32",p),m=zV({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function dq(e,t,n){const r=sb(e.shape),a=n.data.get(e.dataId),s=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((i=r)&i-1)){const a=pq(s,o,r,t,n),i=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(i,"float32",a.real),t=n.makeTensorInfo(i,"float32",a.imag),s=n.makeTensorInfo([],"float32",Wk(r,"float32")),o=NV({inputs:{x:s},backend:n}),c=sq.kernelFunc({inputs:{a:e,b:s},backend:n}),l=sq.kernelFunc({inputs:{a:t,b:o},backend:n}),u=n.data.get(c.dataId).values,d=n.data.get(l.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(l),{real:u,imag:d}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let s=0,o=0;for(let r=0;r<t;r++){const i=wD(a*r,t,n),c=bD(e,r);s+=c.real*i.real-c.imag*i.imag,o+=c.real*i.imag+c.imag*i.real}n&&(s/=t,o/=t),vD(r,s,o,a)}return r}(fD(s,o),r,t);return mD(e)}var i}function pq(e,t,n,r,a){if(1===n)return{real:e,imag:t};const s=fD(e,t),o=n/2,i=gD(s),c=i.real,l=i.imag,u=[c.length],d=a.makeTensorInfo(u,"float32",c),p=a.makeTensorInfo(u,"float32",l),h=zV({inputs:{real:d,imag:p},backend:a}),f=yD(s),m=f.real,g=f.imag,y=[m.length],b=a.makeTensorInfo(y,"float32",m),v=a.makeTensorInfo(y,"float32",g),x=zV({inputs:{real:b,imag:v},backend:a}),w=pq(c,l,o,r,a),k=w.real,N=w.imag,S=[k.length],C=a.makeTensorInfo(S,"float32",k),T=a.makeTensorInfo(S,"float32",N),E=zV({inputs:{real:C,imag:T},backend:a}),I=pq(m,g,o,r,a),_=I.real,O=I.imag,A=[_.length],R=a.makeTensorInfo(A,"float32",_),D=a.makeTensorInfo(A,"float32",O),M=zV({inputs:{real:R,imag:D},backend:a}),P=xD(n,r),F=[P.real.length],j=a.makeTensorInfo(F,"float32",P.real),L=a.makeTensorInfo(F,"float32",P.imag),z=zV({inputs:{real:j,imag:L},backend:a}),B=RH({inputs:{a:z,b:M},backend:a}),U=$V({inputs:{a:E,b:B},backend:a}),W=cq({inputs:{a:E,b:B},backend:a}),V=WV({inputs:{input:U},backend:a}),G=WV({inputs:{input:W},backend:a}),H=tH({inputs:{input:U},backend:a}),q=tH({inputs:{input:W},backend:a}),K=rH({inputs:[V,G],backend:a,attrs:{axis:0}}),X=rH({inputs:[H,q],backend:a,attrs:{axis:0}}),Y=a.data.get(K.dataId).values,Z=a.data.get(X.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(X),{real:Y,imag:Z}}const hq={kernelName:nx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=sb(r.shape),s=r.shape[r.shape.length-1],o=QV({inputs:{x:r},backend:n,attrs:{shape:[a/s,s]}}),i=uq(o,!1,n),c=QV({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),c}};function fq(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:s}=n,o=s||Ib(a),i=vb(o,sb(r));return function(e,t,n){e.fill(t)}(i,a),t.makeTensorInfo(r,o,i)}const mq={kernelName:rx,backendName:"cpu",kernelFunc:fq};const gq={kernelName:ax,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,s=r,o=bb(a.dtype,sb(a.shape)),[i,c,l,u]=a.shape,d=s.data.get(a.dataId).values;for(let p=0;p<i;p++){const e=p*l*c*u;for(let t=0;t<c;t++){const n=t*(l*u);for(let t=0;t<l;t++){const r=t*u;for(let a=0;a<u;a++){const s=Math.round(l-t-1),i=e+n+r+a;let c=d[i];if(s>=0&&s<l){c=d[e+n+s*u+a]}o[i]=c}}}}return{dataId:s.write(o,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},yq=bV((e=>Math.floor(e))),bq=xV(sx,yq),vq={kernelName:sx,backendName:"cpu",kernelFunc:bq},xq=EV(((e,t)=>Math.floor(e/t))),wq=KV(ox,xq,null,"int32"),kq={kernelName:ox,backendName:"cpu",kernelFunc:wq};const Nq={kernelName:pk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=sH({inputs:{x:a,filter:s},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p}});if(o){const e=m;if("NCHW"===u&&1===o.shape.length&&1!==o.shape[0]){const e=QV({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=$V({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=$V({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===u&&"prelu"===h&&1===i.shape.length&&1!==i.shape[0]){const e=QV({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=LV(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=LV(n,m,h,i,f);n.disposeIntermediateTensorInfo(e)}return m}};const Sq={kernelName:hk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=wH({inputs:{x:a,filter:s},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p}});if(o){const e=m;m=$V({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=LV(n,m,h,i,f),n.disposeIntermediateTensorInfo(e)}return m}};function Cq(e,t,n,r,a,s,o,i,c){const l=wC([r,s],n);for(let u=0;u<r;u++){const n=[];let r=0;for(let t=0;t<a;t++){const s=e[u*a+t];r+=s*o[t],n.push(s)}if(r<0||r>=c/s)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(i));for(let e=0;e<s;e++)l.values[u*s+e]=t.get(...t.indexToLoc(r*s+e))}return l}const Tq={kernelName:lx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,s=sb(r.shape),o=a.shape,i=o[o.length-1],[c,l,u,d]=qT(r,a);if(0===l)return n.makeTensorInfo(c,r.dtype,[]);const p=Cq(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,l,i,u,d,r.shape,s);return n.makeTensorInfo(c,r.dtype,p.values)}};function Eq(e,t,n){const r=wC(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),s=n[0],o=n[2],i=t.locToIndex([s,o]);n[2]=t.values[i];const c=e.locToIndex(n);0<=c&&c<e.values.length&&(r.values[a]=e.values[c])}return r}const Iq={kernelName:cx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:s}=t,{axis:o,batchDims:i}=r;mV([a,s],"gatherV2");const c=gb(o,a.shape)[0],l=n.data.get(s.dataId).values,u=a.shape[c];for(let v=0;v<l.length;++v){const e=l[v];nb(e<=u-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(u-1,"]")))}let d=i;null==i&&(d=0);const p=sb(s.shape),h=KD(a,s,c,d),f=QV({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=QV({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],y=n.bufferSync(m),b=Eq(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}},_q=EV(((e,t)=>e>t?1:0)),Oq=KV(ux,_q,null,"bool"),Aq={kernelName:ux,backendName:"cpu",kernelFunc:Oq},Rq=EV(((e,t)=>e>=t?1:0)),Dq=KV(dx,Rq,null,"bool"),Mq={kernelName:dx,backendName:"cpu",kernelFunc:Dq};const Pq={kernelName:hx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=sb(r.shape),s=r.shape[r.shape.length-1],o=QV({inputs:{x:r},backend:n,attrs:{shape:[a/s,s]}}),i=uq(o,!0,n),c=QV({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),c}},Fq=vV(mx,(e=>Number.isFinite(e)?1:0),"bool"),jq={kernelName:mx,backendName:"cpu",kernelFunc:Fq},Lq=vV(gx,(e=>Math.abs(e)===1/0?1:0),"bool"),zq={kernelName:gx,backendName:"cpu",kernelFunc:Lq},Bq=vV(yx,(e=>Number.isNaN(e)?1:0),"bool"),Uq={kernelName:yx,backendName:"cpu",kernelFunc:Bq},Wq=EV(((e,t)=>e<t?1:0)),Vq=KV(vx,Wq,null,"bool"),Gq={kernelName:vx,backendName:"cpu",kernelFunc:Vq},Hq=EV(((e,t)=>e<=t?1:0)),qq=KV(xx,Hq,null,"bool"),Kq={kernelName:xx,backendName:"cpu",kernelFunc:qq};function Xq(e,t,n){const r=(t-e)/(n-1),a=Fb(n,"float32");a[0]=e;for(let s=1;s<a.length;s++)a[s]=a[s-1]+r;return a}const Yq={kernelName:wx,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:s}=n,o=Xq(r,a,s);return t.makeTensorInfo([o.length],"float32",o)}},Zq=bV((e=>Math.log(e))),$q=xV(kx,Zq),Jq={kernelName:kx,backendName:"cpu",kernelFunc:$q},Qq=vV(Nx,(e=>Math.log1p(e))),eK={kernelName:Nx,backendName:"cpu",kernelFunc:Qq},tK=EV(((e,t)=>e&&t)),nK=KV(Sx,tK,null,"bool"),rK={kernelName:Sx,backendName:"cpu",kernelFunc:nK},aK=vV(Cx,(e=>e?0:1),"bool"),sK={kernelName:Cx,backendName:"cpu",kernelFunc:aK},oK=EV(((e,t)=>e||t)),iK=KV(Tx,oK,null,"bool"),cK={kernelName:Tx,backendName:"cpu",kernelFunc:iK};const lK={kernelName:Ox,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:s,bias:o,alpha:i,beta:c}=r;mV(a,"LRN");const l=a.shape[3],u=l-1,d=n.data.get(a.dataId).values,p=sb(a.shape),h=new Float32Array(p);function f(e){const t=e%l;let n=e-t+Math.max(0,t-s);const r=e-t+Math.min(t+s,u);let a=0;for(;n<=r;n++){const e=d[n];a+=e*e}return a}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(o+i*e,-c);h[m]=t}return n.makeTensorInfo(a.shape,a.dtype,h)}};const uK={kernelName:Ax,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:s,dy:o}=t,{depthRadius:i,bias:c,alpha:l,beta:u}=r;mV(o,"LRNGrad");const d=sb(o.shape),p=o.shape[3],h=n.data.get(o.dataId).values,f=n.data.get(a.dataId).values,m=n.data.get(s.dataId).values,g=new Float32Array(d),y=d;for(let b=0;b<y;b++){const e=b%p,t=b-e+Math.max(0,e-i),n=b-e+Math.min(p,e+i+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(f[a],2);r=l*r+c;for(let a=t;a<n;a++){let e=-2*l*u*f[a]*m[b]/r;b===a&&(e+=Math.pow(r,-u)),e*=h[b],g[a]+=e}}return n.makeTensorInfo(o.shape,a.dtype,g)}};function dK(e,t,n,r){const a=bb(r,sb(n));for(let s=0;s<a.length;++s){const n=s*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[s]=r}return a}function pK(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:s,keepDims:o}=r,i=n;let c=a.shape;const l=c.length,u=gb(s,c);let d=u;const p=n_(d,l);let h=i.data.get(a.dataId).values;if(null!=p){const e=new Array(l);for(let t=0;t<e.length;t++)e[t]=c[p[t]];h=dG(h,c,a.dtype,p,e),d=a_(d.length,l),c=e}mV(a,"max"),t_("max",d,l);const[f,m]=QI(c,d),g=dK(h,sb(m),f,a.dtype),y=i.write(g,f,a.dtype);let b=f;if(o){b=e_(f,u)}return{dataId:y,shape:b,dtype:a.dtype}}const hK={kernelName:Dx,backendName:"cpu",kernelFunc:pK},fK=EV(((e,t)=>Math.max(e,t))),mK=KV(Mx,fK),gK={kernelName:Mx,backendName:"cpu",kernelFunc:mK};const yK={kernelName:Px,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;mV(a,"maxPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r;nb(eI(o,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const l=GE(a.shape,s,o,1,i,c);let u;if(1===l.filterWidth&&1===l.filterHeight&&cb(l.inShape,l.outShape))u=NV({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Ab(a.shape),r=_G(e,a.shape,a.dtype,t,l,"max");u=n.makeTensorInfo(l.outShape,a.dtype,r.values)}return u}};const bK={kernelName:jx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:l}=r;mV(a,"maxPool3d");const u=HE(a.shape,s,o,1,i,c,l),d=AG(n.data.get(a.dataId).values,a.shape,a.dtype,Ab(a.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const vK={kernelName:Lx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,{filterSize:o,strides:i,pad:c,dimRoundingMode:l}=r;mV([a,s],"maxPool3DGrad");const u=HE(s.shape,o,i,1,c,l),d=function(e,t){const n=wC(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,s=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const b=y*r-p;let v=b;for(;v<0;)v+=o;const x=Math.min(t.inDepth,l+b);for(let r=0;r<t.outHeight;++r){const l=r*a-h;let p=l;for(;p<0;)p+=i;const w=Math.min(t.inHeight,u+l);for(let a=0;a<t.outWidth;++a){const h=a*s-f;let k=h;for(;k<0;)k+=c;const N=Math.min(t.inWidth,d+h);let S=Number.NEGATIVE_INFINITY,C=-1;for(let t=v;t<x;t+=o){const n=t-b;for(let r=p;r<w;r+=i){const a=r-l;for(let s=k;s<N;s+=c){const o=s-h,i=e.get(m,t,r,s,g);i>=S&&(S=i,C=n*u*d+a*u+o)}}}n.set(C,m,y,r,a,g)}}}return n}(n.bufferSync(s),u),p=u.strideDepth,h=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,b=u.effectiveFilterDepth,v=u.effectiveFilterHeight,x=u.effectiveFilterWidth,w=b-1-u.padInfo.front,k=x-1-u.padInfo.left,N=v-1-u.padInfo.top,S=wC(s.shape,"float32"),C=n.bufferSync(a);for(let T=0;T<u.batchSize;++T)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const a=t-w,s=n-N,o=r-k;let i=0;for(let t=0;t<b;t+=m){const n=(a+t)/p;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let r=0;r<v;r+=g){const a=(s+r)/h;if(!(a<0||a>=u.outHeight||Math.floor(a)!==a))for(let s=0;s<x;s+=y){const c=(o+s)/f;if(c<0||c>=u.outWidth||Math.floor(c)!==c)continue;const l=b*v*x-1-d.get(T,n,a,c,e)===t*v*x+r*x+s?1:0;if(0===l)continue;i+=C.get(T,n,a,c,e)*l}}}S.set(i,T,t,n,r,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const xK={kernelName:Fx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s,output:o}=t,i=s;mV([s,o],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=r,p=GE(i.shape,c,l,1,u,d),h=n.data.get(i.dataId).values,f=wC(p.outShape,i.dtype,OG(h,i.shape,i.dtype,p).values),m=p.strideHeight,g=p.strideWidth,y=p.dilationHeight,b=p.dilationWidth,v=p.effectiveFilterHeight,x=p.effectiveFilterWidth,w=x-1-p.padInfo.left,k=v-1-p.padInfo.top,N=wC(i.shape,"float32"),S=n.data.get(a.dataId).values,C=wC(a.shape,"float32",S);for(let T=0;T<p.batchSize;++T)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const r=t-k,a=n-w;let s=0;for(let t=0;t<v;t+=y){const n=(r+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let r=0;r<x;r+=b){const o=(a+r)/g;if(o<0||o>=p.outWidth||Math.floor(o)!==o)continue;const i=v*x-1-f.get(T,n,o,e)===t*x+r?1:0;if(0===i)continue;s+=C.get(T,n,o,e)*i}}N.set(s,T,t,n,e)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}};const wK={kernelName:zx,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:s,strides:o,pad:i,includeBatchInIndex:c}=n,l=r;mV(a,"MaxPoolWithArgmax");const u=l.data.get(a.dataId).values,d=GE(a.shape,s,o,[1,1],i),[p,h]=function(e,t,n,r,a){const s=_G(e,0,n,Ab(t),a,"max"),o=OG(e,t,n,a,!0,r);return[s.values,o.values]}(u,a.shape,a.dtype,c,d),f=l.write(p,d.outShape,a.dtype),m=l.write(h,d.outShape,a.dtype);return[{dataId:f,shape:d.outShape,dtype:a.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const kK={kernelName:Bx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r,i=gb(s,a.shape),c=sb(QI(a.shape,i)[1]),l=[],u=n.makeTensorInfo([],"float32",new Float32Array([c]));l.push(u);const d=HV({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});l.push(d);const p=aq({inputs:{a:d,b:u},backend:n});l.push(p);const h=MH({inputs:{x:p},backend:n,attrs:{axis:s,keepDims:o}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const NK={kernelName:Ux,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;mV(a,"min");const i=gb(s,a.shape);let c=i;const l=n_(c,a.shape.length);let u=a;null!=l&&(u=pG({inputs:{x:a},backend:n,attrs:{perm:l}}),c=a_(c.length,a.shape.length)),t_("min",c,u.shape.length);const[d,p]=QI(u.shape,c),h=sb(p),f=Fb(sb(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=QV({inputs:{x:g},backend:n,attrs:{shape:e_(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}},SK=EV(((e,t)=>Math.min(e,t))),CK=KV(Wx,SK),TK={kernelName:Wx,backendName:"cpu",kernelFunc:CK};const EK={kernelName:Vx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,mode:o}=r;mV(a,"mirrorPad");const i=s.map(((e,t)=>e[0]+a.shape[t]+e[1])),c=s.map((e=>e[0])),l=s.map(((e,t)=>e[0]+a.shape[t])),u="reflect"===o?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,h=Ab(a.shape),f=sb(i),m=i.length,g=Ab(i),y=bb(a.dtype,f);for(let b=0;b<f;b++){let e=Bb(b,m,g);for(let n=0;n<m;n++)e[n]<c[n]?e[n]=2*c[n]-e[n]-u:e[n]>=l[n]&&(e[n]=2*(l[n]-1)-e[n]+u);e=e.map(((e,t)=>e-c[t]));const t=zb(e,p,h);y[b]=d[t]}return{dataId:n.write(y,i,a.dtype),shape:i,dtype:a.dtype}}},IK=EV(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),_K=KV(Gx,IK),OK={kernelName:Gx,backendName:"cpu",kernelFunc:_K};function AK(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:s}=r,o=a.shape.length;let i=s;if(-1===i&&(i=o-1),i!==o-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(o," and dim was ").concat(i));const c=gb([i],a.shape),l=pK({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),u=e_(l.shape,c),d=QV({inputs:{x:l},backend:n,attrs:{shape:u}}),p=cq({inputs:{a:a,b:d},backend:n}),h=ZH({inputs:{x:p},backend:n}),f=MH({inputs:{x:h},backend:n,attrs:{axis:c,keepDims:!1}}),m=QV({inputs:{x:f},backend:n,attrs:{shape:u}}),g=aq({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const RK={kernelName:jw,backendName:"cpu",kernelFunc:AK};const DK={kernelName:Hx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:s,seed:o,normalized:i}=r;mV(a,"multinomial");const c=i?a:AK({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],u=c.shape[1],d=n.data.get(c.dataId).values,p=[l,s],h=Fb(sb(p),"int32");for(let f=0;f<l;++f){const e=f*u,t=new Float32Array(u-1);t[0]=d[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+d[e+a];const n=gO.alea(o.toString()),r=f*s;for(let a=0;a<s;++a){const e=n();h[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+a]=n;break}}}return i||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(p,"int32",h)}};function MK(e,t,n){const r=Wk(-1,n);return OH([],t,r,e,n)}const PK={kernelName:Kx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;mV(r,"neg");const a=n.data.get(r.dataId).values,[s,o]=MK(a,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,s)}},FK=$A;const jK={kernelName:Yx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c}=r;mV(a,"NonMaxSuppression");const l=n.data.get(a.dataId).values,u=n.data.get(s.dataId).values,{selectedIndices:d}=FK(l,u,o,i,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},LK=JA;const zK={kernelName:Zx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,padToMaxOutputSize:l}=r;mV(a,"NonMaxSuppressionPadded");const u=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,{selectedIndices:p,validOutputs:h}=LK(u,d,o,i,c,l);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},BK=QA;const UK={kernelName:$x,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,softNmsSigma:l}=r;mV(a,"NonMaxSuppressionWithScore");const u=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,p=o,h=i,f=c,m=l,{selectedIndices:g,selectedScores:y}=BK(u,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},WK=EV(((e,t)=>e!==t?1:0)),VK=KV(Xx,WK,null,"bool"),GK={kernelName:Xx,backendName:"cpu",kernelFunc:VK};const HK={kernelName:Qx,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:s,depth:o,onValue:i,offValue:c}=r;mV(a,"oneHot");const l=sb(a.shape),u=new Float32Array(l*o);u.fill(c);const d=n.data.get(a.dataId).values;for(let p=0;p<l;++p)d[p]>=0&&d[p]<o&&(u[p*o+d[p]]=i);return n.makeTensorInfo([...a.shape,o],s,u)}};function qK(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=WV({inputs:{input:r},backend:n}),t=qK({inputs:{x:e},backend:n}),a=tH({inputs:{input:r},backend:n}),s=qK({inputs:{x:a},backend:n}),o=zV({inputs:{real:t,imag:s},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),o}return fq({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const KK={kernelName:ik,backendName:"cpu",kernelFunc:qK};const XK={kernelName:Jx,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=WV({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),s=tH({inputs:{input:a},backend:r}),o=qK({inputs:{x:s},backend:r}),i=zV({inputs:{real:n,imag:o},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),i}return fq({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function YK(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return JH({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const s=t[0].shape,o=t[0].dtype;t.forEach((e=>{rb(s,e.shape,"All tensors passed to stack must have matching shapes"),nb(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],c=rH({inputs:t.map((e=>{const t=JH({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t})),backend:n,attrs:{axis:a}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const ZK={kernelName:ew,backendName:"cpu",kernelFunc:YK};const $K={kernelName:tw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,constantValue:o}=r;mV(a,"pad");const i=s.map(((e,t)=>e[0]+a.shape[t]+e[1])),c=s.map((e=>e[0])),l=n.data.get(a.dataId).values,u=sb(a.shape),d=a.shape.length,p=Ab(a.shape),h=sb(i),f=i.length,m=Ab(i),g=bb(a.dtype,h);0!==o&&g.fill(o);for(let y=0;y<u;y++){g[zb(Bb(y,d,p).map(((e,t)=>e+c[t])),f,m)]=l[y]}return{dataId:n.write(g,i,a.dtype),shape:i,dtype:a.dtype}}},JK=EV(((e,t)=>Math.pow(e,t))),QK=KV(rw,JK),eX={kernelName:rw,backendName:"cpu",kernelFunc:QK};function tX(e,t,n,r){const[a,s]=QI(e,r),o=xN(t,"int32"),i=Fb(sb(a),o),c=sb(s);for(let l=0;l<i.length;++l){const e=l*c;let t=1;for(let r=0;r<c;++r)t*=n[e+r];i[l]=t}return{outVals:i,outShape:a,outDtype:o}}const nX={kernelName:sw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;mV(a,"prod");const i=a.shape.length,c=gb(s,a.shape),l=n_(c,i);let u=c,d=a;const p=[];null!=l&&(d=pG({inputs:{x:a},backend:n,attrs:{perm:l}}),p.push(d),u=a_(u.length,i));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=tX(d.shape,d.dtype,h,u);let y=m;return o&&(y=e_(m,c)),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function rX(e,t,n,r){const a=[];let s=0;const o=t.length-1+n.length,i=new Array(o).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let c=1;for(let l=0;l<t.length-1;++l){c*=t[l];const e=t[l+1];for(let t=1;t<c+1;++t)i[l].push(t*e)}for(let l=0;l<e.length;++l){let r=e[l],o=e[l]+1;for(let e=0;e<n.length;++e){const a=n[e],s=e+t.length-1;if(s>=0){const e=i[s],t=e[e.length-1]-a[r];for(let n=r;n<o;++n)i[s].push(a[n+1]+t)}r=a[r],o=a[o]}o!==r&&(a.push([r,o]),s+=o-r)}return{outSplits:i,valueSlices:a,numValues:s}}function aX(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function sX(e,t,n,r,a){const s=t.slice();s[0]=a;const o=vb(n,sb(s)),i=e.length;return function(e,t,n,r,a,s){const o=aX(t,2)[1],i=aX(s,2)[1];let c=0;for(const l of n)for(let t=l[0];t<l[1];++t){for(let n=0;n<r;++n)a[c*i+n]=e[t*o+n];++c}}(e,t,r,0===i?0:i/t[0],o,s),[o,s]}function oX(e,t,n,r,a,s,o,i){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const a=Bb(r,t.length,Ab(t)).join(",");throw new Error("indices[".concat(a,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(s,o,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:l,valueSlices:u,numValues:d}=rX(s,o,e,c),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=vb("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(l),h=sX(n,r,a,u,d);return[p,h[0],h[1]]}const iX={kernelName:ow,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:s,indices:o}=t,{outputRaggedRank:i}=r,c=a.map((e=>n.data.get(e.dataId).values)),l=a.map((e=>e.shape)),u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,[p,h,f]=oX(c,l,u,s.shape,s.dtype,d,o.shape),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,s.dtype,h);return m.concat([g])}},cX=2147483647;function lX(e,t,n,r,a,s,o){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const i=0===t.length,c=0===a.length,l=0===o.length,u=[];i||u.push(t[0]),c||u.push(a[0]),l||u.push(o[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===u.length?1:u[0],p=vb("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=i?e[0]:e[m],n=c?r[0]:r[m],a=l?s[0]:s[m];if(0===a)throw new Error("Requires delta != 0");let o;if(a>0&&n<t||a<0&&n>t)o=0;else if(o=Math.ceil(Math.abs((n-t)/a)),o>cX)throw new Error("Requires ((limit - start) / delta) <= ".concat(cX));p[m+1]=p[m]+o}const h=vb(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=i?e[0]:e[m];const r=l?s[0]:s[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}const uX={kernelName:iw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:s}=t,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[l,u]=lX(o,r.shape,r.dtype,i,a.shape,c,s.shape);return[n.makeTensorInfo([l.length],"int32",l),n.makeTensorInfo([u.length],r.dtype,u)]}};var dX=KR;class pX{constructor(e,t,n,r,a,s,o,i,c,l){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=s,this.defaultValueShape=o,this.rowPartitionValues=i,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=YR(l),this.raggedRank=ZR(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===dX.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===dX.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case dX.VALUE_ROWIDS:return pX.getMaxWidthValueRowID(t);case dX.ROW_SPLITS:return pX.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(dX[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let s=1;s<t;++s){const t=e[s];t!==r&&(r=t,a=Math.max(s-n,a),n=s)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return fX(e,n)}calculateOutputSize(e){const t=this.valuesShape;$R(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=XR(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let a=1;a<=this.raggedRank;++a)r[a]<0&&(r[a]=this.getMaxWidth(a));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let s=0;for(let o=0;o<r;++o,s+=t)a.push(s);for(let o=r;o<e;++o)a.push(-1);return nb(a.length===e,(()=>"Final length of result must be equal to firstDimension.")),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,s=[];for(let o=0;o<a-1;++o){const a=e[o+1]-e[o];let i=Math.min(r,a),c=t[o];-1===c&&(i=0);for(let e=0;e<i;++e)s.push(c),c+=n;for(let e=0;e<a-i;++e)s.push(-1)}if(a>0&&s.length!==e[a-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,s=[];if(0===a)return[];let o=0,i=e[0];if(i>=t.length)throw new Error("Got currentValueRowId=".concat(i,", which is not less than ").concat(t.length));let c=t[i];s.push(c);for(let l=1;l<a;++l){const a=e[l];if(a===i)c>=0&&(++o,o<r?c+=n:c=-1);else{if(o=0,i=a,a>=t.length)throw new Error("Got nextValueRowId=".concat(a," which is not less than ").concat(t.length));c=t[a]}s.push(c)}if(s.length!==e.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case dX.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case dX.ROW_SPLITS:if(a.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error("Unsupported partition type: ".concat(dX[s]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case dX.FIRST_DIM_SIZE:return e[0];case dX.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case dX.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(dX[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let s=n.length-2;s>=0;--s)n[s]=n[s+1]*t[s+1];const r=fX(t,!1),a=vb(this.valuesDType,sb(r));if(n[0]*t[0]>0){let s=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){s=this.calculateOutputIndex(e-1,s,n[e],t[e])}this.setOutput(this.raggedRank,s,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,s=n;let o=r.slice();o=o.slice(e+1);const i=sb(o),c=t.length;let l=this.defaultValue;if(l.length!==i&&1!==l.length){const e=this.defaultValueShape;oS((()=>{const t=aI(l,e),n=xI(t,o);l=n.dataSync()}))}let u=0,d=0,p=0;for(let h=0;h<=c;++h){let e=h<c?t[h]:-1;if(e!==p){if(d<p){const e=a.subarray(u*i);hX(s.subarray(d*i),e,(p-d)*i)}if(h>=c){const t=n.length;e=Math.floor(t/i)}if(e>p)if(1===this.defaultValue.length)s.subarray(p*i,e*i).fill(this.defaultValue[0]),p=e;else for(;e>p;){hX(s.slice(p*i),l,i),++p}e<0?(u=h+1,d=p):(u=h,d=p,p=d+1)}else++p}}}function hX(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function fX(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error("Dimension ".concat(r," must be >= 0"));if(r<-1)throw new Error("Dimension ".concat(r," must be >= -1"));r=-1}n.push(r)}return n}function mX(e,t,n,r,a,s,o,i,c,l){return new pX(e,t,n,r,a,s,o,i,c,l).compute()}const gX={kernelName:cw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:s,defaultValue:o,rowPartitionTensors:i}=t,{rowPartitionTypes:c}=r,l=n.data.get(a.dataId).values,u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,p=i.map((e=>n.data.get(e.dataId).values)),h=i.map((e=>e.shape)),[f,m]=mX(l,a.shape,u,s.shape,s.dtype,d,o.shape,p,h,c);return n.makeTensorInfo(f,s.dtype,m)}};function yX(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return Fb(0,r);const a=Fb(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let s=1;s<a.length;s++)a[s]=a[s-1]+n;return a}const bX={kernelName:lw,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:s,step:o}=n,i=yX(r,a,o,s);return t.makeTensorInfo([i.length],s,i)}},vX=vV(dw,(e=>1/e)),xX={kernelName:dw,backendName:"cpu",kernelFunc:vX};const wX={kernelName:gw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:o,size:i}=r;mV(a,"resizeBilinear");const c=Ab(a.shape),[l,u]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(sb([d,l,u,f])),y=[s&&l>1?p-1:p,s&&u>1?h-1:h],b=[s&&l>1?l-1:l,s&&u>1?u-1:u];let v=0;const x=y[0]/b[0],w=y[1]/b[1];for(let k=0;k<d;k++)for(let e=0;e<l;e++){let t;t=o?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(p-1,Math.ceil(t)),s=k*c[0]+n*c[1],i=k*c[0]+a*c[1];for(let e=0;e<u;e++){let t;t=o?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),a=t-n,l=Math.min(h-1,Math.ceil(t)),u=s+n*c[2],d=i+n*c[2],p=s+l*c[2],y=i+l*c[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[d+e],s=t+(m[p+e]-t)*a,o=s+(n+(m[y+e]-n)*a-s)*r;g[v++]=o}}}return n.makeTensorInfo([d,l,u,f],"float32",g)}};const kX={kernelName:yw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:o}=r;mV([s,a],"resizeBilinearGrad");const i=Ab(a.shape),[c,l,u,d]=a.shape,[,p,h]=s.shape,f=new Float32Array(c*l*u*d),m=[o&&p>1?l-1:l,o&&h>1?u-1:u],g=[o&&p>1?p-1:p,o&&h>1?h-1:h],y=m[0]/g[0],b=m[1]/g[1],v=n.data.get(s.dataId).values;let x=0;for(let w=0;w<c;w++){const e=w*i[0];for(let t=0;t<p;t++){const n=t*y,r=Math.floor(n),a=Math.min(Math.ceil(n),l-1),s=e+r*i[1],o=e+a*i[1],c=n-r,p=1-c;for(let e=0;e<h;e++){const t=e*b,n=Math.floor(t),r=Math.min(Math.ceil(t),u-1),a=t-n,l=1-a,h=s+n*i[2],m=s+r*i[2],g=o+n*i[2],y=o+r*i[2],w=p*l,k=p*a,N=c*l,S=c*a;for(let e=0;e<d;e++){const t=v[x++];f[h+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*N,f[y+e]+=t*S}}}}return n.makeTensorInfo([c,u,l,d],"float32",f)}};const NX={kernelName:fw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:o,size:i}=r;mV(a,"resizeNearestNeighbor");const c=Ab(a.shape),[l,u]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(d*l*u*f),y=[s&&l>1?p-1:p,s&&u>1?h-1:h],b=[s&&l>1?l-1:l,s&&u>1?u-1:u],v=y[0]/b[0],x=y[1]/b[1];let w=0;for(let k=0;k<d;k++){const e=k*c[0];for(let t=0;t<l;t++){const n=o?v*(t+.5):v*t;let r=Math.min(p-1,s?Math.round(n):Math.floor(n));o&&(r=Math.max(0,r));const a=e+r*c[1];for(let e=0;e<u;e++){const t=o?x*(e+.5):x*e;let n=Math.min(h-1,s?Math.round(t):Math.floor(t));o&&(n=Math.max(0,n));const r=a+n*c[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([d,l,u,f],a.dtype,g)}};const SX={kernelName:mw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:o}=r;mV([s,a],"resizeNearestNeighborGrad");const i=Ab(a.shape),c=Ab(s.shape),[l,u,d,p]=a.shape,[,h,f]=s.shape,m=new Float32Array(l*u*d*p),g=n.data.get(s.dataId).values,y=[o&&h>1?u-1:u,o&&f>1?d-1:d],b=[o&&h>1?h-1:h,o&&f>1?f-1:f],v=y[0]/b[0],x=y[1]/b[1],w=1/v,k=1/x,N=2*Math.ceil(w)+2,S=2*Math.ceil(k)+2;for(let C=0;C<l;C++){const e=C*i[0];for(let t=0;t<u;t++){const n=e+t*i[1],r=Math.floor(t*w),a=Math.floor(r-N/2);for(let s=0;s<d;s++){const r=n+s*i[2],l=Math.floor(s*k),y=Math.floor(l-S/2);for(let n=0;n<p;n++){let i=0;for(let r=0;r<N;r++){const l=r+a;if(l<0||l>=h)continue;const p=e+l*c[1],m=l*v;if(t===Math.min(u-1,o?Math.round(m):Math.floor(m)))for(let e=0;e<S;e++){const t=e+y;if(t<0||t>=f)continue;const r=p+t*c[2],a=t*x;s===Math.min(d-1,o?Math.round(a):Math.floor(a))&&(i+=g[r+n])}}m[r+n]=i}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const CX={kernelName:vw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:s}=r;mV(a,"reverse");const o=a.shape.length,i=gb(s,a.shape);if(0===o)return NV({inputs:{x:a},backend:n});const c=new iN(a.shape,a.dtype),l=n.bufferSync(a);for(let u=0;u<c.size;u++){const e=c.indexToLoc(u),t=e.slice();i.forEach((e=>t[e]=a.shape[e]-1-t[e])),c.set(l.get(...t),...e)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}},TX={kernelName:uk,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:s,fillValue:o,center:i}=n,c=r,l=bb(a.dtype,sb(a.shape)),[u,d,p,h]=a.shape,[f,m]=eD(i,d,p),g=Math.sin(s),y=Math.cos(s),b=c.data.get(a.dataId).values;for(let v=0;v<u;v++){const e=v*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let r=0;r<p;r++){const a=r*h;for(let s=0;s<h;s++){const i=[u,t,r,s],c=i[2],v=i[1];let x=(c-f)*y-(v-m)*g,w=(c-f)*g+(v-m)*y;x=Math.round(x+f),w=Math.round(w+m);let k=o;if("number"!==typeof o&&(k=3===s?255:o[s]),x>=0&&x<p&&w>=0&&w<d){k=b[e+w*(p*h)+x*h+s]}l[e+n+a+s]=k}}}}return{dataId:c.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},EX=vV(xw,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),IX={kernelName:xw,backendName:"cpu",kernelFunc:EX},_X=bV((e=>1/Math.sqrt(e))),OX=xV(ww,_X),AX={kernelName:ww,backendName:"cpu",kernelFunc:OX};function RX(e,t,n,r,a,s,o,i,c,l){const u=[r/a,a],d=e.values,p=t.values;if(0===r)return wC(n,t.dtype);const h=c instanceof iN?c:wC(u,t.dtype);"string"===typeof c||"number"===typeof c?h.values.fill(c):"boolean"===typeof c&&h.values.fill(+c);for(let f=0;f<s;f++){const e=[];let s=0;for(let t=0;t<o;t++){const n=d[f*o+t];e.push(n),s+=n*i[t]}if(s<0||s>=r/a)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<a;n++)l?h.values[s*a+n]+=p[f*a+n]:h.values[s*a+n]=0===t.rank?p[0]:p[f*a+n]}return h}const DX={kernelName:kw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:s}=t,{shape:o}=r,{sliceRank:i,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=YT(0,a,o),p=RX(n.bufferSync(a),n.bufferSync(s),o,d,l,c,i,u,0,!0);return n.makeTensorInfo(o,p.dtype,p.values)}};function MX(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function PX(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const FX={kernelName:Sw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:s}=t,{side:o}=r,i=function(e,t,n,r,a,s){const o=vb("int32",n*a);for(let i=0;i<n;++i){const n=e.slice(i*r,(i+1)*r),c=i*a;for(let e=0;e<a;++e)o[c+e]="left"===s?MX(n,t[e+c]):PX(n,t[e+c])}return o}(n.data.get(a.dataId).values,n.data.get(s.dataId).values,a.shape[0],a.shape[1],s.shape[1],o);return n.makeTensorInfo(s.shape,"int32",i)}};const jX={kernelName:Cw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:s}=t;mV([r,a,s],"select");const o=r.shape.length,i=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,u=xN(a.dtype,s.dtype),d=Fb(sb(a.shape),u);let p=0;const h=0===o||o>1||1===a.shape.length?1:sb(a.shape.slice(1));for(let f=0;f<i.length;f++)for(let e=0;e<h;e++)1===i[f]?d[p++]=c[f]:d[p++]=l[f];return n.makeTensorInfo(a.shape,u,d)}},LX=oD,zX=iD,BX=vV(Tw,(e=>e>=0?zX*e:LX*(Math.exp(e)-1))),UX={kernelName:Tw,backendName:"cpu",kernelFunc:BX},WX=vV(Ow,(e=>e<0?-1:e>0?1:0)),VX={kernelName:Ow,backendName:"cpu",kernelFunc:WX},GX=vV(Iw,(e=>Math.sin(e))),HX={kernelName:Iw,backendName:"cpu",kernelFunc:GX},qX=vV(_w,(e=>Math.sinh(e))),KX={kernelName:_w,backendName:"cpu",kernelFunc:qX},XX=Math.log(1.1920928955078125e-7)+2,YX=vV(Rw,(e=>{const t=e>-XX,n=e<XX,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a})),ZX={kernelName:Rw,backendName:"cpu",kernelFunc:YX};const $X={kernelName:Pw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,paddings:o}=r;mV([a],"spaceToBatchND");const i=sb(s),c=[[0,0]];c.push(...o);for(let g=1+s.length;g<a.shape.length;++g)c.push([0,0]);const l=$K.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),u=tD(l.shape,s,i,!1),d=nD(u.length,s.length,!1),p=rD(l.shape,s,i,!1),h=QV({inputs:{x:l},backend:n,attrs:{shape:u}}),f=pG({inputs:{x:h},backend:n,attrs:{perm:d}}),m=QV({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};function JX(e,t,n,r,a,s,o){const i=t[0],c=s[0],l=new Array(c),u=new Array(i),d=t[1];if(0===c){if(0!==i)throw new Error(DD(i));return[vb(n,0),[0,d],vb(a,0),l,u]}let p=!0,h=0;const f=new Array(c).fill(0);for(let g=0;g<i;++g){const t=e[g*d];if(t<0)throw new Error(MD(g,t));if(t>=c)throw new Error(PD(g,t,c));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<c;++g){const e=0===f[g];l[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<i;++e)u[e]=e;return[t,[i,d],n,l,u]}{const t=f[c-1],s=vb(n,t*d),p=vb(a,t),h=new Array(c).fill(0);for(let n=0;n<i;++n){const t=e[n*d],a=h[t],o=(0===t?0:f[t-1])+a;h[t]++;for(let r=0;r<d;++r)s[o*d+r]=e[n*d+r];p[o]=r[n],u[n]=o}for(let e=0;e<c;++e){if(0===h[e]){const t=0===e?0:f[e-1];s[t*d+0]=e;for(let e=1;e<d;++e)s[t*d+e]=0;p[t]=o}}return[s,[t,d],p,l,u]}}const QX={kernelName:Lw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:s,defaultValue:o}=t;if(1!==s.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(s.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));const i=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values[0],[d,p,h,f,m]=JX(i,r.shape,r.dtype,c,a.dtype,l,u);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],a.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function eY(e,t,n,r,a){const s=sb(r),o=t[0],i=a.length,c=[];let l=1,u=-1;for(let m=0;m<i;++m){const e=a[m];if(-1===e){if(-1!==u)throw new Error(FD(u,m));u=m,c.push(1)}else{if(e<0)throw new Error(jD(m,e));l*=e,c.push(e)}}if(-1!==u){if(l<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(s/l);if(l*e!==s)throw new Error(zD(r,c));c[u]=e}if(sb(c)!==s)throw new Error(BD(r,c));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(i>0){h[i-1]=1;for(let e=i-2;e>=0;--e)h[e]=h[e+1]*c[e+1]}const f=vb(n,o*i);for(let m=0;m<o;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<i;++e)f[m*i+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[o,i],c]}const tY={kernelName:zw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:s}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==s.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(s.shape));const o=Array.from(n.data.get(a.dataId).values),i=n.data.get(r.dataId).values,c=Array.from(n.data.get(s.dataId).values),[l,u,d]=eY(i,r.shape,r.dtype,o,c);return[n.makeTensorInfo(u,r.dtype,l),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}};function nY(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const i=r.length,c=[t[0],e.length/t[0]],l=c[1],u=i>0?a[i-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=u;const p=d.reduce(((e,t)=>e*t),1),h=vb(n,p);if(0===i)return u>0&&h.fill(o),[h,d];if(u<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,y=a[f];for(;;){let t=0;if(m<i){if(t=a[m],y===t){++m;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=u)throw new Error(VD(y,u));y>g&&h.fill(o,g*l,y*l);for(let n=f;n<m;++n){const t=r[n];if(t<0||t>=c[0])throw new Error(GD(n,r[n],c[0]));for(let n=0;n<l;n++)h[y*l+n]+=e[t*l+n]}if(s)for(let e=0;e<l;e++)h[y*l+e]/=m-f;if(f=m,++m,g=y+1,y=t,m>i)break}return g<u&&h.fill(o,g*l,u*l),[h,d]}const rY={kernelName:Bw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==s.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(s.shape));if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[l,u]=nY(o,r.shape,r.dtype,i,c,!0);return n.makeTensorInfo(u,r.dtype,l)}};const aY={kernelName:Uw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==s.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(s.shape));if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[l,u]=nY(o,r.shape,r.dtype,i,c);return n.makeTensorInfo(u,r.dtype,l)}};const sY={kernelName:Ww,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:s,defaultValue:o}=t,{outputShape:i}=r,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:p}=YT(0,a,i),h=!1,f=n.bufferSync(a);let m;switch(s.dtype){case"bool":m=RX(f,n.bufferSync(s),i,p,u,l,c,d,Boolean(n.data.get(o.dataId).values[0]),h);break;case"float32":m=RX(f,n.bufferSync(s),i,p,u,l,c,d,n.data.get(o.dataId).values[0],h);break;case"int32":m=RX(f,n.bufferSync(s),i,p,u,l,c,d,n.data.get(o.dataId).values[0],h);break;case"string":m=RX(f,n.bufferSync(s),i,p,u,l,c,d,Kk(n.data.get(o.dataId).values[0]),h);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return n.makeTensorInfo(i,m.dtype,m.values)}};const oY={kernelName:Fw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:s,axis:o}=r,i=gb(o,a.shape)[0],c=RD(a,s,i),l=new Array(a.shape.length).fill(0),u=a.shape.slice();return c.map((e=>{const t=[...u];t[i]=e;const r=LG({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[i]+=e,r}))}},iY=bV((e=>Math.sqrt(e))),cY=vV(Dw,(e=>Math.sqrt(e))),lY={kernelName:Dw,backendName:"cpu",kernelFunc:cY},uY={kernelName:Gw,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,a=n;mV(r,"square");const s=a.data.get(r.dataId).values,o=new Float32Array(s.length);for(let i=0;i<s.length;++i){const e=s[i];o[i]=e*e}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},dY=EV(((e,t)=>{const n=e-t;return n*n})),pY=KV(Vw,dY),hY={kernelName:Vw,backendName:"cpu",kernelFunc:pY},fY=bV(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)})),mY=xV(Hw,fY),gY={kernelName:Hw,backendName:"cpu",kernelFunc:mY},yY=vV(ck,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),bY={kernelName:ck,backendName:"cpu",kernelFunc:yY};function vY(e,t,n,r){const a=wC(e,t.dtype);for(let s=0;s<a.size;s++){const e=a.indexToLoc(s),o=new Array(e.length);for(let t=0;t<o.length;t++)o[t]=e[t]*n[t]+r[t];a.set(t.get(...o),...e)}return a}const xY={kernelName:qw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,end:o,strides:i,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=r;mV(a,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:x}=hE(a.shape,s,o,i,c,l,u,d,p);let w;if(m)w=QV({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||y){nb(a.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(a.shape.length)));const e=eE(b,v,x),t=LG({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});w=QV({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=vY(h,n.bufferSync(a),x,b);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};class wY{constructor(e,t,n,r,a,s){this.separator=qk(e),this.nGramWidths=t,this.leftPad=qk(n),this.rightPad=qk(r),this.padWidth=a,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,s){for(let o=0;o<a;++o){const i=this.getPadWidth(s),c=Math.max(0,i-o),l=Math.max(0,i-(a-(o+1))),u=s-(c+l),d=t+(c>0?0:o-i);let p=0;p+=c*this.leftPad.length;for(let t=0;t<u;++t)p+=e[d+t].length;p+=l*this.rightPad.length;p+=(c+l+u-1)*this.separator.length,n[r+o]=new Uint8Array(p);const h=n[r+o];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<c;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<l;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<l-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error("Invalid split value ".concat(t[a],", must be in [").concat(e,", ").concat(n,"]"));e=t[a]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const a=r-1,s=vb("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)s[t]=0;return[e,s]}s[0]=0;for(let i=1;i<=a;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),s[i]=s[i-1]+n}const o=new Array(s[a]);for(let i=0;i<a;++i){const n=t[i];let r=s[i];if(this.nGramWidths.forEach((a=>{const s=t[i+1]-t[i],c=this.getNumNGrams(s,a);this.createNGrams(e,n,o,r,c,a),r+=c})),this.preserveShort&&r===s[i]){const a=t[i+1]-t[i];if(0===a)continue;const s=a+2*this.padWidth,c=1;this.createNGrams(e,n,o,r,c,s)}}return[o,s]}}function kY(e,t,n,r,a,s,o,i){return new wY(n,r,a,s,o,i).compute(e,t)}const NY={kernelName:Kw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:s,leftPad:o,rightPad:i,padWidth:c,preserveShortSequences:l}=r,{data:u,dataSplits:d}=t,p=n.data.get(u.dataId).values,h=n.data.get(d.dataId).values,[f,m]=kY(p,h,a,s,o,i,c,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};function SY(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let s=e.indexOf(a);for(;-1!==s;){const t=e.subarray(0,s);n&&0===t.length||r.push(t),s=(e=e.subarray(s+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let s=0;s<e.length+1;s++)if(s===e.length||-1!==t.indexOf(e[s])){const t=e.subarray(a,s);n&&0===t.length||r.push(t),a=s+1}}function CY(e,t,n){const r=e.length,a=[];let s=0,o=0;const i=new Array(r);for(let p=0;p<r;++p){const r=a.length;SY(e[p],t,n,a);const c=a.length-r;i[p]=c,s+=c,o=Math.max(o,c)}const c=vb("int32",2*s),l=new Array(s),u=[r,o];let d=0;for(let p=0;p<r;++p)for(let e=0;e<i[p];++e)c[2*d]=p,c[2*d+1]=e,l[d]=a[d],++d;return[c,l,u]}const TY={kernelName:Xw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:s,delimiter:o}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(1!==s.shape.length)throw new Error("Input must be a vector, got shape: ".concat(s.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));const i=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values[0],[l,u,d]=CY(i,c,a),p=u.length;return[n.makeTensorInfo([p,2],"int32",l),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function EY(e,t){const n=vb("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Uk(e[r]).modulo(t).getLowBitsUnsigned();return n}const IY={kernelName:Yw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:s}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=EY(n.data.get(s.dataId).values,a);return n.makeTensorInfo(s.shape,"int32",o)}},_Y=vV($w,(e=>Math.tan(e))),OY={kernelName:$w,backendName:"cpu",kernelFunc:_Y},AY=vV(Jw,(e=>Math.tanh(e)));const RY={kernelName:Nw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:s}=t,{sliceRank:o,numUpdates:i,sliceSize:c,strides:l,outputSize:u}=YT(0,a,r.shape),d=n.bufferSync(a),p=n.bufferSync(s),h=n.bufferSync(r),f=RX(d,p,r.shape,u,c,i,o,l,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};function DY(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=wC(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const s=e.locToIndex(n);r.values[a]=e.values[s]}return r}const MY={kernelName:Qw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:s}=r;mV(a,"tile");const o=DY(n.bufferSync(a),s);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},PY=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function FY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),i=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*i*(a-i)/a)*Math.sign(s-a/2);FY(e,t,Math.max(n,Math.floor(t-s*i/a+c)),Math.min(r,Math.floor(t+(a-s)*i/a+c)))}const a=e[t];let s=n,o=r;for(Jy(e,n,t),PY(e[r],a)>0&&Jy(e,n,r);s<o;){for(Jy(e,s,o),s++,o--;PY(e[s],a)<0;)s+=1;for(;PY(e[o],a)>0;)o-=1}0===PY(e[n],a)?Jy(e,n,o):(o+=1,Jy(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}}function jY(e,t,n,r,a){const s=t[t.length-1],[o,i]=[e.length/s,s],c=bb(n,o*r),l=bb("int32",o*r);for(let d=0;d<o;d++){const t=d*i,n=e.subarray(t,t+i);let s=new Array(n.length);n.forEach(((e,t)=>s[t]={value:e,index:t})),r<s.length&&(FY(s,r),s=s.slice(0,r)),a&&s.sort(PY);const o=d*r,u=c.subarray(o,o+r),p=l.subarray(o,o+r);for(let e=0;e<r;e++)u[e]=s[e].value,p[e]=s[e].index}const u=t.slice();return u[u.length-1]=r,[wC(u,n,c),wC(u,"int32",l)]}const LY={kernelName:ek,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:s,sorted:o}=r;mV(a,"topk");const i=n.data.get(a.dataId).values,[c,l]=jY(i,a.shape,a.dtype,s,o);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}};const zY={kernelName:tk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:s}=t,{interpolation:o,fillMode:i,fillValue:c,outputShape:l}=n,[u,d,p,h]=a.shape,[f,m]=null!=l?l:[d,p],g=[u,f,m,h],y=Ab(a.shape),b=y[0],v=y[1],x=y[2],w=Ab(g),k=w[0],N=w[1],S=w[2],C=bb(a.dtype,sb(g));C.fill(c);const T=r.data.get(a.dataId).values,E=r.data.get(s.dataId).values;for(let I=0;I<u;++I){const e=1===s.shape[0]?E:E.subarray(8*I,8*I+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let a;const s=e[6]*n+e[7]*t+1;if(0===s)continue;const l=(e[0]*n+e[1]*t+e[2])/s,u=(e[3]*n+e[4]*t+e[5])/s,h=BY(l,p,i),f=BY(u,d,i);switch(o){case"nearest":a=WY(T,d,p,b,v,x,I,f,h,r,c);break;case"bilinear":a=VY(T,d,p,b,v,x,I,f,h,r,c);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(o))}C[I*k+t*N+n*S+r]=a}return r.makeTensorInfo(g,a.dtype,C)}return{dataId:r.write(C,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function BY(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Zy(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Zy(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Zy(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function UY(e,t,n,r,a,s,o,i,c,l,u){return 0<=i&&i<t&&0<=c&&c<n?e[o*r+i*a+c*s+l]:u}function WY(e,t,n,r,a,s,o,i,c,l,u){return UY(e,t,n,r,a,s,o,Math.round(i),Math.round(c),l,u)}function VY(e,t,n,r,a,s,o,i,c,l,u){const d=Math.floor(i),p=Math.floor(c),h=d+1,f=p+1;return(h-i)*((f-c)*UY(e,t,n,r,a,s,o,d,p,l,u)+(c-p)*UY(e,t,n,r,a,s,o,d,f,l,u))+(i-d)*((f-c)*UY(e,t,n,r,a,s,o,h,p,l,u)+(c-p)*UY(e,t,n,r,a,s,o,h,f,l,u))}function GY(e,t,n,r){const a=gb(t,n)[0],s=[1,n[0],1];for(let f=0;f<a;f++)s[0]*=n[f];s[1]=n[a];for(let f=a+1;f<n.length;f++)s[2]*=n[f];const o=new Map,i=new Int32Array(n[a]),c=new iN(s,r,e),l=[],u=1===s[0]&&1===s[2];for(let f=0;f<n[a];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<s[0];t++)for(let n=0;n<s[2];n++)e.push(c.get(t,f,n));t=e.join(",")}const n=o.get(t);if(null!=n)i[f]=n;else{const e=o.size;o.set(t,e),i[f]=e,l.push(f)}}const d=s.slice();d[1]=o.size;const p=new iN(d,r);l.forEach(((e,t)=>{for(let n=0;n<s[0];n++)for(let r=0;r<s[2];r++)p.set(c.get(n,e,r),n,t,r)}));const h=n.slice();return h[a]=d[1],{outputValues:p.values,outputShape:h,indices:i}}const HY={kernelName:rk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:s}=t;mV(s,"unique");const o=r.data.get(s.dataId).values,{outputValues:i,outputShape:c,indices:l}=GY(o,a,s.shape,s.dtype);return[r.makeTensorInfo(c,s.dtype,i),r.makeTensorInfo([l.length],"int32",l)]}};const qY={kernelName:ak,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a.shape.length,i=a.shape[s],c=new Array(o-1);let l=0;for(let h=0;h<o;h++)h!==s&&(c[l++]=a.shape[h]);const u=new Array(o).fill(0),d=a.shape.slice();d[s]=1;const p=new Array(i);for(let h=0;h<p.length;h++){u[s]=h;const e=LG({inputs:{x:a},backend:n,attrs:{begin:u,size:d}});p[h]=QV({inputs:{x:e},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(e)}return p}};const KY={kernelName:sk,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:s}=t,{numSegments:o}=r;mV(a,"unsortedSegmentSum");const i=[],c=[],l=a.shape.length-s.shape.length;let u=s;for(let p=0;p<l;++p){const e=JH({inputs:{input:u},backend:n,attrs:{dim:p+1}});u=e,c.push(e)}for(let p=0;p<o;++p){const e=Wk(p,"int32"),t=n.makeTensorInfo([],"int32",e),r=zH({inputs:{a:t,b:u},backend:n}),s=HV({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),o=RH({inputs:{a:s,b:a},backend:n}),l=MH({inputs:{x:o},backend:n,attrs:{axis:0,keepDims:!1}});i.push(l),c.push(t),c.push(r),c.push(s),c.push(o),c.push(l)}const d=YK({inputs:i,backend:n,attrs:{axis:0}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},XY=[rG,sG,iG,lG,JV,uG,fG,mG,gG,yG,vG,wG,NG,TG,IG,RG,DG,MG,PG,nG,FG,BG,VG,qG,KG,qV,ZG,JG,BV,QG,aH,oH,iH,cH,lH,uH,dH,hH,mH,gH,yH,bH,vH,xH,kH,NH,SH,CH,TH,EH,IH,_H,FH,kV,jH,BH,XH,$H,QH,nq,hq,mq,gq,vq,kq,Nq,Sq,Tq,Iq,Aq,Mq,SV,Pq,nH,jq,zq,Uq,TV,Gq,Kq,Yq,Jq,eK,rK,sK,cK,lK,uK,hK,gK,yK,bK,vK,xK,wK,kK,NK,TK,EK,OK,DK,DH,PK,jK,zK,UK,GK,HK,XK,ZK,$K,eX,OV,nX,iX,uX,gX,bX,VV,sq,xX,RV,MV,eG,wX,kX,NX,SX,CX,TX,IX,AX,DX,FX,jX,UX,jV,VX,HX,KX,zG,RK,ZX,$X,QX,tY,rY,aY,sY,oY,lY,uY,hY,gY,bY,xY,NY,TY,IY,lq,PH,OY,{kernelName:Jw,backendName:"cpu",kernelFunc:AY},RY,MY,LY,zY,hG,HY,qY,KY,KK];for(const n of XY)wk(n);const YY={},ZY={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $Y(e,t){if(!(e in YY)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(Hb().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete YY[e]}),!1),Hb().getBool("SOFTWARE_WEBGL_ENABLED")&&(ZY.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",ZY)||n.getContext("experimental-webgl",ZY);return n.getContext("webgl2",ZY)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;YY[e]=n}const n=YY[e];return null==n||n.isContextLost()?(delete YY[e],$Y(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),YY[e])}var JY,QY,eZ;function tZ(e,t){return[t,e]}function nZ(e){const t=sb(e);return db(Math.ceil(t/4))}function rZ(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function aZ(e,t){const n=e;let r,a,s,o,i,c,l,u,d,p;return 2===Hb().getNumber("WEBGL_VERSION")?(r=n.R32F,a=n.R16F,s=n.RGBA16F,o=n.RGBA32F,i=n.RED,l=4,u=1,d=n.HALF_FLOAT,p=n.FLOAT,c=n.RGBA8):(r=e.RGBA,a=e.RGBA,s=e.RGBA,o=n.RGBA,i=e.RGBA,l=4,u=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,c=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:c,downloadUnpackNumChannels:l,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:p}}function sZ(e,t){const n=t();return Hb().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(JY||(JY={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(QY||(QY={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(eZ||(eZ={}));function oZ(e){return!!(Hb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function iZ(e,t){return gZ(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const cZ=/ERROR: [0-9]+:([0-9]+):/g;function lZ(e,t){const n=cZ.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);const r=+n[1],a=e.split("\n"),s=a.length.toString().length+2,o=a.map(((e,t)=>hb((t+1).toString(),s)+e));let i=0;for(let d=0;d<o.length;d++)i=Math.max(o[d].length,i);const c=o.slice(0,r-1),l=o.slice(r-1,r),u=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(hb(l[0],i)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function uZ(e,t){if(sZ(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function dZ(e,t,n,r,a,s,o){const i=e.getAttribLocation(t,n);return-1!==i&&(sZ(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),sZ(e,(()=>e.vertexAttribPointer(i,a,e.FLOAT,!1,s,o))),sZ(e,(()=>e.enableVertexAttribArray(i))),!0)}function pZ(e,t,n,r){sZ(e,(()=>function(e,t,n){yZ(e,n),sZ(e,(()=>e.activeTexture(e.TEXTURE0+n))),sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),sZ(e,(()=>e.uniform1i(n,r)))}function hZ(e,t,n){sZ(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),sZ(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function fZ(e,t){sZ(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),sZ(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function mZ(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function gZ(e,t,n){const r=sZ(e,(()=>t()));if(null==r)throw new Error(n);return r}function yZ(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const e="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(e,"."))}}function bZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return sb(e.slice(0,e.length-t))}function vZ(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function xZ(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[bZ(e),...vZ(e)]),t}function wZ(e){return e%2===0}function kZ(e,t){if(cb(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(wZ(n)&&wZ(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&wZ(e[0])&&wZ(t[0])}let NZ,SZ;function CZ(e,t){return null!=e.getExtension(t)}function TZ(e){try{if(null!=$Y(e))return!0}catch(L6){return console.log("Error when getting WebGL context: ",L6),!1}return!1}function EZ(e){if(0===e)return!1;const t=$Y(e);if(1!==e){if(CZ(t,"EXT_color_buffer_float"))return IZ(t);const e="EXT_color_buffer_half_float";if(CZ(t,e)){const n=t.getExtension(e);return function(e,t){const n=aZ(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const a=1,s=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,s,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}if(!CZ(t,"OES_texture_float"))return!1;if(!CZ(t,"WEBGL_color_buffer_float"))return!1;return IZ(t)}function IZ(e){const t=aZ(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function _Z(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&nb("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."))}))}const OZ=Hb();function AZ(){let e,t,n,r,a,s,o,i,c,l;return 2===Hb().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",s="outputColor",o="out vec4 outputColor;",i=Hb().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",s="gl_FragColor",o="",i="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:s,defineOutput:o,defineSpecialNaN:i,defineSpecialInf:c,defineRound:l}}function RZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=Ab(t);return r.map(((t,a)=>{const s="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(s,"; ").concat(o,";")})).join("")}function DZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=Ab(t);return r.map(((t,a)=>{const s="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(s,"; ").concat(o,";")})).join("")}function MZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>"".concat(t,"[").concat(e,"]"))),a=new Array(n-1);a[n-2]=r[n-1];for(let s=n-3;s>=0;--s)a[s]="(".concat(a[s+1]," * ").concat(r[s+1],")");return a}(e.map(((e,t)=>t)),t);return r.map(((t,a)=>{const s="int ".concat(e[a]," = ").concat(n," / ").concat(r[a]),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(r[a]):"index -= ".concat(e[a]," * ").concat(r[a]);return"".concat(s,"; ").concat(o,";")})).join("")}function PZ(e){const t=Ab(e).map((e=>e.toString()));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}OZ.registerFlag("HAS_WEBGL",(()=>OZ.getNumber("WEBGL_VERSION")>0)),OZ.registerFlag("WEBGL_VERSION",(()=>TZ(2)?2:TZ(1)?1:0)),OZ.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),OZ.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===OZ.get("WEBGL_VERSION"))),OZ.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),OZ.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),OZ.registerFlag("WEBGL_PACK",(()=>OZ.getBool("HAS_WEBGL"))),OZ.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_CLIP",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_REDUCE",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_LAZILY_UNPACK",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_CONV_IM2COL",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>OZ.getBool("WEBGL_PACK"))),OZ.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==NZ){const t=$Y(e);NZ=t.getParameter(t.MAX_TEXTURE_SIZE)}return NZ}(OZ.getNumber("WEBGL_VERSION")))),OZ.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==SZ){const t=$Y(e);SZ=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,SZ)}(OZ.getNumber("WEBGL_VERSION")))),OZ.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=OZ.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=$Y(e);return t=CZ(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:CZ(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),OZ.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>OZ.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!jN())),OZ.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=$Y(e);if(1===e){if(!CZ(t,"OES_texture_float"))return!1}else if(!CZ(t,"EXT_color_buffer_float"))return!1;return IZ(t)}(OZ.getNumber("WEBGL_VERSION")))),OZ.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!OZ.getBool("WEBGL_FORCE_F16_TEXTURES")&&OZ.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),OZ.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>EZ(OZ.getNumber("WEBGL_VERSION")))),OZ.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=OZ.getNumber("WEBGL_VERSION"))&&null!=$Y(e).fenceSync;var e})),OZ.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>OZ.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),OZ.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),OZ.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>jN()?1:-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),OZ.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),OZ.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),OZ.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),OZ.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),OZ.registerFlag("WEBGL_EXP_CONV",(()=>!1)),OZ.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>OZ.getBool("IS_TEST"))),OZ.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),OZ.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),OZ.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),OZ.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const FZ="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:jZ}=g;function LZ(e,t,n){const r=[];if(e.forEach((e=>{const t=sb(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){const{uniformShape:t}=XZ(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));const a=r.join("\n"),s=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?BZ(e,r):zZ(e,r);const s=e.shapeInfo.logicalShape,o=t.logicalShape;s.length<=o.length&&(a+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",s=e.shapeInfo.logicalShape.length,o=t.logicalShape.length,i=jZ(e.shapeInfo.logicalShape,t.logicalShape),c=KZ(o),l=o-s;let u;const d=["x","y","z","w","u","v"];u=0===s?"":o<2&&i.length>=1?"coords = 0;":i.map((e=>"coords.".concat(d[e+l]," = 0;"))).join("\n");let p="";p=o<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(d[t+l]))).join(", ");let h="return outputValue;";const f=1===sb(e.shapeInfo.logicalShape),m=sb(t.logicalShape),g=1===m;if(1!==s||f||g){if(f&&!g)h=1===o?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(i.length){const e=s-2,t=s-1;i.indexOf(e)>-1&&i.indexOf(t)>-1?h="return vec4(outputValue.x);":i.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(a,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(r,"(").concat(p,");\n      ").concat(h,"\n    }\n  ")}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",s=t.texShape,o=e.shapeInfo.texShape,i=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&i===c&&null==e.shapeInfo.flatOffset&&cb(o,s))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const l=KZ(c),u=jZ(e.shapeInfo.logicalShape,t.logicalShape),d=c-i;let p;const h=["x","y","z","w","u","v"];p=0===i?"":c<2&&u.length>=1?"coords = 0;":u.map((e=>"coords.".concat(h[e+d]," = 0;"))).join("\n");let f="";f=c<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(h[t+d]))).join(", ");return"\n    float ".concat(a,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(p,"\n      return get").concat(r,"(").concat(f,");\n    }\n  ")}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),o=t.texShape,i=AZ(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(i);let l,u,d=function(e){const t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(UZ,"\n    ").concat(WZ,"\n    ").concat(VZ,"\n  ");return t}(i);t.isPacked?(l=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(cb(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");const a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),s=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(s,";\n      index -= b * ").concat(s,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),s=a*Math.ceil(e[e.length-2]/2);let o=s,i="",c="b, r, c";for(let l=2;l<e.length-1;l++)o*=e[e.length-l-1],i="\n      int b".concat(l," = index / ").concat(o,";\n      index -= b").concat(l," * ").concat(o,";\n    ")+i,c="b".concat(l,", ")+c;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(i,"\n\n      int b = index / ").concat(s,";\n      index -= b * ").concat(s,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(c,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,o,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(i)):(l=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(cb(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){const t=DZ(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(t,"\n    return ivec3(r, c, d);\n  }\n")}const r=RZ(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){const t=DZ(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(t,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const r=RZ(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){const n=RZ(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){const n=RZ(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,o,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(i)),n.packedInputs&&(d+=GZ);return[d,c,u,a,l,s,n.userCode].join("\n")}function zZ(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");const[a,s]=e.shapeInfo.texShape;if(1===a&&1===s)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const o=HZ(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(o,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[i,c]=e.shapeInfo.texShape;return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(c,", ").concat(o,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(qZ(e),"\n      }\n    ");const a=e.shapeInfo.texShape,s=a[0],o=a[1];if(1===o&&1===s)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const i=HZ(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / ").concat(s,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===s)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(o,", index + ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape;if(null!=s&&cb(n,s)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const e=s[0],n=s[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,".0, ").concat(e,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}const{newShape:o,keptDims:i}=yb(n),c=o;if(c.length<n.length){const n=YZ(e,c),r=["row","col"];return"\n      ".concat(zZ(n,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(ZZ(r,i),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(qZ(e),"\n      }\n    ");const l=s[0],u=s[1],d=HZ(r);if(1===u)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(l,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===l)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(l,", ").concat(u,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[1]*n[2],o=n[2],{newShape:i,keptDims:c}=yb(n),l=i;if(l.length<n.length){const n=YZ(e,l),r=["row","col","depth"];return"\n        ".concat(zZ(n,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(ZZ(r,c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(s,", ").concat(o,", 1)));\n        ").concat(qZ(e),"\n      }\n    ");const u=e.shapeInfo.texShape,d=u[0],p=u[1],h=e.shapeInfo.flatOffset;if(p===s&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(p,".0, ").concat(d,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(p===o&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(p,".0, ").concat(d,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");const f=HZ(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(s," + col * ").concat(o," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(p,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[3],o=n[2]*s,i=n[1]*o,{newShape:c,keptDims:l}=yb(n);if(c.length<n.length){const n=YZ(e,c),r=["row","col","depth","depth2"];return"\n      ".concat(zZ(n,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(ZZ(r,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(i,", ").concat(o,", ").concat(s,", 1)));\n        ").concat(qZ(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1],f="int stride2 = ".concat(r,"Shape[3];"),m="int stride1 = ".concat(r,"Shape[2] * stride2;"),g="int stride0 = ".concat(r,"Shape[1] * stride1;");if(h===i&&null==u)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(s,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(h===s&&null==u)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const y=HZ(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(g,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(i," + col * ").concat(o," +\n          depth * ").concat(s," + depth2;\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(h,", index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],s=t[3]*a,o=t[2]*s,i=t[1]*o,{newShape:c,keptDims:l}=yb(t);if(c.length<t.length){const t=YZ(e,c),n=["row","col","depth","depth2","depth3"];return"\n      ".concat(zZ(t),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(ZZ(n,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(i,", ").concat(o,", ").concat(s,", ").concat(a,")) +\n          depth3;\n        ").concat(qZ(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===i&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(s,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(h===a&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=HZ(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(i," + col * ").concat(o," + depth * ").concat(s," +\n          depth2 * ").concat(a," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(h,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:s}=yb(t);if(a.length<t.length){const t=YZ(e,a),n=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(zZ(t),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(ZZ(n,s),");\n      }\n    ")}const o=t[5],i=t[4]*o,c=t[3]*i,l=t[2]*c,u=t[1]*l;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(l,", ").concat(c,", ").concat(i,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(o,", 1)));\n        ").concat(qZ(e),"\n      }\n    ");const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],f=p[1];if(f===u&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(l,", ").concat(c,", ").concat(i,", ").concat(o,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===o&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=HZ(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(l," + depth * ").concat(c," +\n          depth2 * ").concat(i," + depth3 * ").concat(o," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function BZ(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=AZ();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,s=AZ();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(s.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(s.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape,o=s[0],i=s[1],c=AZ();if(null!=s&&cb(n,s))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,".0, ").concat(o,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");const l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape,o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(1===n[0]){const r=[1,2],s=YZ(e,n.slice(1)),o=["b","row","col"];return"\n        ".concat(BZ(s,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(ZZ(o,r),");\n        }\n      ")}const i=AZ();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(i.texture2D,"(").concat(r,", uv);\n    }\n  ");const c=o[0],l=o[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(c,", ").concat(l,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(i.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=AZ();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");const s=e.shapeInfo.logicalShape,o=s.length,i=e.shapeInfo.texShape,c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],l=c[0],u=c[1],d=Math.ceil(s[o-1]/2);let p=d*Math.ceil(s[o-2]/2),h="int b, int row, int col",f="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<o-1;m++)h="int b".concat(m,", ")+h,p*=s[o-m-1],f="b".concat(m," * ").concat(p," + ")+f;return"\n    vec4 ".concat(r,"(").concat(h,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(l,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}const UZ="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",WZ="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",VZ="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",GZ="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function HZ(e){return"offset".concat(e)}function qZ(e){const t=e.name,n=sb(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function KZ(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function XZ(e,t,n){const{newShape:r,keptDims:a}=yb(t),s=t.length,o=e&&3===s&&1===t[0],i=o?t.slice(1):r,c=!e&&s>1&&!cb(t,n)&&r.length<s||o;return{useSqueezeShape:c,uniformShape:c?i:t,keptDims:a}}function YZ(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function ZZ(e,t){return t.map((t=>e[t])).join(", ")}function $Z(e,t,n,r){const a=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),s=a.map((e=>e.shapeInfo)),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},i=LZ(a,o,t),c=function(e,t){const n=gZ(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(sZ(e,(()=>e.shaderSource(n,t))),sZ(e,(()=>e.compileShader(n))),Hb().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw lZ(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,i),l=e.createProgram(c);return Hb().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:i,webGLProgram:l,inShapeInfos:s,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(l),Object.assign({program:t,fragmentShader:c,source:i,webGLProgram:l,inShapeInfos:s,outShapeInfo:o},JZ(e,t,l)))}function JZ(e,t,n){const r=[],a=[];let s,o,i,c=null,l=null;l=e.getUniformLocation(n,"NAN",!1),1===Hb().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of t.variableNames){const a={name:d,uniform:e.getUniformLocation(n,d,u),offset:e.getUniformLocation(n,"offset".concat(d),u)};t.enableShapeUniforms&&(a.shape=e.getUniformLocation(n,"".concat(d,"Shape"),u),a.texShape=e.getUniformLocation(n,"".concat(d,"TexShape"),u)),r.push(a)}if(t.enableShapeUniforms&&(s=e.getUniformLocation(n,"outShape",u),i=e.getUniformLocation(n,"outShapeStrides",u),o=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const d of t.customUniforms)a.push(e.getUniformLocation(n,d.name,u));return{variablesLocations:r,customUniformLocations:a,infLoc:c,nanLoc:l,outShapeLocation:s,outShapeStridesLocation:i,outTexShapeLocation:o}}function QZ(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(((e,n)=>{const r=e.logicalShape,a=t[n],s=a.shape;if(!cb(r,s))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(s," must match"));if(e.isUniform&&a.isUniform)return;const o=e.texShape,i=a.isUniform?null:a.texData.texShape;if(!cb(o,i))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(i," must match"))}))}function e$(e){return Hb().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class t${constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=JY.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=AZ();this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?DZ(["r","c","d"],e):RZ(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class n${constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=JY.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=AZ();this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?DZ(["r","c","d"],e):RZ(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class r${constructor(e){this.variableNames=["A"],this.outTexUsage=QY.DOWNLOAD;const t=AZ();this.outputShape=e,this.userCode="\n      ".concat(FZ,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class a${constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=QY.DOWNLOAD;const t=AZ();this.outputShape=e,this.userCode="\n      ".concat(FZ,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}const s$={R:0,G:1,B:2,A:3};class o${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=AZ();this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)");let s="";for(let o=0;o<n.length;o++){const e=n[o];s+="\n          if(offset == ".concat(o,") {\n            result = values[").concat(s$[e],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PZ(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(n.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(r.texture2D,"(A, uv);\n          ").concat(s,"\n        }\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")}}class i${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=AZ();this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length);let r="",a="result";t&&(a="floor(result * 255. + 0.5)");for(let s=0;s<=1;s++)for(let t=0;t<=1;t++){const a=2*s+t;r+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(t," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(t,";\n          if (localCoords[1] + ").concat(s," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(s,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(n.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(a,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(a,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(a,"] = values[2];\n            } else {\n              result[").concat(a,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PZ(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(r,"\n\n          ").concat(n.output," = ").concat(a,";\n        }\n    ")}}function c$(e){const t=AZ();return function(e,t){const n=gZ(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(sZ(e,(()=>e.shaderSource(n,t))),sZ(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function l$(e){return function(e,t){const n=gZ(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return sZ(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),sZ(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function u$(e){return function(e,t){const n=gZ(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return sZ(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),sZ(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function d$(e,t,n,r,a,s){!function(e,t){const n=Hb().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const r="[".concat(e,"x").concat(t,"]"),a="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+a+".")}}(t,n);const o=function(e){return gZ(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),i=e.TEXTURE_2D;return sZ(e,(()=>e.bindTexture(i,o))),sZ(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),sZ(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),sZ(e,(()=>e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST))),sZ(e,(()=>e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===Hb().getNumber("WEBGL_VERSION")?sZ(e,(()=>e.texImage2D(i,0,r,t,n,0,a,s,null))):sZ(e,(()=>e.texStorage2D(i,1,r,t,n))),sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:o,texShape:[n,t]}}function p$(e){return e.internalFormatFloat}function h$(e){return e.internalFormatHalfFloat}function f$(e){return e.downloadTextureFormat}function m$(e){return e.internalFormatPackedFloat}function g$(e){return e.internalFormatPackedHalfFloat}function y$(e,t,n,r,a,s,o,i){const c=e,l=new Float32Array(function(e,t){const[n,r]=rZ(e,t);return n*r*4}(s,o));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}class b${constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=Hb().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){YY[e]=t}(t,e)):this.gl=$Y(t),e=this.gl,2===Hb().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>sZ(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>sZ(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>sZ(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>sZ(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>sZ(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>sZ(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>sZ(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>sZ(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Hb().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=iZ(this.gl,e),CZ(this.gl,t))this.textureHalfFloatExtension=iZ(this.gl,t);else if(Hb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),CZ(this.gl,r))this.colorBufferHalfFloatExtension=iZ(this.gl,r);else if(Hb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",CZ(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!CZ(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=l$(this.gl),this.indexBuffer=u$(this.gl),this.framebuffer=function(e){return gZ(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=aZ(this.gl,this.textureHalfFloatExtension)}get debug(){return Hb().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;sZ(e,(()=>e.finish())),sZ(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),sZ(e,(()=>e.deleteFramebuffer(this.framebuffer))),sZ(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),sZ(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),sZ(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=tZ(t,n);return d$(e,a,s,p$(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=tZ(t,n);return d$(e,a,s,h$(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=tZ(t,n);return d$(e,a,s,f$(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===Hb().getNumber("WEBGL_VERSION")?sZ(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):sZ(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===Hb().getNumber("WEBGL_VERSION")?sZ(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):sZ(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,s){let o,i,c;sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),a instanceof Uint8Array?(o=new Uint8Array(n*r*4),i=e.UNSIGNED_BYTE,c=e.RGBA):(o=new Float32Array(n*r*4),i=e.FLOAT,c=s.internalFormatPackedFloat),o.set(a),2===Hb().getNumber("WEBGL_VERSION")?sZ(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,i,o))):sZ(e,(()=>e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,i,o))),sZ(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=rZ(t,n);return d$(e,a,s,g$(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=rZ(t,n);return d$(e,a,s,m$(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(fZ(this.gl,this.framebuffer),this.outputTexture=null),sZ(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[a,s]=tZ(t,n),o=new Uint8Array(t*n*4);return sZ(e,(()=>e.readPixels(0,0,a,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,o))),new Float32Array(o.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,a,s){return y$(this.gl,e,0,0,0,a,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const a=e.createBuffer();sZ(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,a)));const s=16*t*n;return sZ(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ))),sZ(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),sZ(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(Hb().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(a,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=a}else Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return sZ(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=c$(t));const n=function(e){return gZ(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);sZ(t,(()=>t.attachShader(n,this.vertexShader))),sZ(t,(()=>t.attachShader(n,e))),function(e,t){if(sZ(e,(()=>e.linkProgram(t))),!Hb().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&uZ(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;sZ(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){sZ(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),dZ(e,t,"clipSpacePos",n,3,20,0)&&dZ(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(sZ(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&uZ(this.gl,this.program),sZ(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return gZ(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),sZ(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),pZ(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,a]=rZ(t,n);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&uZ(this.gl,this.program),mZ(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}sZ(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),sZ(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=iZ(this.gl,2===Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await fb((()=>this.disposed||this.isQueryAvailable(e,Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in Hb().platform&&(n=Hb().platform.setTimeoutCustom.bind(Hb().platform)),fb((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),hZ(this.gl,e,this.framebuffer),this.debug&&mZ(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(hZ(this.gl,this.outputTexture,this.framebuffer),this.debug&&mZ(this.gl)):fZ(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;hZ(r,e,this.framebuffer),this.debug&&mZ(r),this.outputTexture=e,sZ(r,(()=>r.viewport(0,0,t,n))),sZ(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),sZ(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:v$,bincountImpl:x$,bincountReduceImpl:w$,bitwiseAndImpl:k$,castImpl:N$,ceilImpl:S$,concatImpl:C$,equalImpl:T$,expImpl:E$,expm1Impl:I$,floorImpl:_$,gatherNdImpl:O$,gatherV2Impl:A$,greaterImpl:R$,greaterEqualImpl:D$,lessImpl:M$,lessEqualImpl:P$,linSpaceImpl:F$,logImpl:j$,maxImpl:L$,maximumImpl:z$,minimumImpl:B$,multiplyImpl:U$,negImpl:W$,notEqualImpl:V$,prodImpl:G$,raggedGatherImpl:H$,raggedRangeImpl:q$,raggedTensorToTensorImpl:K$,rangeImpl:X$,rsqrtImpl:Y$,scatterImpl:Z$,sigmoidImpl:$$,simpleAbsImpl:J$,sliceImpl:Q$,sparseFillEmptyRowsImpl:eJ,sparseReshapeImpl:tJ,sparseSegmentReductionImpl:nJ,sqrtImpl:rJ,staticRegexReplaceImpl:aJ,stridedSliceImpl:sJ,stringNGramsImpl:oJ,stringSplitImpl:iJ,stringToHashBucketFastImpl:cJ,subImpl:lJ,tileImpl:uJ,topKImpl:dJ,transposeImpl:pJ,uniqueImpl:hJ}=z;function fJ(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>"".concat(e,".").concat(t)))}function mJ(e,t){return 1===t?[e]:fJ(e,t)}class gJ{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=e$(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=mJ("rc",this.rank),t=KZ(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),a=this.getOutput(e);this.userCode="\n        void main() {\n          ".concat(t," rc = getOutputCoords();\n\n          if(").concat(n,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(r,"\n\n            setOutput(vec4(").concat(a,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1");for(let t=2;t<this.rank;t++)a="".concat(e[e.length-1-t],",")+a;t.push(a)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let t="";for(let n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){const e=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(e," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}class yJ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length);let n="";for(let r=0;r<4;r++){let e="thisRC = rc;";r%2===1&&(e+="thisRC.z += 1;"),r>1&&(e+="thisRC.y += 1;"),n+="\n        ".concat(e,"\n        ").concat(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(r>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){const n=t?MZ(["r","c","d"],"inputShape"):RZ(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PZ(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(n,"\n\n        setOutput(result);\n      }\n    ")}}class bJ{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=xJ(t,n),a=wJ(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const s=vJ(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const e=this.freeTextures[a].pop();return this.usedTextures[a].push(e),e}let o;return r===eZ.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===eZ.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===eZ.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===eZ.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===eZ.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(o),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),o}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const a=xJ(n,r),s=wJ(t,a,r);s in this.freeTextures||(this.freeTextures[s]=[]);const o=vJ(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),i=Hb().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==i&&this._numBytesAllocated>i?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const c=this.usedTextures[s],l=c&&c.indexOf(e);if(null==l||l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[l]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function vJ(e,t,n,r,a){const s=function(e,t){switch(e){case eZ.PACKED_2X2_FLOAT32:return m$(t);case eZ.PACKED_2X2_FLOAT16:return g$(t);case eZ.UNPACKED_FLOAT32:return p$(t);case eZ.UNPACKED_FLOAT16:return h$(t);case eZ.PACKED_4X1_UNSIGNED_BYTE:return f$(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);let o;if(a){const[t,n]=rZ(e[0],e[1]);o=t*n}else{const[t,n]=tZ(e[0],e[1]);o=t*n}const i=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,s);return o*i}function xJ(e,t){if(e===QY.UPLOAD)return eZ.PACKED_2X2_FLOAT32;if(e===QY.RENDER||null==e)return function(e){return Hb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?eZ.PACKED_2X2_FLOAT32:eZ.UNPACKED_FLOAT32:e?eZ.PACKED_2X2_FLOAT16:eZ.UNPACKED_FLOAT16}(t);if(e===QY.DOWNLOAD||e===QY.PIXELS)return eZ.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function wJ(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}class kJ{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const NJ="if (isnan(x)) return x;",SJ="return x;",CJ="return abs(x);";const TJ="return (x >= 0.0) ? x : (exp(x) - 1.0);",EJ=NJ+"\n  return (x < 0.0) ? 0.0 : x;\n",IJ=NJ+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",_J="return x;",OJ="return 1.0 / (1.0 + exp(-1.0 * x));",AJ="return x;",RJ="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",DJ="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",MJ="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",PJ="return 1.0 / (1.0 + exp(-1.0 * x));";class FJ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}class jJ{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length);const t=e.length,n=mJ("rc",t),r=KZ(t),a=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),s=n.slice(-2),o=t<=1?"rc":"vec2(".concat(s.join(","),")");this.userCode="\n      void main() {\n        ".concat(r," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(a,");\n\n        setOutput(getChannel(packedInput, ").concat(o,"));\n      }\n    ")}}const LJ=yA,zJ={};const BJ=Hb().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class UJ extends qy{nextDataId(){return UJ.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Hb().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof b$)t=e;else{const n=$Y(Hb().getNumber("WEBGL_VERSION"),e);t=new b$(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=$Y(Hb().getNumber("WEBGL_VERSION"));t=new b$(e),this.binaryCache=((n=Hb().getNumber("WEBGL_VERSION"))in zJ||(zJ[n]={}),zJ[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new bJ(this.gpgpu),this.numMBBeforeWarning=null==Hb().global.screen?1024:Hb().global.screen.height*Hb().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Hy(this,rS())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,a,s){const o=this.makeTensorInfo(t,n),i=this.texData.get(o.dataId);i.isPacked=!1,i.texture={texture:e,texShape:[r,a]},i.texShape=[r,a];const c=xZ(t),l=new o$(c,!1,s),u=this.runWebGLProgram(l,[o],n,[[r,a]]);return u.shape=t,i.texture=null,this.disposeIntermediateTensorInfo(o),u.dataId}write(e,t,n){if((Hb().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Hb().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:QY.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,a){if(Hb().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:QY.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:a,slice:s,shape:o,isPacked:i}=t;if(null!=s){let t;t=i?new FJ(o,_J):new kJ(o,_J);const n=this.runWebGLProgram(t,[{dataId:e,shape:o,dtype:r}],r),a=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const c=null!=this.activeTimers;let l,u;if(c&&(l=Gk()),"complex64"===r){u=fD(this.readSync(a.real.dataId),this.readSync(a.imag.dataId))}else u=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=Gk()-l),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:a,dtype:s,complexTensorInfos:o,isPacked:i}=t;if(null!=a){let t;t=i?new FJ(r,_J):new kJ(r,_J);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:s}],s),a=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if(Hb().getBool("DEBUG")&&!Hb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Hb().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c,l,u=null;if("complex64"!==s&&Hb().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const t=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...nZ(r))}if(this.pendingRead.set(e,[]),"complex64"!==s&&await this.gpgpu.createAndWaitForFence(),"complex64"===s){const e=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]);l=fD(e[0],e[1])}else if(null==u)l=this.getValuesFromTexture(e);else{const e=sb(r);l=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=c&&this.disposeIntermediateTensorInfo(c),null!=u){const e=this.gpgpu.gl;sZ(e,(()=>e.deleteBuffer(u)))}const d=this.convertAndCacheOnCPU(e,l),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&rS().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:a,slice:s,dtype:o,isPacked:i,texture:c}=n;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=s){let n;n=i?new FJ(a,_J):new kJ(a,_J);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:o}],o),s=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),s}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const l=this.decode(e,t.customTexShape),u=rS().makeTensorFromTensorInfo(l),d=this.texData.get(l.dataId);return Object.assign({tensorRef:u},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>Kk(e)));return wC(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return wC(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!oZ(n)){if(Hb().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),a=sb(t);if(Hb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),s=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...nZ(t)).subarray(0,a);return this.disposeIntermediateTensorInfo(n),s}const s=Hb().getBool("WEBGL_PACK")&&!0===r,o=s?xZ(t):t,i=s?new a$(o):new r$(o),c=this.runWebGLProgram(i,[{shape:o,dtype:n,dataId:e}],"float32"),l=this.texData.get(c.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(l.texture.texture,l.texShape[0],l.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(c),u}timerAvailable(){return Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const a=Yk(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),s=Yk(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(a);o.kernelMs=Qy(e),o.getExtraProfileInfo=()=>e.map(((e,t)=>({name:s[t],ms:e}))).map((e=>"".concat(e.name,": ").concat(e.ms))).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Gk(),endMs:null}}endTimer(e){return Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Gk(),e)}async getQueryTime(e){if(Hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:a,isPacked:s,slice:o}=this.texData.get(e),i=o&&o.origDataId||e,c=this.dataRefCount.get(i);c>1?this.dataRefCount.set(i,c-1):(this.dataRefCount.delete(i),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,a,s)));const l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BJ;return Hb().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&sb(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){fk("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return LJ(e.shape,t)}packedUnaryOp(e,t,n){const r=new FJ(e.shape,t),a=this.compileAndRun(r,[e],n);return rS().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=J$(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Hb().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,CJ,e.dtype);const t=new kJ(e.shape,CJ),n=this.compileAndRun(t,[e]);return rS().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Cb(n[0])){const a=n.map((e=>qk(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return rS().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new jJ(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new gJ(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[bZ(e.shape),...vZ(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[bZ(t),...vZ(t)],s=new yJ(a,n),o=[n],i=this.runWebGLProgram(s,[r],e.dtype,o,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:s}=n;if(null!=t){nb(sb(a)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const o=xZ(a);let i;i=r?new n$(o):new t$(o);const c=[null!=t?t:nZ(o)];return{dtype:s,shape:a,dataId:this.runWebGLProgram(i,[{shape:o,dtype:s,dataId:e}],s,c,!0,t).dataId}}runWebGLProgram(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0;const o=this.makeTensorInfo(e.outputShape,n),i=this.texData.get(o.dataId);if(e.packedOutput&&(i.isPacked=!0),e.outPackingScheme===JY.DENSE){const t=null!=s?s:nZ(e.outputShape);i.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(i.usage=e.outTexUsage),0===sb(o.shape))return i.values=bb(o.dtype,0),o;const c=[],l=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&sb(t.shape)<=Hb().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),c.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!kZ(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),c.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);const u={shape:o.shape,texData:i,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const s=t.texData.texShape,{useSqueezeShape:o,uniformShape:i,keptDims:c}=XZ(e.packedInputs,t.shape,s);let l="",u="",d="";if(1===i.length&&e.packedInputs){const e=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];l="".concat(e[0]>1,"_").concat(e[1]>1)}else if(2!==i.length||e.packedInputs){if(i.length>2&&!e.packedInputs){const e=Ab(i);d="".concat(e[0]===s[1],"_").concat(e[e.length-1]===s[1])}}else u="".concat(i[0]>1,"_").concat(i[1]>1);const p=t.shape.length,h=2===i.length&&cb(t.shape,s),f=1===sb(t.shape),m=eT(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&cb(s,n.texData.texShape),y=e.packedInputs||i.length>2?"":"".concat(s[0]>1,"_").concat(s[1]>1);r+="".concat(p,"_").concat(g,"_").concat(o?c:"","_").concat(i.length,"_").concat(f,"_").concat(m,"_").concat(h,"_").concat(l,"_").concat(u,"_").concat(d,"_").concat(y,"_").concat(a)}else{const e=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(e,"_").concat(a)}}));const a=e.userCode;let s=e.constructor.name;return s+="_"+r+"_"+a+"".concat(Hb().getNumber("WEBGL_VERSION")),s}(e,l,u),p=this.getAndSaveBinary(d,(()=>$Z(this.gpgpu,e,l,u))),h=null!=this.activeTimers;let f;h&&(f=this.startTimer()),Hb().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(QZ(t.inShapeInfos,n),QZ([t.outShapeInfo],[r]));const s=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(s.texture,o[0],o[1]):e.setOutputMatrixTexture(s.texture,o[0],o[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===Hb().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let c=0;c<n.length;++c){const r=n[c],{uniform:a,offset:s,shape:o,texShape:i}=t.variablesLocations[c];if(o){const{uniformShape:n}=XZ(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(o,new Int32Array(n));break;case 2:e.gl.uniform2iv(o,new Int32Array(n));break;case 3:e.gl.uniform3iv(o,new Int32Array(n));break;case 4:e.gl.uniform4iv(o,new Int32Array(n))}}if(i&&e.gl.uniform2i(i,r.texData.texShape[0],r.texData.texShape[1]),null!=a)if(r.isUniform)if(sb(r.shape)<2)e.gl.uniform1f(a,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=r.texData.slice&&null!=s&&e.gl.uniform1i(s,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,a,c)}const i=t.outShapeLocation;if(i)switch(r.shape.length){case 1:e.gl.uniform1iv(i,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(i,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(i,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(i,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=Ab(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let c=0;c<t.program.customUniforms.length;++c){const n=t.program.customUniforms[c],r=t.customUniformLocations[c],s=a[c];if("float"===n.type)e.gl.uniform1fv(r,s);else if("vec2"===n.type)e.gl.uniform2fv(r,s);else if("vec3"===n.type)e.gl.uniform3fv(r,s);else if("vec4"===n.type)e.gl.uniform4fv(r,s);else if("int"===n.type)e.gl.uniform1iv(r,s);else if("ivec2"===n.type)e.gl.uniform2iv(r,s);else if("ivec3"===n.type)e.gl.uniform3iv(r,s);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(r,s)}}e.executeProgram()}(this.gpgpu,p,l,u,r),c.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=Hb().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=Gk();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!Hb().getBool("WEBGL_LAZILY_UNPACK")&&i.isPacked&&!1===a){const e=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),e}return o}compileAndRun(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,a)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!Hb().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=oS((()=>{if(!Hb().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Hb().getBool("DEBUG");Hb().set("DEBUG",!1);const t=this.abs(zC(1e-8)).dataSync()[0];if(Hb().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:a,texture:s,usage:o,isPacked:i}=t;if(null!=s)return;const c=null!=this.activeTimers;let l;c&&(l=Gk());let u=t.texShape;if(null==u&&(u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Hb().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Hb().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&Hb().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?$y(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=yb(e);e=t.newShape}let a=sb(e),s=null;e.length<=1&&a<=n?s=[1,a]:2===e.length&&e[0]<=n&&e[1]<=n?s=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?s=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?s=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?s=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(s=[e[0],e[1]*e[2]*e[3]]);const o=null!=s&&Math.max(...s)>r&&Math.min(...s)<=(t?2:1)&&Math.min(...s)>0;if(null==s||o)if(t){const t=bZ(e);let n=2,r=2;e.length&&([n,r]=vZ(e)),a=t*(n/2)*(r/2),s=db(a).map((e=>2*e))}else s=db(a);return s}(n,i),t.texShape=u),null!=a){const e=xZ(n);let s,o=u[1],d=u[0];const p=a instanceof Uint8Array||a instanceof Uint8ClampedArray;!i&&p||([o,d]=rZ(u[0],u[1])),s=i?new i$(e,p):new o$(e,p);const h=p?[d,o]:u,f=this.makeTensorInfo(h,r),m=this.texData.get(f.dataId);m.usage=p?QY.PIXELS:QY.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),o,d,a);const g=[[d,o]],y=!0,b=this.runWebGLProgram(s,[f],r,g,y),v=this.texData.get(b.dataId);t.texShape=v.texShape,t.isPacked=v.isPacked,t.usage=v.usage,Hb().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=v.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(f),c&&(this.uploadWaitMs+=Gk()-l)}else{const e=this.acquireTexture(u,o,r,i);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(e," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*Nb(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await GR(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw lZ(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:a,outShapeLocation:s,outShapeStridesLocation:o,outTexShapeLocation:i}=JZ(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=a,e.outShapeLocation=s,e.outShapeStridesLocation=o,e.outTexShapeLocation=i}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:a,width:s,channels:o}=e,i=rS().backend;if(!i.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=i.writeTexture(r,t,n,a,s,o);return rS().makeTensorFromDataId(c,t,n,i)}}UJ.nextDataId=0;LN()&&gS("webgl",(()=>new UJ),2);const WJ="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class VJ{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=nT(t,n),this.enableShapeUniforms=e$(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}const GJ="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class HJ{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nT(t,n);const a=this.outputShape.length;this.enableShapeUniforms=e$(a);let s="";if(r)if(0===a||1===sb(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=KZ(a);if(s="\n          ".concat(e," coords = getOutputCoords();\n        "),1===a)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const e=mJ("coords",a);this.enableShapeUniforms?s+="\n            bool nextRowOutOfBounds =\n              (".concat(e[a-2]," + 1) >= outShape[").concat(a," - 2];\n            bool nextColOutOfBounds =\n              (").concat(e[a-1]," + 1) >= outShape[").concat(a," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):s+="\n            bool nextRowOutOfBounds =\n              (".concat(e[a-2]," + 1) >= ").concat(this.outputShape[a-2],";\n            bool nextColOutOfBounds =\n              (").concat(e[a-1]," + 1) >= ").concat(this.outputShape[a-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(s,"\n\n        setOutput(result);\n      }\n    ")}}function qJ(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const KJ={kernelName:px,backendName:"webgl",kernelFunc:qJ};function XJ(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,s=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(s.dataId),i=qJ({inputs:{x:r},backend:n}),c=qJ({inputs:{x:a},backend:n});return o.complexTensorInfos={real:i,imag:c},s}const YJ={kernelName:Nv,backendName:"webgl",kernelFunc:XJ},ZJ="return (a < 0.) ? b * a : a;",$J="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const JJ={kernelName:bx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:s}=r,o=n.makeTensorInfo([],"float32",Wk(s,"float32")),i=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HJ($J,a.shape,o.shape):new VJ(ZJ,a.shape,o.shape),c=n.runWebGLProgram(i,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),c}},QJ="return (a < 0.) ? b * a : a;",eQ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const tQ={kernelName:aw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,s=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HJ(eQ,r.shape,a.shape):new VJ(QJ,r.shape,a.shape);return n.runWebGLProgram(s,[r,a],"float32")}},nQ="if (isnan(x)) return x;";function rQ(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:a}=e;return e=>{let{inputs:s,backend:o}=e;const{x:i}=s,c=o,l=a||i.dtype;if(c.shouldExecuteOnCPU([i])&&null!=r){const e=c.texData.get(i.dataId),t=r(e.values,l);return c.makeTensorInfo(i.shape,l,t)}let u;return u=Hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new FJ(i.shape,n):new kJ(i.shape,t),c.runWebGLProgram(u,[i],l)}}function aQ(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:a=!1,cpuKernelImpl:s,dtype:o}=e;return e=>{let{inputs:i,backend:c}=e;const{a:l,b:u}=i,d=c;if(a&&"complex64"===l.dtype){const e=d.texData.get(l.dataId),n=d.texData.get(u.dataId),[r,a]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,a={dataId:n.dataId,dtype:n.dtype,shape:l.shape},s={dataId:r.dataId,dtype:r.dtype,shape:u.shape},o=new VJ(t,l.shape,u.shape);return d.runWebGLProgram(o,[a,s],xN(n.dtype,r.dtype))})),s=XJ({inputs:{real:r,imag:a},backend:d});return d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(a),s}const p=o||xN(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([l,u]))&&null!=s){const e=d.texData.get(l.dataId).values,t=d.texData.get(u.dataId).values,n="string"===l.dtype?XD(e):e,r="string"===l.dtype?XD(t):t,[a,o]=s(l.shape,u.shape,n,r,p),i=d.makeTensorInfo(o,p);return d.texData.get(i.dataId).values=a,i}let h;return h=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new HJ(n,l.shape,u.shape,r):new VJ(t,l.shape,u.shape),d.runWebGLProgram(h,[l,u],p)}}function sQ(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?AJ:SJ;if("relu"===e)return t?DJ:EJ;if("elu"===e)return t?RJ:TJ;if("relu6"===e)return t?MJ:IJ;if("prelu"===e)return t?eQ:QJ;if("leakyrelu"===e)return t?$J:ZJ;if("sigmoid"===e)return t?PJ:OJ;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}class oQ{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=e$(this.outputShape.length);const l=r?e[1]:e[2],u=Math.ceil(l/2),d=r?"i * 2, rc.y":"rc.y, i * 2",p=a?"rc.z, i * 2":"i * 2, rc.z",h=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";o&&(m=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(o,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(o,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(o,"\n        }"),g="result = activation(result);");const y=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let b="rc.x",v="rc.x";e[0]<t[0]?b="imod(rc.x, ".concat(e[0],")"):t[0]<e[0]&&(v="imod(rc.x, ".concat(t[0],")")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(u,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(b,";\n        int batchB = ").concat(v,";\n        for (int i = 0; i < ").concat(u,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(f[0],");\n          result += (").concat(h[1]," * ").concat(f[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}const iQ={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class cQ{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nT(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}const lQ="return a * b;";function uQ(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,s=xN(r.dtype,a.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),s=new cQ(iQ.REAL,r.shape,a.shape),o=new cQ(iQ.IMAG,r.shape,a.shape),i=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:a.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:a.shape}],c=n.runWebGLProgram(s,i,"float32"),l=n.runWebGLProgram(o,i,"float32"),u=XJ({inputs:{real:c,imag:l},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(l),u}if(n.shouldExecuteOnCPU([r,a])){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),[o,i]=U$(r.shape,a.shape,e.values,t.values,s),c=n.makeTensorInfo(i,s);return n.texData.get(c.dataId).values=o,c}let o;return o=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HJ(lQ,r.shape,a.shape):new VJ(lQ,r.shape,a.shape),n.runWebGLProgram(o,[r,a],s)}const dQ={kernelName:qx,backendName:"webgl",kernelFunc:uQ};function pQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:s}=r,o=n,i=sb(a.shape),c=mb(s,i),l=sb(c);nb(i===l,(()=>"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."));const u=o.texData.get(a.dataId);return!u.isPacked||kZ(a.shape,c)||null!==u.texture&&kZ(u.shape,c)?(o.incRef(a.dataId),{dataId:a.dataId,shape:c,dtype:a.dtype}):function(e,t,n){const r=[bZ(e.shape),...vZ(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},s=[bZ(t),...vZ(t)],o=new yJ(s,r),i=[r],c=n.runWebGLProgram(o,[a],e.dtype,i,!0);return{dataId:c.dataId,shape:t,dtype:c.dtype}}(a,c,o)}const hQ={kernelName:hw,backendName:"webgl",kernelFunc:pQ};class fQ{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:s}=e;this.outputShape=[r,s];const o=4*Math.floor(n/4),i=n%4;let c="sumValue += dot(values, ones);";if(null!=t){const e=1/t;c="sumValue += dot(values * ".concat(lb(e)?e.toPrecision(2):e,", ones);")}let l="";a%n>0&&(l="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(l,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(o,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(o,";\n        if (").concat(1===i,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(2===i,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(3===i,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}class mQ{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:s}=e;this.outputShape=[r,s];let o="0.0",i="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",i="min"):"max"===t&&(o="-1.0 / 1e-20",i="max");let c="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?c="sumValue":"prod"===t?c="prodValue":"all"===t?c="allValue":"any"===t&&(c="anyValue");const l=4*Math.floor(n/4),u=n%4;let d="\n      if (".concat("sum"===t,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===t,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(i,"(values, minMaxValue);\n        if (").concat("min"===t," || ").concat("max"===t,") {\n          minMaxValue = ").concat(i,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";"all"===t?(o="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(o="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";a%n>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(o,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        vec4 minMaxValue = vec4(").concat(o,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}function gQ(e,t,n,r){const a=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=QR(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let s=e;for(let o=0;o<a.length;o++){const{inSize:i,windowSize:c,outSize:l}=a[o];let u,d;u="mean"===n?0===o?new fQ({windowSize:c,inSize:i,batchSize:e.shape[0],outSize:l},i):new fQ({windowSize:c,inSize:i,batchSize:e.shape[0],outSize:l}):new mQ({windowSize:c,inSize:i,batchSize:e.shape[0],outSize:l},n),d=s,s=r.runWebGLProgram(u,[s],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return s}class yQ{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[t[s]];this.outputShape=n,this.rank=n.length;const r=KZ(this.rank),a=function(e){const t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode="\n    void main() {\n      ".concat(r," resRC = getOutputCoords();\n      setOutput(getA(").concat(a,"));\n    }\n    ")}}class bQ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let l=0;l<n.length;l++)n[l]=e[t[l]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const r=KZ(this.rank),a=fJ("rc",this.rank),s=new Array(this.rank);for(let l=0;l<t.length;l++)s[t[l]]=a[l];const o="vec2(".concat(s.slice(-2).join(),")"),i="++".concat(a[this.rank-1]," < ").concat(n[this.rank-1]),c="getChannel(getA(".concat(s.join(),"), ").concat(o,")");this.userCode="\n    void main() {\n      ".concat(r," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(c,";\n      if(").concat(i,") {\n        result[1] = ").concat(c,";\n      }\n      --").concat(a[this.rank-1],";\n      if(++").concat(a[this.rank-2]," < ").concat(n[this.rank-2],") {\n        result[2] = ").concat(c,";\n        if(").concat(i,") {\n          result[3] = ").concat(c,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}function vQ(e,t,n){const r=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bQ(e.shape,t):new yQ(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function xQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r;return function(e,t,n,r){const a=t,s=e.shape.length,o=gb(a,e.shape);let i=o;const c=n_(i,s),l=null!=c;let u=e;l&&(u=vQ(e,c,r),i=a_(i.length,s)),t_("sum",i,s);const[d,p]=QI(u.shape,i);let h=d;n&&(h=e_(d,o));const f=sb(p),m=pQ({inputs:{x:u},attrs:{shape:[sb(e.shape)/f,f]},backend:r}),g=gQ(m,wN(e.dtype),"sum",r),y=pQ({inputs:{x:g},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),l&&r.disposeIntermediateTensorInfo(u),y}(a,s,o,n)}const wQ={kernelName:Mw,backendName:"webgl",kernelFunc:xQ};function kQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:s}=r,o=n,i=a.shape.length,c=new Array(i);for(let u=0;u<c.length;u++)c[u]=a.shape[s[u]];let l;if(o.shouldExecuteOnCPU([a])){const e=o.texData.get(a.dataId).values,t=pJ(e,a.shape,a.dtype,s,c);l=o.makeTensorInfo(c,a.dtype);o.texData.get(l.dataId).values=t}else l=vQ(a,s,o);return l}const NQ={kernelName:nk,backendName:"webgl",kernelFunc:kQ},SQ=1e3;function CQ(e){let{a:t,b:n,transposeA:r,transposeB:a,backend:s,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:c=0,activation:l=null}=e;const u=t.shape.length,d=n.shape.length,p=r?t.shape[u-2]:t.shape[u-1],h=a?n.shape[d-1]:n.shape[d-2],f=r?t.shape[u-1]:t.shape[u-2],m=a?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),b=sb(g),v=sb(y),x=nT(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);nb(p===h,(()=>"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(h,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")));const w=r?[b,p,f]:[b,f,p],k=a?[v,m,h]:[v,h,m],N=pQ({inputs:{x:t},backend:s,attrs:{shape:w}}),S=pQ({inputs:{x:n},backend:s,attrs:{shape:k}}),C=[N,S],T=Math.max(b,v),E=r?N.shape[1]:N.shape[2],I=null!=o,_=null!=i,O="leakyrelu"===l,A=null!=l?sQ(l,!0):null;let R;if((1===f||1===m)&&E>SQ&&!1===(I||_||O||null!=A)){let e=N,t=S;r&&(e=kQ({inputs:{x:N},backend:s,attrs:{perm:[0,2,1]}}),C.push(e)),a&&(t=kQ({inputs:{x:S},backend:s,attrs:{perm:[0,2,1]}}),C.push(t));const n=1===m;let o=e;1!==m&&(o=pQ({inputs:{x:e},backend:s,attrs:{shape:[T,E,1]}}),C.push(o));const i=1===m?2:1;let c=t;n&&(c=pQ({inputs:{x:t},backend:s,attrs:{shape:[T,1,E]}}),C.push(c));const l=uQ({inputs:{a:o,b:c},backend:s});R=xQ({inputs:{x:l},backend:s,attrs:{axis:i,keepDims:!0}}),C.push(l)}else{const e=xN(t.dtype,n.dtype),l=new oQ(w,k,[T,f,m],r,a,I,A,_,O),u=[N,S];if(null!=o&&u.push(o),_&&u.push(i),O){const e=s.makeTensorInfo([],"float32",Wk(c,"float32"));u.push(e),C.push(e)}R=s.runWebGLProgram(l,u,e)}const D=pQ({inputs:{x:R},backend:s,attrs:{shape:x}});C.push(R);for(const M of C)s.disposeIntermediateTensorInfo(M);return D}const TQ={kernelName:dk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:s,bias:o,preluActivationWeights:i}=t,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=r;return CQ({a:a,b:s,transposeA:c,transposeB:l,backend:n,bias:o,preluActivationWeights:i,leakyreluAlpha:d,activation:u})}},EQ="return abs(x);";const IQ={kernelName:Zb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=J$(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let a;return a=Hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new FJ(r.shape,EQ):new kJ(r.shape,EQ),n.runWebGLProgram(a,[r],r.dtype)}},_Q=rQ({opSnippet:NJ+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),OQ={kernelName:$b,backendName:"webgl",kernelFunc:_Q},AQ=rQ({opSnippet:NJ+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),RQ={kernelName:Jb,backendName:"webgl",kernelFunc:AQ},DQ="return a + b;",MQ=aQ({opSnippet:DQ,packedOpSnippet:DQ,supportsComplex:!0,cpuKernelImpl:v$}),PQ={kernelName:Qb,backendName:"webgl",kernelFunc:MQ};class FQ{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        float result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}class jQ{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        vec4 result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}const LQ={kernelName:ev,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,a=n;if(1===a.length)return qJ({inputs:{x:a[0]},backend:r});if(a.length>Hb().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(a.length/2),n=e({inputs:a.slice(0,t),backend:r}),s=e({inputs:a.slice(t),backend:r});return e({inputs:[n,s],backend:r})}const s=a.map((e=>e.dtype)).reduce(((e,t)=>xN(e,t))),o=a.map((e=>e.shape)),i=Hb().getBool("WEBGL_PACK")?new jQ(a[0].shape,o):new FQ(a[0].shape,o);return r.runWebGLProgram(i,a,s)}};const zQ={kernelName:tv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r,i=a.shape.length,c=gb(s,a.shape);let l=c;const u=n_(l,i);let d=a;null!=u&&(d=kQ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=a_(l.length,i)),t_("all",l,i);const[p,h]=QI(d.shape,l),f=pQ({inputs:{x:d},backend:n,attrs:{shape:[-1,sb(h)]}}),m=gQ(f,f.dtype,"all",n);let g;if(o){g=pQ({inputs:{x:m},backend:n,attrs:{shape:e_(p,c)}})}else g=pQ({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};const BQ={kernelName:nv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r,i=a.shape.length,c=gb(s,a.shape);let l=c;const u=n_(l,i);let d=a;null!=u&&(d=kQ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=a_(l.length,i)),t_("any",l,i);const[p,h]=QI(d.shape,l),f=pQ({inputs:{x:d},backend:n,attrs:{shape:[-1,sb(h)]}}),m=gQ(f,f.dtype,"any",n);let g;if(o){g=pQ({inputs:{x:m},backend:n,attrs:{shape:e_(p,c)}})}else g=pQ({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};class UQ{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:s}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,s];const o="max"===t?">":"<",i=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(r,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          int inIdx = ").concat(i,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(o," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}class WQ{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,nb(e.length>2,(()=>"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")));const a=e[e.length-1],s=Math.ceil(a/t);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),r||this.variableNames.push("bestIndicesA");const o=this.outputShape,i=o.length,c=KZ(i),l=mJ("coords",i);let u,d;if(1===s){d=i+1;const e=KZ(d);u="\n        ".concat(e," sourceLocR = ").concat(e,"(").concat(l.join(),", 0);\n        ++").concat(l[i-1],";\n        ").concat(e," sourceLocG = ").concat(e,"(").concat(l.join(),", 0);\n        ++").concat(l[i-2],";\n        ").concat(e," sourceLocA = ").concat(e,"(").concat(l.join(),", 0);\n        --").concat(l[i-1],";\n        ").concat(e," sourceLocB = ").concat(e,"(").concat(l.join(),", 0);\n        --").concat(l[i-2],";")}else d=i,u="\n        ".concat(c," sourceLocR = coords;\n        ++").concat(l[i-1],";\n        ").concat(c," sourceLocG = coords;\n        ++").concat(l[i-2],";\n        ").concat(c," sourceLocA = coords;\n        --").concat(l[i-1],";\n        ").concat(c," sourceLocB = coords;\n        --").concat(l[i-2],";");const p=["x","y","z","w","u","v"].slice(0,d),h="."+p[d-1],f=p.map((e=>"int "+e)),m=mJ("sourceLocR",d-1).concat("inIdx.r"),g=mJ("sourceLocG",d-1).concat("inIdx.g"),y=mJ("sourceLocB",d-1).concat("inIdx.b"),b=mJ("sourceLocA",d-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(m.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),")));"),w="vec4(\n            getAChannel(".concat(m.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(b.join(),") : 0.)"),k=r?"":"\n      float getBestIndicesAChannel(".concat(f.join(),") {\n        return getChannel(getBestIndicesA(").concat(p.join(),"),\n                                          vec2(").concat(p.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(f.join(),") {\n        return getChannel(getA(").concat(p.join(),"),\n                               vec2(").concat(p.slice(-2).join(),"));\n      }\n      ").concat(k,"\n      void main() {\n        ").concat(c," coords = getOutputCoords();\n        bool hasNextCol = ").concat(l[i-1]," < ").concat(o[i-1]-1,";\n        bool hasNextRow = ").concat(l[i-2]," < ").concat(o[i-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(h,", sourceLocG").concat(h,",\n          sourceLocB").concat(h,", sourceLocA").concat(h,") * ").concat(t,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(w,";\n\n        for (int i = 0; i < ").concat(t,"; i++) {\n          inIdx = srcIdx;\n          ").concat(x,"\n          vec4 candidate = ").concat(w,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(v,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}function VQ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],s=t.shape[1];null!=r&&(a=r.shape[0],s=r.shape[1]);const o=QR(s),i={windowSize:o,inSize:s,batchSize:a,outSize:Math.ceil(s/o)},c=new UQ(i,n,null==r),l=[t];null!=r&&l.push(r);const u=e.runWebGLProgram(c,l,"int32");if(1===u.shape[1])return u;const d=VQ(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}function GQ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=null!=r?r.shape:t.shape,s=QR(a[a.length-1]),o=new WQ(a,s,n,null==r),i=null==r?[t]:[t,r],c=e.runWebGLProgram(o,i,"int32");if(c.shape.length===t.shape.length){const r=GQ(e,t,n,c);return e.disposeIntermediateTensorInfo(c),r}return c}function HQ(e,t,n,r){const a=[n];if(t_("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Hb().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],s=e.texData.get(t.dataId);let o=t;null!==s&&s.isPacked&&(o=e.unpackTensor(t),n.push(o));const[i,c]=QI(o.shape,a),l=sb(c),u=pQ({inputs:{x:o},backend:e,attrs:{shape:[-1,l]}});n.push(u);const d=VQ(e,u,r);n.push(d);const p=pQ({inputs:{x:d},backend:e,attrs:{shape:i}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return GQ(e,t,r)}const qQ={kernelName:rv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;let o=gb(s,a.shape);const i=n_(o,a.shape.length);let c=a;const l=[];null!=i&&(c=kQ({inputs:{x:a},backend:n,attrs:{perm:i}}),l.push(c),o=a_(o.length,c.shape.length)),t_("argMax",[o[0]],c.shape.length);const u=HQ(n,c,o[0],"max");return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const KQ={kernelName:av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;let o=gb(s,a.shape);const i=n_(o,a.shape.length);let c=a;const l=[];null!=i&&(c=kQ({inputs:{x:a},backend:n,attrs:{perm:i}}),l.push(c),o=a_(o.length,c.shape.length)),t_("argMin",[o[0]],c.shape.length);const u=HQ(n,c,o[0],"min");return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},XQ=rQ({opSnippet:NJ+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),YQ={kernelName:sv,backendName:"webgl",kernelFunc:XQ},ZQ=rQ({opSnippet:NJ+"return log(x + sqrt(x * x + 1.0));"}),$Q={kernelName:ov,backendName:"webgl",kernelFunc:ZQ},JQ=rQ({opSnippet:NJ+"\n  return atan(x);\n"}),QQ={kernelName:iv,backendName:"webgl",kernelFunc:JQ},e0=aQ({opSnippet:WJ+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+GJ+"\n  return result;\n"}),t0={kernelName:lv,backendName:"webgl",kernelFunc:e0},n0=rQ({opSnippet:NJ+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),r0={kernelName:cv,backendName:"webgl",kernelFunc:n0};class a0{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideHeight,i=e.strideWidth,c=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(t," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(r?a?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let b="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(b="avgValue / max(count, 1.0)");const v=4*Math.floor(s/4),x=s%4,w="\n      if (".concat(f,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(v,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(w,"\n          }\n\n          int xC = xCCorner + ").concat(v,";\n          if (").concat(1===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(2===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(3===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(w,"\n          }\n        }\n        setOutput(").concat(b,");\n      }\n    ")}}class s0{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideDepth,i=e.strideHeight,c=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let v="0.0";if(b||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(o,", ").concat(i,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(u,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(f,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(t," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(r?a?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(h," * ").concat(f," +\n                      wR * ").concat(f," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let x="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(s/4),k=s%4,N="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(o,", ").concat(i,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(N,"\n            }\n\n            int xC = xCCorner + ").concat(w,";\n            if (").concat(1===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(N,"\n            } else if (").concat(2===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(N,"\n            } else if (").concat(3===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(N,"\n            }\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}}const o0={kernelName:uv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;_Z(a,"avgPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r;nb(eI(o,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const l=GE(a.shape,s,o,1,i,c);if(1===l.filterWidth&&1===l.filterHeight&&cb(l.inShape,l.outShape))return qJ({inputs:{x:a},backend:n});const u=new a0(l,"avg",!1);return n.runWebGLProgram(u,[a],"float32")}};const i0={kernelName:pv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:l}=r,u=HE(a.shape,s,o,[1,1,1],i,c,l),d=new s0(u,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}};class c0{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s=e.dilationHeight,o=e.dilationWidth,i=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=i-1-e.padInfo.top,u=c-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(u,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n            wR += ").concat(s,") {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(o,") {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class l0{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=u-1-e.padInfo.front,f=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(f,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n            wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(a,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const u0={kernelName:hv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,o=s,{filterSize:i,strides:c,pad:l,dimRoundingMode:u}=r,d=HE(o.shape,i,c,[1,1,1],l,u),p=new l0(d);return n.runWebGLProgram(p,[a],o.dtype)}};const d0={kernelName:dv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,o=s;_Z([a,s],"avgPoolGrad");const{filterSize:i,strides:c,pad:l}=r,u=GE(o.shape,i,c,1,l),d=new c0(u);return n.runWebGLProgram(d,[a],o.dtype)}};const p0={kernelName:fv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:s}=t,{transposeA:o,transposeB:i}=r;return CQ({a:a,b:s,transposeA:o,transposeB:i,backend:n})}};class h0{constructor(e,t,n,r,a,s){this.outputShape=[],this.variableNames=["x","mean","variance"],nT(e,t),nT(e,n);let o="0.0";null!=r&&(nT(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let i="1.0";null!=a&&(nT(e,a),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(o,";\n        float scale = ").concat(i,";\n        float inv = scale * inversesqrt(variance + float(").concat(s,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}class f0{constructor(e,t,n,r,a,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nT(e,t),nT(e,n);let o="vec4(0.0)";null!=r&&(nT(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let i="vec4(1.0)";null!=a&&(nT(e,a),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(o,";\n        vec4 scale = ").concat(i,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(s,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}const m0={kernelName:ix,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,mean:s,variance:o,offset:i,scale:c}=t;nb(s.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),nb(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),nb(null==c||s.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=r;null==l&&(l=.001);const u=[a,s,o];let d=null;null!=i&&(d=i.shape,u.push(i));let p=null;null!=c&&(p=c.shape,u.push(c));const h=Hb().getBool("WEBGL_PACK_NORMALIZATION")?new f0(a.shape,s.shape,o.shape,d,p,l):new h0(a.shape,s.shape,o.shape,d,p,l);return n.runWebGLProgram(h,u,u[0].dtype)}};class g0{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=KZ(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return y0.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);let r;const a=e.map(((e,t)=>"sourceLoc.".concat(y0[t]," = start[").concat(t,"] + coords.").concat(y0[t],";")));r="\n        ".concat(t," sourceLoc;\n        ").concat(t," coords = getOutputCoords();\n        ").concat(a.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(n,"));\n      }\n    ")}}const y0=["x","y","z","w","u","v"];class b0{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=KZ(this.rank),n=mJ("coords",this.rank),r=mJ("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2(".concat(r.slice(-2).join(),")"),s="getChannel(getSource(".concat(r.join(),"), ").concat(a,")"),o="\n      result.x = ".concat(s,";\n      if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(r[this.rank-1],";\n        result.y = ").concat(s,";\n        --").concat(r[this.rank-1],";\n      }\n    "),i=1===this.rank?"":"\n      --".concat(n[this.rank-1],";\n      if (++").concat(n[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(r[this.rank-2],";\n        result.z = ").concat(s,";\n        if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(r[this.rank-1],";\n          result.w = ").concat(s,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(t,"(").concat(e.map(((e,t)=>"start[".concat(t,"]"))).join(),");"):e.map(((e,t)=>"".concat(r[t]," = ").concat(n[t]," + start[").concat(t,"];"))).join("\n");this.userCode="\n      void main() {\n        ".concat(t," coords = getOutputCoords();\n        ").concat(t," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(o,"\n        ").concat(i,"\n        setOutput(result);\n      }\n    ")}}function v0(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,size:o}=r,[i,c]=pE(a,s,o);if(JT(a,i,c),0===sb(c))return n.makeTensorInfo(c,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){const e=n.texData.get(a.dataId),t=Q$(e.values,i,c,a.shape,a.dtype);return n.makeTensorInfo(c,a.dtype,t)}const{isPacked:l}=n.texData.get(a.dataId),u=uE(a.shape,i,c);if(l||!u){const e=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new b0(c):new g0(c),t=[i];return n.runWebGLProgram(e,[a],a.dtype,t)}return n.uploadToGPU(a.dataId),function(e,t,n,r){const a=r.texData.get(e.dataId),s=r.makeTensorInfo(n,e.dtype),o=r.texData.get(s.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;let i=dE(t,Ab(e.shape));a.slice&&(i+=a.slice.flatOffset),o.slice={flatOffset:i,origDataId:a.slice&&a.slice.origDataId||e.dataId};const c=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,c+1),s}(a,i,c,n)}const x0={kernelName:Ew,backendName:"webgl",kernelFunc:v0},w0={kernelName:mv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,crops:o}=r;nb(a.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const i=s.reduce(((e,t)=>e*t)),c=tD(a.shape,s,i),l=nD(c.length,s.length),u=rD(a.shape,s,i),d=aD(o,s.length),p=sD(u,o,s.length),h=[],f=pQ({inputs:{x:a},backend:n,attrs:{shape:c}}),m=kQ({inputs:{x:f},backend:n,attrs:{perm:l}}),g=pQ({inputs:{x:m},backend:n,attrs:{shape:u}}),y=v0({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const k0={kernelName:gv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:o}=r,i=n.readSync(a.dataId),c=n.readSync(s.dataId),l=x$(i,c,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,l)}};const N0={kernelName:yv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,s=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=Hb().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||1===o){const e=n.texData.get(r.dataId).values,t=n.texData.get(a.dataId).values,[s,o]=k$(r.shape,a.shape,e,t,r.dtype),i=n.makeTensorInfo(o,r.dtype);return n.texData.get(i.dataId).values=s,i}let i;return i=s?new HJ("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,a.shape,!1):new VJ("\n  return float(int(a.r) & int(b.r));\n",r.shape,a.shape),n.runWebGLProgram(i,[r,a],r.dtype)}};const S0={kernelName:vv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,s=n.readSync(r.dataId),o=n.readSync(a.dataId),i=nT(Array.from(s),Array.from(o));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},C0=aQ({opSnippet:"return float(a != b);",cpuKernelImpl:V$,dtype:"bool"}),T0={kernelName:Xx,backendName:"webgl",kernelFunc:C0};function E0(e){const{inputs:t,backend:n}=e,{input:r}=t;return qJ({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const I0={kernelName:uw,backendName:"webgl",kernelFunc:E0},_0="return float(int(x));";const O0={kernelName:xv,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:a}=t,{x:s}=n,{dtype:o}=a;if("complex64"===o){if("complex64"===s.dtype)return qJ({inputs:{x:s},backend:r});const t=H_(s.shape),n=e({inputs:{x:s},backend:r,attrs:{dtype:"float32"}}),a=XJ({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),a}if("complex64"===s.dtype){const t=E0({inputs:{input:s},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(t),n}if(!kb(s.dtype,o)){const e=qJ({inputs:{x:s},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:o}}if(r.shouldExecuteOnCPU([s])){const e=r.texData.get(s.dataId).values,[t,n,a]=N$(e,s.shape,s.dtype,o);return r.makeTensorInfo(t,n,a)}if("int32"===o)return function(e,t){const n=new kJ(e.shape,_0),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(s,r);if("bool"===o){const e=r.makeTensorInfo([],"bool",bb("bool",1)),t=C0({inputs:{a:s,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error("Error in Cast: failed to cast ".concat(s.dtype," to ").concat(o))}},A0="return ceil(x);",R0=rQ({opSnippet:A0,packedOpSnippet:A0,cpuKernelImpl:S$}),D0={kernelName:wv,backendName:"webgl",kernelFunc:R0};class M0{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class P0{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const F0={kernelName:kv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:s,clipValueMax:o}=r;let i;i=Hb().getBool("WEBGL_PACK_CLIP")?new P0(a.shape):new M0(a.shape);const c=[[s],[o]];return n.runWebGLProgram(i,[a],a.dtype,c)}};class j0{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function L0(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const z0={kernelName:Sv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),s=new j0(r.shape),o=[L0(r,a.complexTensorInfos.real),L0(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(s,o,o[0].dtype)}};class B0{constructor(e){this.outputShape=[],this.outputShape=qR(e,1),this.variableNames=e.map(((e,t)=>"T".concat(t)));const t=new Array(e.length-1);t[0]=e[0][1];for(let s=1;s<t.length;s++)t[s]=t[s-1]+e[s][1];const n=["if (yC < ".concat(t[0],") setOutput(getT0(yR, yC));")];for(let s=1;s<t.length;s++){const e=t[s-1];n.push("else if (yC < ".concat(t[s],") ")+"setOutput(getT".concat(s,"(yR, yC-").concat(e,"));"))}const r=t.length,a=t[t.length-1];n.push("else setOutput(getT".concat(r,"(yR, yC-").concat(a,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(n.join("\n        "),"\n      }\n    ")}}class U0{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=qR(e,t);const n=this.outputShape,r=n.length,a=KZ(r),s=mJ("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>"T".concat(t)));const i=new Array(e.length-1);i[0]=e[0][t];for(let f=1;f<i.length;f++)i[f]=i[f-1]+e[f][t];const c=o[t],l=o.slice(-2),u=o.join();let d="if (".concat(c," < ").concat(i[0],") {\n        return getChannel(\n            getT0(").concat(u,"), vec2(").concat(l.join(),"));\n        }");for(let f=1;f<i.length;f++){const e=i[f-1];d+="\n        if (".concat(c," < ").concat(i[f],"  && ").concat(c," >= ").concat(i[f-1],") {\n          return getChannel(\n            getT").concat(f,"(").concat(W0(o,c,e),"),\n            vec2(").concat(W0(l,c,e),"));\n        }")}const p=i.length,h=i[i.length-1];d+="\n        return getChannel(\n          getT".concat(p,"(").concat(W0(o,c,h),"),\n          vec2(").concat(W0(l,c,h),"));"),this.userCode="\n      float getValue(".concat(o.map((e=>"int "+e)),") {\n        ").concat(d,"\n      }\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(s,"), 0., 0., 0.);\n\n        ").concat(s[r-1]," = ").concat(s[r-1]," + 1;\n        if (").concat(s[r-1]," < ").concat(n[r-1],") {\n          result.g = getValue(").concat(s,");\n        }\n\n        ").concat(s[r-2]," = ").concat(s[r-2]," + 1;\n        if (").concat(s[r-2]," < ").concat(n[r-2],") {\n          result.a = getValue(").concat(s,");\n        }\n\n        ").concat(s[r-1]," = ").concat(s[r-1]," - 1;\n        if (").concat(s[r-2]," < ").concat(n[r-2]," &&\n            ").concat(s[r-1]," < ").concat(n[r-1],") {\n          result.b = getValue(").concat(s,");\n        }\n        setOutput(result);\n      }\n    ")}}function W0(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?"".concat(e," - ").concat(n):e)).join()}function V0(e){const{inputs:t,backend:n}=e,{input:r}=t;return qJ({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const G0={kernelName:fx,backendName:"webgl",kernelFunc:V0};function H0(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>E0({inputs:{input:e},backend:n}))),a=e.map((e=>V0({inputs:{input:e},backend:n}))),s=H0(r,t,n),o=H0(a,t,n),i=XJ({inputs:{real:s,imag:o},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),a.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),i}let a=n.shouldExecuteOnCPU(e);if("string"===r&&(a=!0),a){const a=e.map((e=>{const r=sb(e.shape.slice(t));return pQ({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),s=a.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),o=qR(a.map((e=>e.shape)),1),i=1===a[0].shape[0],c=C$(s,o,r,i),l=qR(e.map((e=>e.shape)),t),u=n.makeTensorInfo(l,r,c);return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const s=e.filter((e=>sb(e.shape)>0)),o=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&s[0].shape.length>1;if(1===s.length){const t=o?new kJ(e[0].shape,_J):new FJ(e[0].shape,_J);return n.runWebGLProgram(t,e,r)}const i=Hb().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(s.length>i){const e=[];for(let a=0;a<s.length;a+=i){const r=s.slice(a,a+i);e.push(H0(r,t,n))}const r=H0(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(o){const e=new U0(s.map((e=>e.shape)),t);return n.runWebGLProgram(e,s,r)}const{tensors2D:c,outShape:l}=function(e,t,n){const r=qR(e.map((e=>e.shape)),t),a=e.map((e=>pQ({inputs:{x:e},attrs:{shape:[-1,sb(e.shape.slice(t))]},backend:n})));return{tensors2D:a,outShape:r}}(s,t,n),u=new B0(c.map((e=>e.shape))),d=n.runWebGLProgram(u,c,r);c.forEach((e=>n.disposeIntermediateTensorInfo(e)));const p=pQ({inputs:{x:d},attrs:{shape:l},backend:n});return n.disposeIntermediateTensorInfo(d),p}function q0(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,s=gb(a,t[0].shape)[0];HR(t.map((e=>e.shape)),s);const o=qR(t.map((e=>e.shape)),s);if(0===sb(o))return n.makeTensorInfo(o,t[0].dtype,[]);const i=t.filter((e=>sb(e.shape)>0));return 1===i.length?qJ({inputs:{x:i[0]},backend:n}):H0(i,s,n)}const K0={kernelName:Cv,backendName:"webgl",kernelFunc:q0};class X0{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const s=e.padInfo.top,o=e.padInfo.left,i=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1;let v="",x="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(v,"\n\n      const ivec2 strides = ivec2(").concat(i,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(s,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===f,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===f,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===f,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}}class Y0{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(a,", ").concat(s,", ").concat(o,");\n      const ivec3 pads = ivec3(").concat(t,", ").concat(n,", ").concat(r,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(u,"; wF++) {\n          int xF = xFCorner + wF * ").concat(i,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===f,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===f,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===f,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Z0{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=e$(this.outputShape.length);const s=e.padInfo.left,o=e.strideWidth,i=e.dilationWidth,c=e.filterHeight,l=e.filterWidth,u=l;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<l;m++)d+="\n           vec4 xTexelC".concat(2*m,";\n           int xTexelC").concat(2*m,"Ready;\n           vec4 xTexelC").concat(2*m+1,";\n           int xTexelC").concat(2*m+1,"Ready;\n           vec4 xC").concat(m,";");d+="\n     for (int r = 0; r < ".concat(c,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let m=0;m<l;m++)d+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(d+="\n           xC = xCCorner + ".concat(t*i,";\n           "),1===o){if(t<l&&(s%2===1?(d+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n               "),d+=1===i&&t>0?"\n                 xC".concat(t," = vec4(xTexelC").concat(t-2,".zw, xTexelC").concat(t,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(t," = vec4(previous.zw, xTexelC").concat(t,".xy);\n                   } else {\n                     xC").concat(t," = vec4(0.0, 0.0, xTexelC").concat(t,".xy);\n                   }\n                   ")):d+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xC").concat(t," = xTexelC").concat(t,";\n                 "),t+1<l)){const e=s%2===0?$y(i):i;i%2===0&&s%2===1||i%2!==0&&s%2!==1?(d+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(e,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                     xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(t+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(t+1,"Ready = 1;\n                   }\n                   "),d+=i>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(t+1," = vec4(previous.zw, xTexelC").concat(t+1,".xy);\n                     } else {\n                      xC").concat(t+1," = vec4(0.0, 0.0, xTexelC").concat(t+1,".xy);\n                     }\n                     "):"\n                     xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".xy);\n                     ")):d+=1===e?"\n                     xC".concat(t+1," = xTexelC").concat(t,";\n                     "):"\n                     xCOffset = xC + ".concat(e,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                       xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(t+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(t+1,"Ready = 1;\n                     }\n\n                     xC").concat(t+1," = xTexelC").concat(t+1,";\n                     ")}}else t<l&&(s%2===1?(d+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n               "),t+1<l&&(d+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(t+1," = vec4(xTexelC").concat(t+1,".xy, final.xy);\n                 "))):(d+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(\n                   xTexelC").concat(t,".xy, xTexelC").concat(t+1,".xy);\n               "),t+1<l&&(d+="\n                   xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n                 "))));t<l&&(d+="\n             wTexel = getW(r, ".concat(t,", d1, d2);\n             dotProd += xC").concat(t,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(t,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),t+1<l&&(d+="\n               wTexel = getW(r, ".concat(t+1,", d1, d2);\n               dotProd += xC").concat(t+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(t+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",h="";n&&(p=r?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(n,"\n         }"):a?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(n,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(n,"\n         }"),h="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(p,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(d,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(f,"\n         ").concat(h,"\n         setOutput(result);\n       }\n     ")}}class $0{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=e$(this.outputShape.length);const{dataFormat:n}=t,r=AZ(),a="channelsLast"===n,s=a?1:2,o=a?2:3,i=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let c="";for(let l=0;l<=1;l++)for(let e=0;e<=1;e++)c+="\n          blockIndex = rc.z + ".concat(e,";\n          pos = rc.y + ").concat(l,";\n\n          ").concat(i,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(s,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(o,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(a,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+e,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+e,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(r.output," = result;\n      }\n    ")}}function J0(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function Q0(e){let{x:t,filter:n,convInfo:r,backend:a,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:c=null}=e;const l=t.shape,u=a.texData.get(t.dataId),d=r.inChannels,p=l[0]*l[1]*l[2],h=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const y=[];if(null!=o){const e=J0(o.shape,f);null!=e&&(o=pQ({inputs:{x:o},backend:a,attrs:{shape:e}}),y.push(o))}if(null!=s){const e=J0(s.shape,f);null!=e&&(s=pQ({inputs:{x:s},backend:a,attrs:{shape:e}}),y.push(s))}if(!((1===p||1===h)&&d>SQ)&&u.isPacked&&f&&null!=u.texture&&l[2]%2!==0&&cb(u.shape.slice(-3),l.slice(-3))){const e=l[0]*l[1]*(l[2]+1),d={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},p=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,nb(kZ(u.shape,d.shape),(()=>"packed reshape ".concat(u.shape," to ").concat(d.shape," isn't free")));const h=pQ({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(h);const f=CQ({a:d,b:h,backend:a,transposeA:false,transposeB:m,bias:s,activation:c,preluActivationWeights:o,leakyreluAlpha:i}),b=a.texData.get(f.dataId);nb(b.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=p,b.shape=r.outShape,g=qJ({inputs:{x:f},backend:a}),g.shape=r.outShape,y.push(f)}else{const e=r.outHeight*r.outWidth,l=pQ({inputs:{x:t},backend:a,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),u=pQ({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}}),d=CQ({a:f?l:u,b:f?u:l,transposeA:!f,transposeB:m,backend:a,bias:s,activation:c,preluActivationWeights:o,leakyreluAlpha:i});g=pQ({inputs:{x:d},backend:a,attrs:{shape:r.outShape}}),y.push(l),y.push(u),y.push(d)}for(const b of y)a.disposeIntermediateTensorInfo(b);return g}function e1(e){let{x:t,filter:n,convInfo:r,backend:a,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:c=null}=e;const{filterWidth:l,filterHeight:u,inChannels:d,outWidth:p,outHeight:h,dataFormat:f}=r,m="channelsLast"===f,g=l*u*d,y=h*p,b=[r.batchSize,g,y],v=[];if(null!=o){const e=J0(o.shape,m);null!=e&&(o=pQ({inputs:{x:o},backend:a,attrs:{shape:e}}),v.push(o))}if(null!=s){const e=J0(s.shape,m);null!=e&&(s=pQ({inputs:{x:s},backend:a,attrs:{shape:e}}),v.push(s))}const x=pQ({inputs:{x:n},backend:a,attrs:{shape:[1,g,sb(n.shape)/g]}});v.push(x);const w=new $0(b,r),k=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],N=a.runWebGLProgram(w,[t],"float32",k),S=pQ({inputs:{x:N},backend:a,attrs:{shape:b}});v.push(N),v.push(S);const C=null!=s,T=null!=o,E="leakyrelu"===c,I=c?sQ(c,!0):null,_=new oQ(m?S.shape:x.shape,m?x.shape:S.shape,m?[r.batchSize,y,r.outChannels]:[r.batchSize,r.outChannels,y],!0,!1,C,I,T,E),O=m?[S,x]:[x,S];if(s&&O.push(s),T&&O.push(o),E){const e=a.makeTensorInfo([],"float32",Wk(i,"float32"));O.push(e),v.push(e)}const A=a.runWebGLProgram(_,O,"float32"),R=pQ({inputs:{x:A},backend:a,attrs:{shape:r.outShape}});v.push(A);for(const D of v)a.disposeIntermediateTensorInfo(D);return R}const t1={kernelName:Tv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dataFormat:c,dilations:l,dimRoundingMode:u}=r,d=nI(c),p=qE(a.shape,s.shape,o,l,i,u,!1,d);let h;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&Hb().getBool("WEBGL_EXP_CONV")){const e=new Z0(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];h=n.runWebGLProgram(e,[a,s],"float32",t)}else if(Hb().getBool("WEBGL_CONV_IM2COL"))h=e1({x:a,filter:s,convInfo:p,backend:n});else{const e=new X0(p);h=n.runWebGLProgram(e,[a,s],"float32")}else h=Q0({x:a,filter:s,convInfo:p,backend:n});const f=pQ({inputs:{x:h},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(h),f}};class n1{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,s="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(s?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class r1{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,c=s?1:2,l=s?2:3,u=s?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(u,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(s,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class a1{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,s=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(t," - ").concat(a,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(n," - ").concat(s,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class s1{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.front,c=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(i,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(t,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(a,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(t," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(n,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(n," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(r,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(r," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const o1={kernelName:Ev,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,pad:i,dataFormat:c,dimRoundingMode:l,filterShape:u}=r,d=nI(c),p=qE(a.shape,u,o,1,i,l,!1,d),h=new n1(p);return n.runWebGLProgram(h,[a,s],"float32")}};class i1{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=e$(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,a=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(r,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}const c1={kernelName:Iv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{inputShape:o,strides:i,pad:c,dataFormat:l,dimRoundingMode:u}=r,d=nI(l),p=qE(o,s.shape,i,1,c,u,!1,d);if(Hb().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[p.strideHeight,p.strideWidth]],t=new i1(p);return n.runWebGLProgram(t,[a,s],"float32",e)}{const e=new r1(p);return n.runWebGLProgram(e,[a,s],"float32")}}};const l1={kernelName:_v,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dilations:c}=r,l=KE(a.shape,s.shape,o,c,i),u=new Y0(l);return n.runWebGLProgram(u,[a,s],"float32")}};const u1={kernelName:Ov,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,pad:i,filterShape:c}=r,l=KE(a.shape,c,o,1,i),u=new a1(l);return n.runWebGLProgram(u,[a,s],"float32")}};const d1={kernelName:Av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{pad:o,strides:i,inputShape:c}=r,l=KE(c,s.shape,i,1,o),u=new s1(l);return n.runWebGLProgram(u,[a,s],"float32")}},p1=rQ({opSnippet:nQ+"\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(GJ,"\n  return result;\n")}),h1={kernelName:Rv,backendName:"webgl",kernelFunc:p1},f1=rQ({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),m1={kernelName:Dv,backendName:"webgl",kernelFunc:f1};class g1{constructor(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,o,i,c]=e,[l]=t,[u,d]=n;this.outputShape=[l,u,d,c];const p="bilinear"===r?1:0,[h,f]=["".concat(o-1,".0"),"".concat(i-1,".0")],[m,g,y]=u>1?["".concat((o-1)/(u-1)),"(y2-y1) * height_ratio","y1*".concat(h," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(h)],[b,v,x]=d>1?["".concat((i-1)/(d-1)),"(x2-x1) * width_ratio","x1*".concat(f," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(f)];this.userCode="\n      const float height_ratio = float(".concat(m,");\n      const float width_ratio = float(").concat(b,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(v,";\n\n        float in_y = ").concat(y,";\n        if( in_y < 0.0 || in_y > ").concat(h," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n        float in_x = ").concat(x,";\n        if( in_x < 0.0 || in_x > ").concat(f," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(p," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}const y1={kernelName:Fv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:s,boxInd:o}=t,{cropSize:i,method:c,extrapolationValue:l}=r,u=new g1(a.shape,s.shape,i,c,l);return n.runWebGLProgram(u,[a,s,o],"float32")}};var b1;!function(e){e.Prod="*",e.Sum="+"}(b1||(b1={}));class v1{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,s=this.op===b1.Prod?"1.0":"0.0",o=n?s:"getX(".concat(x1(a,"coords",this.op),")"),i=this.outputShape[this.outputShape.length-1];let c="",l="";n?(c=r?"end != ".concat(i-1):"end != 0",l=r?"end + 1":"end - 1"):(c=r?"end + pow2 < ".concat(i):"end >= pow2",l=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(KZ(a)," coords = getOutputCoords();\n        int end = ").concat(w1(a,"coords",this.op),";\n        float val = ").concat(o,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(w1(a,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(x1(a,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function x1(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function w1(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function k1(e,t,n,r,a,s){const o=t.shape.length,i=n_([r],o);let c=t;null!=i&&(c=kQ({inputs:{x:t},backend:n,attrs:{perm:i}}));const l=a_(1,o)[0];if(l!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));const u=c.shape[l];let d=qJ({inputs:{x:c},backend:n});for(let p=0;p<=Math.ceil(Math.log2(u))-1;p++){const t=new v1(e,c.shape,!1,s),r=[[p]],a=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(a)}if(a){const t=new v1(e,c.shape,a,s),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=i){const e=kQ({inputs:{x:d},backend:n,attrs:{perm:r_(i)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(c),e}return d}const N1={kernelName:Mv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r;return k1(b1.Prod,a,n,s,o,i)}};const S1={kernelName:Pv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:o,reverse:i}=r;return k1(b1.Sum,a,n,s,o,i)}};const C1={kernelName:jv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:o,binaryOutput:i}=r;if(1===a.shape.length){const e=n.readSync(a.dataId),t=n.readSync(s.dataId),r=x$(e,t,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,r)}if(2===a.shape.length){const e=n.bufferSync(a),t=n.bufferSync(s),r=w$(e,t,o,i);return n.makeTensorInfo(r.shape,s.dtype,r.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};class T1{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(t,";\n      int offset_h = imod(h, ").concat(t,");\n      int in_w = w / ").concat(t,";\n      int offset_w = imod(w, ").concat(t,");\n      int offset_d = (offset_h * ").concat(t," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const E1={kernelName:Lv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:s,dataFormat:o}=r,i=a.shape[0],c=("NHWC"===o?a.shape[1]:a.shape[2])*s,l=("NHWC"===o?a.shape[2]:a.shape[3])*s,u=("NHWC"===o?a.shape[3]:a.shape[1])/(s*s),d=new T1("NHWC"===o?[i,c,l,u]:[i,u,c,l],s,o);return n.runWebGLProgram(d,[a],a.dtype)}};class I1{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=e$(this.outputShape.length);const s=e.filterHeight,o=e.filterWidth,i=e.outChannels/e.inChannels;let c="",l="";n&&(c=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),l="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(s,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(u,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}}class _1{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=e$(this.outputShape.length);const s=e.outChannels/e.inChannels,o=e.padInfo.left,i=e.strideWidth,c=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,d=u;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)p+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");p+="\n    for (int r = 0; r < ".concat(l,"; r++) {\n      ");for(let g=0;g<u;g++)p+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(p+="\n          xC = xCCorner + ".concat(e*c,";\n          "),1===i){if(e<u&&(o%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n              "),p+=1===c&&e>0?"\n                xC".concat(e," = vec4(xTexelC").concat(e-2,".zw, xTexelC").concat(e,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(e," = vec4(previous.zw, xTexelC").concat(e,".xy);\n                  } else {\n                    xC").concat(e," = vec4(0.0, 0.0, xTexelC").concat(e,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xC").concat(e," = xTexelC").concat(e,";\n                "),e+1<u)){const t=o%2===0?$y(c):c;c%2===0&&o%2===1||c%2!==0&&o%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(t,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                    xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(e+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(e+1,"Ready = 1;\n                  }\n                  "),p+=c>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(e+1," = vec4(previous.zw, xTexelC").concat(e+1,".xy);\n                    } else {\n                     xC").concat(e+1," = vec4(0.0, 0.0, xTexelC").concat(e+1,".xy);\n                    }\n                    "):"\n                    xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".xy);\n                    ")):p+=1===t?"\n                    xC".concat(e+1," = xTexelC").concat(e,";\n                    "):"\n                    xCOffset = xC + ".concat(t,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                      xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(e+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(e+1,"Ready = 1;\n                    }\n\n                    xC").concat(e+1," = xTexelC").concat(e+1,";\n                    ")}}else e<u&&(o%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n              "),e+1<u&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(e+1," = vec4(xTexelC").concat(e+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(\n                  xTexelC").concat(e,".xy, xTexelC").concat(e+1,".xy);\n              "),e+1<u&&(p+="\n                  xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n                "))));e<u&&(p+="\n            wTexel = getW(r, ".concat(e,", d1, q);\n            dotProd += xC").concat(e," * vec4(wTexel.xz, wTexel.xz);\n          "),e+1<u&&(p+="\n              wTexel = getW(r, ".concat(e+1,", d1, q);\n              dotProd += xC").concat(e+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";let h="",f="";n&&(h=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):a?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(n,"\n        }"),f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(h,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(m,"\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}const O1={kernelName:zv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dilations:c,dimRoundingMode:l}=r;let u=c;null==u&&(u=[1,1]),nb(eI(o,u),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(u,"'")));const d=qE(a.shape,s.shape,o,u,i,l,!0);let p;p=Hb().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new _1(d):new I1(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[a,s],"float32",h)}};class A1{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(s," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class R1{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(i,"; dm++) {\n              int d2 = d1 * ").concat(i," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const D1={kernelName:Bv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:o,dilations:i,pad:c,dimRoundingMode:l,filterShape:u}=r,d=qE(a.shape,u,o,i,c,l,!0),p=new A1(d);return n.runWebGLProgram(p,[a,s],"float32")}};const M1={kernelName:Uv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{strides:o,dilations:i,pad:c,dimRoundingMode:l,inputShape:u}=r,d=qE(u,s.shape,o,i,c,l,!0),p=new R1(d);return n.runWebGLProgram(p,[a,s],"float32")}};class P1{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const F1={kernelName:Wv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],s=sb(r.shape),o=pQ({inputs:{x:r},backend:n,attrs:{shape:[s]}}),i=new P1(s),c=n.runWebGLProgram(i,[o],o.dtype),l=pQ({inputs:{x:c},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}};class j1{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:a,strideWidth:s,filterHeight:o,filterWidth:i,dilationHeight:c,dilationWidth:l}=e,{top:u,left:d}=r;this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(o,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(t,") {\n            for (int w = 0; w < ").concat(i,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(n,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}const L1={kernelName:Vv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:o,pad:i,dilations:c}=r,l=VE(a.shape,s.shape,o,i,"NHWC",c);let u;const d=new j1(l);u=n.runWebGLProgram(d,[a,s],"float32");const p=pQ({inputs:{x:u},backend:n,attrs:{shape:l.outShape}});return n.disposeIntermediateTensorInfo(u),p}};const z1={kernelName:Xv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,s=t,{allDims:o,summedDims:i,idDims:c}=TD(a,s.length);ID(o.length,c,s);const{path:l,steps:u}=_D(i,c),d=u.length;let p=null,h=o.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=ED(h,c[e]);let a;OD(t)?a=s[e]:(a=kQ({inputs:{x:s[e]},backend:n,attrs:{perm:t}}),f.push(a));const o=a.shape.slice();for(let e=0;e<r.length;++e)o.splice(r[e],0,1);cb(a.shape,o)||(a=pQ({inputs:{x:a},backend:n,attrs:{shape:o}}),f.push(a)),null===p?p=a:(p=uQ({inputs:{a:a,b:p},backend:n}),f.push(p))}m<d-1&&(l[m]>=0&&(p=xQ({inputs:{x:p},backend:n,attrs:{axis:l[m]-(o.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}},B1=rQ({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),U1={kernelName:Yv,backendName:"webgl",kernelFunc:B1},W1={kernelName:Zv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,s=Hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HJ("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new VJ("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(s,[r,a],r.dtype)}},V1=aQ({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:T$}),G1={kernelName:Jv,backendName:"webgl",kernelFunc:V1},H1=rQ({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(cD,";\n  float a1 = ").concat(lD,";\n  float a2 = ").concat(uD,";\n  float a3 = ").concat(dD,";\n  float a4 = ").concat(pD,";\n  float a5 = ").concat(hD,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),q1={kernelName:$v,backendName:"webgl",kernelFunc:H1},K1=rQ({opSnippet:nQ+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:E$,dtype:"float32"}),X1={kernelName:Qv,backendName:"webgl",kernelFunc:K1};function Y1(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:s}=t,o=s.shape.length,i=s.shape.slice();let c=a;return a<0&&(nb(-(o+1)<=a,(()=>"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]"))),c=o+a+1),i.splice(c,0,1),pQ({inputs:{x:s},backend:r,attrs:{shape:i}})}const Z1={kernelName:ex,backendName:"webgl",kernelFunc:Y1},$1="return exp(x) - 1.0;",J1=rQ({opSnippet:$1,packedOpSnippet:$1,cpuKernelImpl:I$}),Q1={kernelName:tx,backendName:"webgl",kernelFunc:J1};class e2{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const a=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=n?"".concat(r,".0"):"1.0";let o;if("real"===e)o="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));o="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(a,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(o,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(r,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}function t2(e,t,n){const r=n.texData.get(e.dataId),a=sb(e.shape),s=e.shape[e.shape.length-1],o=pQ({inputs:{x:e},backend:n,attrs:{shape:[a/s,s]}}),i=o.shape,c=new e2("real",i,t),l=new e2("imag",i,t),u=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:i},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:i}],d=n.runWebGLProgram(c,u,"float32"),p=n.runWebGLProgram(l,u,"float32"),h=XJ({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const f=pQ({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),f}const n2={kernelName:nx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return t2(r,!1,n)}};class r2{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function a2(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:s}=n;if(s=s||Ib(a),"string"===s){const e=vb(s,sb(r));return e.fill(a),t.makeTensorInfo(r,s,e)}{const e=new r2(r,a),n=[[a]];return t.runWebGLProgram(e,[],s,n)}}const s2={kernelName:rx,backendName:"webgl",kernelFunc:a2};class o2{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(t," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(t,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const i2={kernelName:ax,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,a=n,s=new o2(r.shape);return a.runWebGLProgram(s,[r],r.dtype)}},c2="return floor(x);",l2=rQ({opSnippet:c2,packedOpSnippet:c2,cpuKernelImpl:_$}),u2={kernelName:sx,backendName:"webgl",kernelFunc:l2},d2=aQ({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),p2={kernelName:ox,backendName:"webgl",kernelFunc:d2};class h2{constructor(e){this.variableNames=["A"];const t=AZ(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(r,".0, ").concat(n,".0);\n\n        vec4 values = ").concat(t.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}class f2{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=AZ(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(r,".0, ").concat(n,".0);\n            vec4 values = ").concat(t.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}const m2={kernelName:lk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:s}=r,o="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,i="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,[c,l]=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],u=[l,c],d=[l,c,s];if(i||o){const e=Hb().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=g2&&e===y2||(y2=e,g2=document.createElement("canvas").getContext("2d",{willReadFrequently:y2})),g2.canvas.width=c,g2.canvas.height=l,g2.drawImage(a,0,0,c,l),a=g2.canvas}const p=n.makeTensorInfo(u,"int32");n.texData.get(p.dataId).usage=QY.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),a);const h=Hb().getBool("WEBGL_PACK")?new f2(d):new h2(d),f=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),f}};let g2,y2=Hb().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const b2={kernelName:pk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r,m=nI(u),g=qE(a.shape,s.shape,c,d,l,p,!1,m);let y;const b=[],v=null!=o,x=null!=i,w="leakyrelu"===h,k=()=>{const e=[a,s],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=pQ({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(v&&e.push(t(o,u)),x&&e.push(t(i,u)),w){const t=n.makeTensorInfo([],"float32",Wk(f,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&Hb().getBool("WEBGL_EXP_CONV")){const e=h?sQ(h,!0):null,t=new Z0(g,v,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],a=k();y=n.runWebGLProgram(t,a,"float32",r)}else if(Hb().getBool("WEBGL_CONV_IM2COL"))y=e1({x:a,filter:s,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:i,leakyreluAlpha:f});else{const e=h?sQ(h,!1):null,t=new X0(g,v,e,x,w),r=k();y=n.runWebGLProgram(t,r,"float32")}else y=Q0({x:a,filter:s,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:i,leakyreluAlpha:f});const N=pQ({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return b.push(y),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),N}};const v2={kernelName:hk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:o,preluActivationWeights:i}=t,{strides:c,pad:l,dilations:u,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,f=[];let m=u;null==m&&(m=[1,1]),nb(eI(c,m),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")));const g=qE(a.shape,s.shape,c,m,l,d,!0),y=Hb().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=p?sQ(p,y):null,v=[a,s],x=null!=o,w=null!=i,k="leakyrelu"===p;if(x&&v.push(o),w&&v.push(i),k){const e=n.makeTensorInfo([],"float32",Wk(h,"float32"));v.push(e),f.push(e)}let N;N=y?new _1(g,x,b,w,k):new I1(g,x,b,w,k);const S=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=n.runWebGLProgram(N,v,"float32",S);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),C}};class x2{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const a=KZ(n.length);let s="\n    int index;";for(let o=0;o<this.sliceDim;o++)s+="\n          index = round(getIndices(coords[0], ".concat(o,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[o],";\n          flattenIndex += index * ").concat(this.strides[o],";");this.userCode="\n         void main() {\n          ".concat(a," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(s,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}const w2={kernelName:lx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,s=a.shape,o=s[s.length-1],i=sb(r.shape),[c,l,u,d]=qT(r,a),p=pQ({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),h=pQ({inputs:{x:r},backend:n,attrs:{shape:[sb(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const e=n.readSync(a.dataId),t=n.bufferSync(r),s=O$(e,t,r.dtype,l,o,u,d,r.shape,i);return n.makeTensorInfo(c,r.dtype,s.values)}const f=new x2(o,d,[l,u],r.shape),m=n.runWebGLProgram(f,[h,p],h.dtype),g=pQ({inputs:{x:m},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class k2{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=KZ(this.rank),r=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(n," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(r,"));\n      }\n    ")}}function N2(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:s}=t,{axis:o,batchDims:i}=r,c=gb(o,a.shape)[0];if(Hb().get("DEBUG")){const e=n.readSync(s.dataId),t=a.shape[c];for(let n=0;n<e.length;++n){const r=e[n];nb(r<=t-1&&r>=0,(()=>"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")))}}const l=KD(a,s,c,i),u=sb(s.shape),d=[],p=pQ({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),h=pQ({inputs:{x:s},backend:n,attrs:{shape:[l.batchSize,u/l.batchSize]}});d.push(p),d.push(h);const f=[l.batchSize,l.outerSize,u/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,s])||"string"===a.dtype){const e=n.bufferSync(h),t=n.bufferSync(p),r=A$(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(l.outputShape,r.dtype,r.values)}const m=new k2(p.shape,f),g=n.runWebGLProgram(m,[p,h],p.dtype);d.push(g);const y=pQ({inputs:{x:g},backend:n,attrs:{shape:l.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const S2={kernelName:cx,backendName:"webgl",kernelFunc:N2},C2=aQ({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:R$,dtype:"bool"}),T2={kernelName:ux,backendName:"webgl",kernelFunc:C2},E2=aQ({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:D$}),I2={kernelName:dx,backendName:"webgl",kernelFunc:E2};const _2={kernelName:hx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return t2(r,!0,n)}},O2=rQ({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),A2={kernelName:mx,backendName:"webgl",kernelFunc:O2},R2=rQ({opSnippet:"return float(isinf(x));",dtype:"bool"}),D2={kernelName:gx,backendName:"webgl",kernelFunc:R2},M2=rQ({opSnippet:"return float(isnan(x));",dtype:"bool"}),P2={kernelName:yx,backendName:"webgl",kernelFunc:M2},F2=aQ({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:M$,dtype:"bool"}),j2={kernelName:vx,backendName:"webgl",kernelFunc:F2},L2=aQ({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:P$,dtype:"bool"}),z2={kernelName:xx,backendName:"webgl",kernelFunc:L2};const B2={kernelName:wx,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:s}=n,o=F$(r,a,s);return t.makeTensorInfo([o.length],"float32",o)}},U2=rQ({opSnippet:nQ+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:j$}),W2={kernelName:kx,backendName:"webgl",kernelFunc:U2},V2=rQ({opSnippet:nQ+"\n  return log(1.0 + x);\n"}),G2={kernelName:Nx,backendName:"webgl",kernelFunc:V2},H2=aQ({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),q2={kernelName:Sx,backendName:"webgl",kernelFunc:H2},K2=rQ({opSnippet:"return float(!(x >= 1.0));"}),X2={kernelName:Cx,backendName:"webgl",kernelFunc:K2},Y2=aQ({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Z2={kernelName:Tx,backendName:"webgl",kernelFunc:Y2};class $2{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];const s=t,o=e[3]-1;let i;this.outputShape=e;const c="float(".concat(n,") + float(").concat(r,") * sum");i=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(o,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(i,";\n        setOutput(val);\n      }\n    ")}}class J2{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=t,o=e[3]-1;let i;this.outputShape=e;const c="float(".concat(n,") + float(").concat(r,") * sum");i=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(o,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(i,";\n        setOutput(result);\n      }\n    ")}}const Q2={kernelName:Ox,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:s,bias:o,alpha:i,beta:c}=r,l=Hb().getBool("WEBGL_PACK_NORMALIZATION")?new J2(a.shape,s,o,i,c):new $2(a.shape,s,o,i,c);return n.runWebGLProgram(l,[a],a.dtype)}};class e3{constructor(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(t,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(t," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(r,") * norm + float(").concat(n,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(r,")\n                * float(").concat(a,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(a,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}const t3={kernelName:Ax,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:s,dy:o}=t,{depthRadius:i,bias:c,alpha:l,beta:u}=r,d=new e3(a.shape,i,c,l,u);return n.runWebGLProgram(d,[a,s,o],a.dtype)}};function n3(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:s,keepDims:o}=r,i=a.shape.length,c=gb(s,a.shape);let l=c;const u=n_(l,i),d=null!=u,p=n.shouldExecuteOnCPU([a]);let h=a;if(d){if(p){const e=n.texData.get(h.dataId).values,t=new Array(i);for(let n=0;n<t.length;n++)t[n]=a.shape[u[n]];const r=pJ(e,a.shape,a.dtype,u,t);h=n.makeTensorInfo(t,a.dtype);n.texData.get(h.dataId).values=r}else h=vQ(a,u,n);l=a_(l.length,i)}t_("max",l,i);const[f,m]=QI(h.shape,l);let g,y=f;if(o&&(y=e_(f,c)),p){const e=n.texData.get(h.dataId).values,t=L$(e,sb(m),y,a.dtype);g=n.makeTensorInfo(y,a.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const a=sb(t),s=pQ({inputs:{x:e},attrs:{shape:[sb(e.shape)/a,a]},backend:r}),o=gQ(s,e.dtype,"max",r),i=pQ({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),i}(h,m,y,n);return d&&n.disposeIntermediateTensorInfo(h),g}const r3={kernelName:Dx,backendName:"webgl",kernelFunc:n3},a3=aQ({opSnippet:WJ+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+GJ+"\n  return result;\n",cpuKernelImpl:z$}),s3={kernelName:Mx,backendName:"webgl",kernelFunc:a3};const o3={kernelName:Px,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;_Z(a,"maxPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r;nb(eI(o,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const l=GE(a.shape,s,o,1,i,c);if(1===l.filterWidth&&1===l.filterHeight&&cb(l.inShape,l.outShape))return qJ({inputs:{x:a},backend:n});const u=new a0(l,"max",!1);return n.runWebGLProgram(u,[a],a.dtype)}};const i3={kernelName:jx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:o,pad:i,dataFormat:c,dimRoundingMode:l}=r,u=HE(a.shape,s,o,[1,1,1],i,l,c),d=new s0(u,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}};class c3{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,s=e.effectiveFilterWidth,o=a-1-e.padInfo.top,i=s-1-e.padInfo.left,c=a*s-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(a,";\n          wR += ").concat(r,") {\n          float dyR = float(dyRCorner + wR) / ").concat(t,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(s," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class l3{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,s=e.dilationHeight,o=e.dilationWidth,i=e.effectiveFilterDepth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=i-1-e.padInfo.front,d=c-1-e.padInfo.top,p=l-1-e.padInfo.left,h=i*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(d,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(i,";\n           wD += ").concat(a,") {\n          float dyD = float(dyDCorner + wD) / ").concat(t,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(s,") {\n            float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(o,") {\n              float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const u3={kernelName:Lx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,o=s,{filterSize:i,strides:c,pad:l,dimRoundingMode:u}=r,d=HE(o.shape,i,c,[1,1,1],l,u),p=new s0(d,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),f=new l3(d),m=n.runWebGLProgram(f,[a,h],o.dtype);return n.disposeIntermediateTensorInfo(h),m}};const d3={kernelName:Fx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s,output:o}=t,i=s;_Z([s,o],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=r,p=GE(i.shape,c,l,1,u,d),h=new a0(p,"max",!0),f=n.runWebGLProgram(h,[i],i.dtype),m=new c3(p),g=n.runWebGLProgram(m,[a,f],i.dtype);return n.disposeIntermediateTensorInfo(f),g}};const p3={kernelName:zx,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:s,strides:o,pad:i,includeBatchInIndex:c}=n,l=r;nb(4===a.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")));const u=[1,1];nb(eI(o,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(u,"'")));const d=GE(a.shape,s,o,u,i),[p,h]=function(e,t,n,r){let a=new a0(n,"max",!1);const s=r.runWebGLProgram(a,[e],"float32");return a=new a0(n,"max",!0,!0,t),[s,r.runWebGLProgram(a,[e],"float32")]}(a,c,d,l);return[p,h]}};const h3={kernelName:Bx,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{keepDims:s,axis:o}=n,i=r,c=a.shape.length,l=gb(o,a.shape);let u=l;const d=n_(u,c),p=null!=d,h=i.shouldExecuteOnCPU([a]),f=[];let m=a;if(p){if(h){const e=i.texData.get(m.dataId).values,t=new Array(c);for(let r=0;r<t.length;r++)t[r]=a.shape[d[r]];const n=pJ(e,a.shape,a.dtype,d,t);m=i.makeTensorInfo(t,a.dtype);i.texData.get(m.dataId).values=n}else m=vQ(a,d,i);f.push(m),u=a_(u.length,c)}t_("sum",u,c);const[g,y]=QI(m.shape,u);let b=g;s&&(b=e_(g,l));const v=function(e,t,n,r){const a=sb(t),s=pQ({inputs:{x:e},attrs:{shape:[sb(e.shape)/a,a]},backend:r}),o=gQ(s,"float32","mean",r),i=pQ({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),i}(m,y,b,i);for(const x of f)i.disposeIntermediateTensorInfo(x);return v}};const f3={kernelName:Ux,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r,i=a.shape.length,c=gb(s,a.shape);let l=c;const u=n_(l,i);let d=a;null!=u&&(d=kQ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=a_(l.length,a.shape.length)),t_("min",l,i);const[p,h]=QI(d.shape,l),f=pQ({inputs:{x:d},backend:n,attrs:{shape:[-1,sb(h)]}}),m=gQ(f,f.dtype,"min",n);let g;if(o){g=pQ({inputs:{x:m},backend:n,attrs:{shape:e_(p,c)}})}else g=pQ({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}},m3=aQ({opSnippet:WJ+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+GJ+"\n  return result;\n",cpuKernelImpl:B$}),g3={kernelName:Wx,backendName:"webgl",kernelFunc:m3};class y3{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=KZ(r),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),c="reflect"===n?0:1;this.userCode=1!==r?"\n      ".concat(a," start = ").concat(a,"(").concat(s,");\n      ").concat(a," end = ").concat(a,"(").concat(o,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(r,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(a," coords = outC - start;\n        setOutput(getX(").concat(i,"));\n      }\n    "):"\n        int start = ".concat(s,";\n        int end = ").concat(o,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")}}class b3{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=KZ(r),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=mJ("rc",r),c=mJ("source",r),l="".concat(i[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===n?0:1;let p="";if(1===r){const e="\n        ".concat(a," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");p="\n        ".concat(a," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        ").concat(i[r-1]," += 1;\n        if(").concat(l,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n      ")}else{const e="\n        ".concat(a," source = rc;\n        ").concat(a," lt = ").concat(a,"(lessThan(source, start));\n        ").concat(a," gte = ").concat(a,"(greaterThanEqual(source, end));\n        ").concat(a," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");p="\n        ".concat(a," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        ").concat(i[r-1]," += 1;\n        if(").concat(l,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n        rc = outputLoc;\n        ").concat(i[r-2]," += 1;\n        if(").concat(i[r-2]," < ").concat(this.outputShape[r-2],") {\n          ").concat(e,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n          ").concat(i[r-1]," += 1;\n          if(").concat(l,") {\n            ").concat(e,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(s,");\n      const ").concat(a," end = ").concat(a,"(").concat(o,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}const v3={kernelName:Vx,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a}=t,{paddings:s,mode:o}=r,i=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new b3(a.shape,s,o):new y3(a.shape,s,o);return n.runWebGLProgram(i,[a],a.dtype)}},x3=aQ({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+GJ+"\n  return result;\n"}),w3={kernelName:Gx,backendName:"webgl",kernelFunc:x3};class k3{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(t-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(t-1,"));\n      }\n    ")}}const N3=aQ({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),S3={kernelName:Kv,backendName:"webgl",kernelFunc:N3},C3="return a - b;",T3=aQ({opSnippet:C3,packedOpSnippet:C3,supportsComplex:!0,cpuKernelImpl:lJ}),E3={kernelName:Zw,backendName:"webgl",kernelFunc:T3};function I3(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:s}=r,o=gb([s],a.shape),i=n3({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),c=e_(i.shape,o),l=pQ({inputs:{x:i},backend:n,attrs:{shape:c}}),u=T3({inputs:{a:a,b:l},backend:n}),d=K1({inputs:{x:u},backend:n}),p=xQ({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),h=pQ({inputs:{x:p},backend:n,attrs:{shape:c}}),f=N3({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),f}const _3={kernelName:jw,backendName:"webgl",kernelFunc:I3};const O3={kernelName:Hx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:s,seed:o,normalized:i}=r,c=i?a:I3({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),l=c.shape[0],u=c.shape[1],d=new k3(l,u,s),p=[[o]],h=n.runWebGLProgram(d,[c],"int32",p);return i||n.disposeIntermediateTensorInfo(c),h}},A3=NJ+"\n  return -x;\n";const R3={kernelName:Kx,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,a]=W$(e.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,t)}let a;return a=Hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new FJ(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new kJ(r.shape,A3),n.runWebGLProgram(a,[r],r.dtype)}},D3=$A;const M3={kernelName:Yx,backendName:"webgl",kernelFunc:function(e){fk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c}=r,l=n.readSync(a.dataId),u=n.readSync(s.dataId),{selectedIndices:d}=D3(l,u,o,i,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},P3=JA;const F3={kernelName:Zx,backendName:"webgl",kernelFunc:function(e){fk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,padToMaxOutputSize:l}=r,u=n.readSync(a.dataId),d=n.readSync(s.dataId),{selectedIndices:p,validOutputs:h}=P3(u,d,o,i,c,l);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},j3=QA;const L3={kernelName:$x,backendName:"webgl",kernelFunc:function(e){fk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,softNmsSigma:l}=r,u=n.readSync(a.dataId),d=n.readSync(s.dataId),p=o,h=i,f=c,m=l,{selectedIndices:g,selectedScores:y}=j3(u,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class z3{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(r,"), float(").concat(n,"),\n                      float(index == coords.y)));\n      }\n    ")}}const B3={kernelName:Qx,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:s,depth:o,onValue:i,offValue:c}=r,l=sb(a.shape),u=new z3(l,o,i,c),d=pQ({inputs:{x:a},backend:n,attrs:{shape:[l]}}),p=n.runWebGLProgram(u,[d],s);n.disposeIntermediateTensorInfo(d);const h=pQ({inputs:{x:p},backend:n,attrs:{shape:[...a.shape,o]}});return n.disposeIntermediateTensorInfo(p),h}};function U3(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=E0({inputs:{input:r},backend:n}),t=U3({inputs:{x:e},backend:n}),a=V0({inputs:{input:r},backend:n}),s=U3({inputs:{x:a},backend:n}),o=XJ({inputs:{real:t,imag:s},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),o}return a2({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const W3={kernelName:ik,backendName:"webgl",kernelFunc:U3};const V3={kernelName:Jx,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){const t=E0({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),s=V0({inputs:{input:a},backend:r}),o=U3({inputs:{x:s},backend:r}),i=XJ({inputs:{real:n,imag:o},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),i}return a2({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};const G3={kernelName:ew,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return Y1({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const s=t[0].shape,o=t[0].dtype;t.forEach((e=>{rb(s,e.shape,"All tensors passed to stack must have matching shapes"),nb(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],c=q0({inputs:t.map((e=>{const t=Y1({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t})),backend:n,attrs:{axis:a}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};class H3{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=KZ(r),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      ".concat(a," start = ").concat(a,"(").concat(s,");\n      ").concat(a," end = ").concat(a,"(").concat(o,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(a," coords = outC - start;\n          setOutput(getX(").concat(i,"));\n        }\n      }\n    "):"\n        int start = ".concat(s,";\n        int end = ").concat(o,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}}class q3{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=KZ(r),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=mJ("rc",r),c=mJ("source",r),l="".concat(i[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(a," rc = outputLoc;"),"".concat(i[r-1]," += 1;\n       if(").concat(l,") {\n      "),1===r?"":"}\n       rc = outputLoc;\n       ".concat(i[r-2]," += 1;\n       if(").concat(i[r-2]," < ").concat(this.outputShape[r-2],") {"),1===r?"":"  ".concat(i[r-1]," += 1;\n         if(").concat(l,") {")],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let f=0,m=1===r?2:4;f<m;f++)h+="\n        ".concat(d[f],"\n        if (").concat(p,") {\n          result[").concat(f,"] = float(value);\n        } else {\n          ").concat(a," source = rc - start;\n          result[").concat(f,"] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n      ");h+=1===r?"} ":"}}",this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(s,");\n      const ").concat(a," end = ").concat(a,"(").concat(o,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")}}const K3=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,constantValue:o}=r;if(0===sb(a.shape)){const e=s.map(((e,t)=>e[0]+a.shape[t]+e[1]));return a2({backend:n,attrs:{shape:e,value:o,dtype:a.dtype}})}const i=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new q3(a.shape,s,o):new H3(a.shape,s,o),c=[[o]];return n.runWebGLProgram(i,[a],a.dtype,c)},X3={kernelName:tw,backendName:"webgl",kernelFunc:K3},Y3=aQ({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+GJ+"\n  return result;\n"}),Z3={kernelName:rw,backendName:"webgl",kernelFunc:Y3};const $3={kernelName:sw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:o}=r,i=a.shape.length,c=[],l=gb(s,a.shape);let u=l;const d=n_(u,i);let p,h=a;if(null!=d&&(h=kQ({inputs:{x:a},backend:n,attrs:{perm:d}}),u=a_(u.length,i),c.push(h)),t_("prod",u,i),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:r,outDtype:a}=G$(h.shape,h.dtype,e,u);p=n.makeTensorInfo(r,a,t)}else{const[e,t]=QI(h.shape,u),r=sb(t),s=pQ({inputs:{x:h},backend:n,attrs:{shape:[-1,r]}}),o=gQ(s,wN(a.dtype),"prod",n);p=pQ({inputs:{x:o},backend:n,attrs:{shape:e}}),c.push(s),c.push(o)}if(o){c.push(p);const e=e_(p.shape,l);p=pQ({inputs:{x:p},backend:n,attrs:{shape:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const J3={kernelName:ow,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:s,indices:o}=t,{outputRaggedRank:i}=r,c=a.map((e=>n.readSync(e.dataId))),l=a.map((e=>e.shape)),u=n.readSync(s.dataId),d=n.readSync(o.dataId),[p,h,f]=H$(c,l,u,s.shape,s.dtype,d,o.shape,i),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,s.dtype,h);return m.concat([g])}};const Q3={kernelName:iw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:s}=t,o=n.readSync(r.dataId),i=n.readSync(a.dataId),c=n.readSync(s.dataId),[l,u]=q$(o,r.shape,r.dtype,i,a.shape,c,s.shape);return[n.makeTensorInfo([l.length],"int32",l),n.makeTensorInfo([u.length],r.dtype,u)]}};const e4={kernelName:cw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:s,defaultValue:o,rowPartitionTensors:i}=t,{rowPartitionTypes:c}=r,l=n.readSync(a.dataId),u=n.readSync(s.dataId),d=n.readSync(o.dataId),p=i.map((e=>n.readSync(e.dataId))),h=i.map((e=>e.shape)),[f,m]=K$(l,a.shape,u,s.shape,s.dtype,d,o.shape,p,h,c);return n.makeTensorInfo(f,s.dtype,m)}},t4=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:s,dtype:o}=n,i=X$(r,a,s,o);return t.makeTensorInfo([i.length],o,i)},n4={kernelName:lw,backendName:"webgl",kernelFunc:t4},r4=rQ({opSnippet:"return 1.0 / x;"}),a4={kernelName:dw,backendName:"webgl",kernelFunc:r4},s4=rQ({opSnippet:NJ+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),o4={kernelName:pw,backendName:"webgl",kernelFunc:s4},i4=rQ({opSnippet:NJ+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),c4={kernelName:bw,backendName:"webgl",kernelFunc:i4};class l4{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[s,o,i,c]=e;this.outputShape=[s,t,n,c];const l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(o,".0, ").concat(i,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}class u4{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,o,i,c]=e;this.outputShape=[s,t,n,c];const l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],",\n          ").concat(l[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(o,".0, ").concat(i,".0,\n                                     ").concat(i,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}const d4={kernelName:gw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:o,size:i}=r,[c,l]=i,u=Hb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new u4(a.shape,c,l,s,o):new l4(a.shape,c,l,s,o);return n.runWebGLProgram(u,[a],"float32")}};class p4{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,s,o]=e,i=[n&&s>1?r-1:r,n&&o>1?a-1:a],c=[n&&s>1?s-1:s,n&&o>1?o-1:o],l=i[0]/c[0],u=i[1]/c[1],d=1/l,p=1/u,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(l,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(h,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(o,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(r-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(a-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const h4={kernelName:yw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:o}=r,i=new p4(s.shape,a.shape,o);return n.runWebGLProgram(i,[s],s.dtype)}};class f4{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[s,o,i,c]=e;this.outputShape=[s,t,n,c];const l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(o,".0, ").concat(i,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}class m4{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,o,i,c]=e;this.outputShape=[s,t,n,c];const l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],",\n          ").concat(l[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(o,".0, ").concat(i,".0,\n                                     ").concat(i,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}const g4={kernelName:fw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:o,size:i}=r,[c,l]=i,u=Hb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new m4(a.shape,c,l,s,o):new f4(a.shape,c,l,s,o);return n.runWebGLProgram(u,[a],a.dtype)}};class y4{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,s,o]=e,i=[n&&s>1?r-1:r,n&&o>1?a-1:a],c=[n&&s>1?s-1:s,n&&o>1?o-1:o],l=i[0]/c[0],u=i[1]/c[1],d=1/l,p=1/u,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(l,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(h,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(o,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(i[0],") *\n                (float(dyR) / float(").concat(c[0],"));\n\n            float sourceFracCol =\n                float(").concat(i[1],") *\n                  (float(dyC) / float(").concat(c[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(n," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(n," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const b4={kernelName:mw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:o}=r,i=new y4(s.shape,a.shape,o);return n.runWebGLProgram(i,[s],s.dtype)}};class v4{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      "));const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]"))(r))).join(","),a=KZ(n);this.userCode="\n      void main() {\n        ".concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(r,"));\n      }\n    ")}}class x4{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));this.outputShape=e;const r=mJ("rc",n),a="".concat(r[n-1]," + 1 < ").concat(this.outputShape[n-1]),s="".concat(r[n-2]," + 1 < ").concat(this.outputShape[n-2]),o=KZ(n);function i(n){const r=e.map(((r,a)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - ").concat(r[n]," - 1"):"".concat(r[n])}(a,n))),a=r.join(","),s=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(s,"))")}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(a,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(o," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return i(e)}(r.slice()),";\n          if(").concat(a,"){\n            result.g = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",i(e)}(r.slice()),";\n          }\n          if(").concat(s,") {\n            result.b = ").concat(function(e){return e[n-2]="("+e[n-2]+" + 1)",i(e)}(r.slice()),";\n            if(").concat(a,") {\n              result.a = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",i(e)}(r.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}}const w4={kernelName:vw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:s}=r,o=a.shape.length,i=gb(s,a.shape);if(0===o)return qJ({inputs:{x:a},backend:n});const c=Hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new x4(a.shape,i):new v4(a.shape,i);return n.runWebGLProgram(c,[a],a.dtype)}};class k4{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let a="";a="number"===typeof t?"float outputValue = ".concat(t.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(t.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(a,"\n          if(coordX >= 0 && coordX < ").concat(r," && coordY >= 0 && coordY < ").concat(n,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const N4={kernelName:uk,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:s,fillValue:o,center:i}=n,c=r,l=new k4(a.shape,o),[u,d]=eD(i,a.shape[1],a.shape[2]),p=[[u,d,Math.sin(s),Math.cos(s)]];return c.runWebGLProgram(l,[a],a.dtype,p)}},S4=rQ({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),C4={kernelName:xw,backendName:"webgl",kernelFunc:S4},T4=rQ({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Y$}),E4={kernelName:ww,backendName:"webgl",kernelFunc:T4};class I4{constructor(e,t,n,r,a,s){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const i=KZ(a.length),c=KZ(s.length);let l="";1===n?l="i":2===n&&(l="i, j");const u="getIndices(".concat(l,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p="getUpdates(".concat(d,")");let h="";o&&(h="coords[0], coords[1]");const f="getDefaultValue(".concat(h,")"),m=t>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(a,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(t,"; j++) {\n              int index = round(").concat(u,");\n              flattenedIndex += index * ").concat(m,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(f,", sum, float(found)));\n        }\n      ")}}class _4{constructor(e,t,n,r,a,s){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s;const i=KZ(a.length),c=KZ(s.length);let l="";1===n?l="i":2===n&&(l="i, j");const u="getIndices(".concat(l,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p="getUpdates(".concat(d,")");let h="";o&&(h="coords[0], coords[1]");const f="getDefaultValue(".concat(h,")"),m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(a,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(t,"; j+=2) {\n              ivec4 index = round(").concat(u,");\n              flattenedIndex += index.xz * ").concat(m,";\n              if (j + 1 < ").concat(t,") {\n                flattenedIndex += index.yw * ").concat(g,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(p,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(f,", sum, found));\n        }\n      ")}}const O4={kernelName:kw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:s}=t,{shape:o}=r,{sliceRank:i,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=YT(0,a,o),p=[d/l,l];if(0===d)return n.makeTensorInfo(o,a.dtype);const h=pQ({inputs:{x:a},backend:n,attrs:{shape:[c,i]}}),f=pQ({inputs:{x:s},backend:n,attrs:{shape:[c,l]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=Hb().getBool("WEBGL_PACK")?new _4(c,i,h.shape.length,f.shape.length,u,p):new I4(c,i,h.shape.length,f.shape.length,u,p);const y=n.runWebGLProgram(g,[f,h,m],f.dtype),b=pQ({inputs:{x:y},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),b}};class A4{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const a="for (int i = 0; i < ".concat(Math.ceil(Math.log2(t+1)),"; ++i) { if (left >= right) break;"),s=2===Hb().getNumber("WEBGL_VERSION")?"while (left < right) {":a,o="left"===r?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(s,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(o," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}const R4={kernelName:Sw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:s}=t,{side:o}=r,i=new A4(a.shape[0],a.shape[1],s.shape[1],o),c=[[a.shape[1]]];return n.runWebGLProgram(i,[a,s],"int32",c)}};class D4{constructor(e,t,n){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)a="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],o=[];for(let r=0;r<t.length;r++)o.push("".concat(n[r])),r<e&&s.push("".concat(n[r]));r=s.join(),a=o.join()}const s=KZ(n);this.userCode="\n      void main() {\n        ".concat(s," resRC = getOutputCoords();\n        float cVal = getC(").concat(r,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(a,"));\n        } else {\n          setOutput(getB(").concat(a,"));\n        }\n      }\n    ")}}const M4={kernelName:Cw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:s}=t,o=new D4(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,s],xN(a.dtype,s.dtype))}},P4=rQ({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(oD,";\n  float scale = ").concat(iD,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),F4={kernelName:Tw,backendName:"webgl",kernelFunc:P4},j4=rQ({opSnippet:nQ+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:$$}),L4={kernelName:Aw,backendName:"webgl",kernelFunc:j4},z4=rQ({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),B4={kernelName:Ow,backendName:"webgl",kernelFunc:z4},U4=rQ({opSnippet:nQ+"\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(GJ,"\n  return result;\n")}),W4={kernelName:Iw,backendName:"webgl",kernelFunc:U4},V4=rQ({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),G4={kernelName:_w,backendName:"webgl",kernelFunc:V4},H4=rQ({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),q4={kernelName:Rw,backendName:"webgl",kernelFunc:H4},K4={kernelName:Pw,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,paddings:o}=r;nb(a.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const i=s.reduce(((e,t)=>e*t)),c=[[0,0]];c.push(...o);for(let y=1+s.length;y<a.shape.length;++y)c.push([0,0]);const l=[],u=K3({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),d=tD(u.shape,s,i,!1),p=nD(d.length,s.length,!1),h=rD(u.shape,s,i,!1),f=pQ({inputs:{x:u},backend:n,attrs:{shape:d}}),m=kQ({inputs:{x:f},backend:n,attrs:{perm:p}}),g=pQ({inputs:{x:m},backend:n,attrs:{shape:h}});return l.push(u),l.push(f),l.push(m),l.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const X4={kernelName:Lw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:s,defaultValue:o}=t;if(1!==s.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(s.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));const i=n.readSync(r.dataId),c=n.readSync(a.dataId),l=n.readSync(s.dataId),u=n.readSync(o.dataId)[0],[d,p,h,f,m]=eJ(i,r.shape,r.dtype,c,a.dtype,l,u);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],a.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const Y4={kernelName:zw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:s}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==s.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(s.shape));const o=Array.from(n.readSync(a.dataId)),i=n.readSync(r.dataId),c=Array.from(n.readSync(s.dataId)),[l,u,d]=tJ(i,r.shape,r.dtype,o,c);return[n.makeTensorInfo(u,r.dtype,l),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}};const Z4={kernelName:Bw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==s.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(s.shape));const o=n.readSync(r.dataId),i=n.readSync(a.dataId),c=n.readSync(s.dataId),[l,u]=nJ(o,r.shape,r.dtype,i,c,!0);return n.makeTensorInfo(u,r.dtype,l)}};const $4={kernelName:Uw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==s.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(s.shape));const o=n.readSync(r.dataId),i=n.readSync(a.dataId),c=n.readSync(s.dataId),[l,u]=nJ(o,r.shape,r.dtype,i,c);return n.makeTensorInfo(u,r.dtype,l)}};const J4={kernelName:Ww,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:s,defaultValue:o}=t,{outputShape:i}=r,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:p}=YT(0,a,i),h=!1;if("string"===s.dtype){const e=n.bufferSync(a),t=n.bufferSync(s),r=Kk(n.readSync(o.dataId)[0]),f=Z$(e,t,i,p,u,l,c,d,r,h);return n.makeTensorInfo(i,f.dtype,f.values)}const f=new I4(l,c,a.shape.length,s.shape.length,d,[p,1],h),m=n.runWebGLProgram(f,[s,a,o],s.dtype),g=pQ({inputs:{x:m},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(m),g}};const Q4={kernelName:Fw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:s,axis:o}=r,i=gb(o,a.shape)[0],c=RD(a,s,i),l=a.shape.length,u=new Array(l).fill(0),d=a.shape.slice();return c.map((e=>{const t=[...d];t[i]=e;const r=v0({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[i]+=e,r}))}},e6="return sqrt(x);",t6=rQ({opSnippet:e6,packedOpSnippet:e6,cpuKernelImpl:rJ}),n6={kernelName:Dw,backendName:"webgl",kernelFunc:t6},r6=rQ({opSnippet:"return x * x;"}),a6={kernelName:Gw,backendName:"webgl",kernelFunc:r6},s6="return (a - b) * (a - b);",o6=aQ({opSnippet:s6,packedOpSnippet:s6}),i6={kernelName:Vw,backendName:"webgl",kernelFunc:o6};const c6={kernelName:Hw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");const s=XD(n.readSync(a.dataId)),o=aJ(s,"string",r);return n.makeTensorInfo(a.shape,"string",o)}};const l6={kernelName:ck,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,s=NJ+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new kJ(a.shape,s);return r.runWebGLProgram(o,[a],a.dtype)}};class u6{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,a=KZ(n.length),s=KZ(n.length);let o="";if(1===r)o="coords * strides + begin";else{let e=0;o=n.map(((t,r)=>(e++,1===n.length?"coords * strides[".concat(r,"] + begin[").concat(r,"]"):"coords[".concat(e-1,"] * strides[").concat(r,"] + begin[").concat(r,"]")))).join(",")}this.userCode="\n      ".concat(a," begin = ").concat(a,"(").concat(e,");\n      ").concat(a," strides = ").concat(a,"(").concat(t,");\n\n      void main() {\n        ").concat(s," coords = getOutputCoords();\n        setOutput(getX(").concat(o,"));\n      }\n    ")}}const d6={kernelName:qw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,end:o,strides:i,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:x}=hE(a.shape,s,o,i,c,l,u,d,p);let w;if(m)w=pQ({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||y){nb(a.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(a.shape.length)));const e=eE(b,v,x),t=v0({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});w=pQ({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([a])){const e=n.readSync(a.dataId),t=wC(a.shape,a.dtype,e),r=sJ(h,t,x,b);w=n.makeTensorInfo(f,a.dtype,r.values)}else{const e=new u6(b,x,h);w=n.runWebGLProgram(e,[a],a.dtype)}}const k=pQ({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}};const p6={kernelName:Kw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:s,leftPad:o,rightPad:i,padWidth:c,preserveShortSequences:l}=r,{data:u,dataSplits:d}=t,p=n.readSync(u.dataId),h=n.readSync(d.dataId),[f,m]=oJ(p,h,a,s,o,i,c,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const h6={kernelName:Xw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:s,delimiter:o}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(1!==s.shape.length)throw new Error("Input must be a vector, got shape: ".concat(s.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));const i=n.readSync(s.dataId),c=n.readSync(o.dataId)[0],[l,u,d]=iJ(i,c,a),p=u.length;return[n.makeTensorInfo([p,2],"int32",l),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const f6={kernelName:Yw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:s}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(s.dataId),i=cJ(o,a);return n.makeTensorInfo(s.shape,"int32",i)}},m6=rQ({opSnippet:"return tan(x);"}),g6={kernelName:$w,backendName:"webgl",kernelFunc:m6},y6=rQ({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),b6={kernelName:Jw,backendName:"webgl",kernelFunc:y6};const v6={kernelName:Nw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:s,updates:o}=t,{}=r,{sliceRank:i,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=YT(0,s,a.shape),p=[d/l,l];if(0===d)return n.makeTensorInfo(a.shape,s.dtype);const h=pQ({inputs:{x:s},backend:n,attrs:{shape:[c,i]}}),f=pQ({inputs:{x:o},backend:n,attrs:{shape:[c,l]}}),m=pQ({inputs:{x:a},backend:n,attrs:{shape:p}}),g=new I4(c,i,h.shape.length,f.shape.length,u,p,!1,!0),y=n.runWebGLProgram(g,[f,h,m],m.dtype),b=pQ({inputs:{x:y},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}};class x6{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[s]*t[s];this.outputShape=n,this.rank=n.length;const r=KZ(this.rank),a=function(e){const t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(a,"));\n      }\n    ")}}function w6(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:s}=r;if("string"===a.dtype||a.shape.length>5){const e=n.readSync(a.dataId),t="string"===a.dtype?e.map((e=>Kk(e))):e,r=wC(a.shape,a.dtype,t),o=uJ(r,s);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const o=new x6(a.shape,s);return n.runWebGLProgram(o,[a],a.dtype)}const k6={kernelName:Qw,backendName:"webgl",kernelFunc:w6};class N6{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class S6{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function C6(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function T6(e){let t=1;for(;t<e;)t*=2;return t}const E6={kernelName:ek,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:s,sorted:o}=r,i=Hb().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=Hb().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=a.shape,u=l[l.length-1];if(n.shouldExecuteOnCPU([a])||u<i||s>c){const e=n.readSync(a.dataId),[t,r]=dJ(e,l,a.dtype,s,o);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===s)return l[l.length-1]=0,[n.makeTensorInfo(l,a.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(1===u)return[a,a2({attrs:{shape:l,dtype:"int32",value:0},backend:n})];const d=n.texData.get(a.dataId),p=null!==d&&d.isPacked,h=p?n.unpackTensor(a):a,f=sb(l)/u,m=pQ({inputs:{x:h},attrs:{shape:[f,u]},backend:n});p&&C6(n,h);const g=T6(s),y=T6(u);let b=null;const v=()=>null===b?[m,m]:[m,b],x=(e,t,r)=>{const a=v(),s=new N6(r),o=[[u],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],i=b;b=n.runWebGLProgram(s,a,"int32",o),C6(n,i)};for(let C=1;C<g;C*=2){const e=2*C;for(let t=C;t>=1;t/=2)x(e,t,[f,y])}for(let C=y;C>g;C/=2){const e=v(),t=new S6([f,C/2]),r=[[u],[null===b?1:0],[g]],a=b;b=n.runWebGLProgram(t,e,"int32",r),C6(n,a);const s=g/2,o=2*s;for(let n=s;n>=1;n/=2)x(o,n,b.shape)}let w=b;b=v0({inputs:{x:b},backend:n,attrs:{begin:0,size:[f,s]}}),C6(n,w);let k=N2({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});C6(n,m);const N=l.slice(0,-1);N.push(s),w=b,b=pQ({inputs:{x:b},attrs:{shape:N},backend:n}),C6(n,w);const S=k;return k=pQ({inputs:{x:k},attrs:{shape:N},backend:n}),C6(n,S),[k,b]}};class I6{constructor(e,t,n,r,a,s){this.variableNames=["Image","Transforms"],this.outputShape=s;const o="nearest"===n?1:2;let i;switch(r){case"constant":default:i=1;break;case"reflect":i=2;break;case"wrap":i=3;break;case"nearest":i=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(i," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(i," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(i," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(t,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(a,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(a,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(t,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(o," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}const _6={kernelName:tk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:s}=t,{interpolation:o,fillMode:i,fillValue:c,outputShape:l}=r,[u,d,p,h]=a.shape,[f,m]=null!=l?l:[d,p],g=new I6(d,p,o,i,c,[u,f,m,h]);return n.runWebGLProgram(g,[a,s],"float32")}};const O6={kernelName:rk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:s}=t;_Z(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(s.dataId),{outputValues:i,outputShape:c,indices:l}=hJ(o,a,s.shape,s.dtype);return[r.makeTensorInfo(c,s.dtype,i),r.makeTensorInfo([l.length],"int32",l)]}};const A6={kernelName:ak,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a,i=o.shape.length,c=a.shape[s],l=new Array(i-1);let u=0;for(let m=0;m<i;m++)m!==s&&(l[u++]=o.shape[m]);const d=[],p=new Array(i).fill(0),h=o.shape.slice();h[s]=1;const f=new Array(c);for(let m=0;m<f.length;m++){p[s]=m;const e=v0({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),t=pQ({inputs:{x:e},backend:n,attrs:{shape:l}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class R6{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,a=e.inSize,s=e.numSegments,o=s*Math.ceil(a/n);this.outputShape=[r,o];const i=4*Math.floor(n/4),c=n%4,l="\n        sumValue += dot(values, segFilter);\n    ";let u="";a%n>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      "));let d="";a%n>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(s,")) * float(").concat(n,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(s,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(i,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}}const D6={kernelName:sk,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:s}=t,{numSegments:o}=r,i=a.shape.length,c=[];let l=0;const u=n_([l],i);let d=a;null!=u&&(d=kQ({inputs:{x:a},backend:n,attrs:{perm:u}}),c.push(d),l=a_(1,i)[0]);const p=qD(d.shape,l,o),h=sb([d.shape[l]]),f=pQ({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});c.push(f);const m=wN(a.dtype),g=(e,t,r,a,s)=>{const o=e.shape[0],i=e.shape[1],l=HD(i,s),u=new R6({windowSize:l,inSize:i,batchSize:o,numSegments:s},t),d=n.compileAndRun(u,[e,r],a);if(c.push(d),d.shape[1]===s)return d;const p=t4({backend:n,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),h=w6({inputs:{x:p},backend:n,attrs:{reps:[i/l]}});c.push(p),c.push(h);return g(d,t,h,a,s)},y=pQ({inputs:{x:g(f,"unsortedSegmentSum",s,m,o)},backend:n,attrs:{shape:p}});let b=y;if(null!=u){c.push(y);const e=r_(u);b=kQ({inputs:{x:b},backend:n,attrs:{perm:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},M6=[TQ,IQ,OQ,RQ,PQ,LQ,zQ,BQ,qQ,KQ,YQ,$Q,QQ,t0,r0,o0,i0,u0,d0,p0,m0,w0,k0,N0,S0,O0,D0,F0,YJ,z0,K0,t1,o1,c1,l1,u1,d1,h1,m1,y1,N1,S1,C1,E1,O1,D1,M1,F1,L1,z1,U1,W1,G1,q1,X1,Z1,Q1,n2,s2,i2,u2,p2,m2,b2,v2,w2,S2,T2,I2,KJ,_2,G0,A2,D2,P2,JJ,j2,z2,B2,W2,G2,q2,X2,Z2,Q2,t3,r3,s3,o3,i3,u3,d3,p3,h3,f3,g3,v3,w3,O3,dQ,R3,M3,F3,L3,T0,B3,V3,G3,X3,Z3,tQ,$3,J3,Q3,e4,n4,I0,S3,a4,o4,c4,hQ,d4,h4,g4,b4,w4,N4,C4,E4,O4,R4,M4,F4,L4,B4,W4,G4,x0,_3,q4,K4,X4,Y4,Z4,$4,J4,Q4,n6,a6,i6,c6,l6,d6,p6,h6,f6,E3,wQ,g6,b6,v6,k6,E6,_6,NQ,O6,A6,D6,W3];for(const n of M6)wk(n);const P6=["studio couch, day bed","house","building","room","bed","dormitory","apartment","residence","patio, terrace"],F6=()=>{const[e,t]=(0,B.useState)(null),[n,r]=(0,B.useState)(null),[a,s]=(0,B.useState)(null);(0,B.useEffect)((()=>{(async()=>{const e=await function(e){return void 0===e&&(e={version:1,alpha:1}),gP(this,void 0,void 0,(function(){var t,n,r,a,s,o,i;return yP(this,(function(c){switch(c.label){case 0:if(null==b)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(t=e.version.toFixed(2),n=e.alpha?e.alpha.toFixed(2):"",r=-1,a=1,null==e.modelUrl){if(!(t in wP))throw new Error("Invalid version of MobileNet. Valid versions are: "+Object.keys(wP));if(!(n in wP[t]))throw new Error("MobileNet constructed with invalid alpha "+e.alpha+". Valid multipliers for this version are: "+Object.keys(wP[t])+".");o=wP[t][n].inputRange,r=o[0],a=o[1]}return null!=e.inputRange&&(i=e.inputRange,r=i[0],a=i[1]),[4,(s=new kP(t,n,e.modelUrl,r,a)).load()];case 1:return c.sent(),[2,s]}}))}))}();s(e),console.log("model load")})()}),[]);const o=async e=>{if(a&&e){const t=new Image;t.src=e,t.onload=async()=>{const e=await a.classify(t);r(e)}}};return(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h1",{className:"mt-5",children:"Image Classifier"}),null!=a?(0,ae.jsx)("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:e=>{const n=e.target.files[0];if(n){const e=URL.createObjectURL(n);t(e),o(e)}}}):(0,ae.jsx)("div",{class:"spinner-border",role:"status",children:(0,ae.jsx)("span",{class:"sr-only",children:"Loading..."})}),e&&(0,ae.jsx)("img",{src:e,alt:"Uploaded",width:"30px",style:{height:"auto"}}),(0,ae.jsx)("div",{id:"predictions",children:n&&n.map(((e,t)=>(0,ae.jsx)("p",{children:P6.includes(e.className.toLowerCase())?"The image is valid: ".concat(e.className," (").concat(e.probability.toFixed(4),")"):"Error: The image is of a ".concat(e.className,", testing which is not allowed.")},t)))})]})};function j6(){return(0,ae.jsx)("div",{children:(0,ae.jsxs)(X,{children:[(0,ae.jsx)(mr,{}),(0,ae.jsx)(hr,{}),(0,ae.jsxs)(W.Switch,{children:[(0,ae.jsx)(W.Route,{path:"/",exact:!0,component:$d}),(0,ae.jsx)(W.Route,{path:"/Plans",exact:!0,component:tp}),(0,ae.jsx)(W.Route,{path:"/Features",exact:!0,component:ep}),(0,ae.jsx)(W.Route,{path:"/FAQs",exact:!0,component:rp}),(0,ae.jsx)(W.Route,{path:"/Trainers",exact:!0,component:Jd}),(0,ae.jsx)(W.Route,{path:"/userregistration",exact:!0,component:op}),(0,ae.jsx)(W.Route,{path:"/login",exact:!0,component:By}),(0,ae.jsx)(W.Route,{path:"/dietplan/:plantype",exact:!0,component:Uy}),(0,ae.jsx)(W.Route,{path:"/testing",exact:!0,component:F6}),(0,ae.jsx)(W.Route,{path:"/forgetpassword",exact:!0,component:Gy}),(0,ae.jsx)(W.Route,{path:"/activation/:activation_token",exact:!0,component:jy}),(0,ae.jsx)(W.Route,{path:"/updatepassword/:activation_token",exact:!0,component:Ly}),(0,ae.jsx)(Fy,{path:"/admindashboard",component:My}),(0,ae.jsx)(Fy,{path:"/userstats/:userId",component:Wy}),(0,ae.jsx)(Py,{path:"/user/dashboard",exact:!0,component:ky}),(0,ae.jsx)(Py,{path:"/user/user",exact:!0,component:ky}),(0,ae.jsx)(Py,{path:"/user/notifications",exact:!0,component:ky})]}),(0,ae.jsx)(ap,{}),(0,ae.jsx)(er,{})]})})}U.render((0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(fp,{children:(0,ae.jsx)(kn,{children:(0,ae.jsx)(j6,{})})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.47475a1d.js.map